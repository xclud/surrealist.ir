const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/lottie_light-DC7RA64b.js","assets/react-DmHxDqaV.js","assets/elk.bundled-BsgMx7Np.js"])))=>i.map(i=>d[i]);
var q0=Object.defineProperty;var Jh=e=>{throw TypeError(e)};var Q0=(e,t,n)=>t in e?q0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var st=(e,t,n)=>Q0(e,typeof t!="symbol"?t+"":t,n),yl=(e,t,n)=>t.has(e)||Jh("Cannot "+n);var J=(e,t,n)=>(yl(e,t,"read from private field"),n?n.call(e):t.get(e)),jt=(e,t,n)=>t.has(e)?Jh("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Be=(e,t,n,s)=>(yl(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),ct=(e,t,n)=>(yl(e,t,"access private method"),n);import{P as ve,R as fo,V as Zl,b as Jl,d as Kl,C as Kh,S as ep,t as yd,c as V0}from"./__vite-browser-external-B3eMZhj8.js";import{j as i,Z as vn,G as U,T as _,S as B,f as le,B as G,a as X,A as de,e as Je,ae as on,C as Lt,h as yt,af as go,s as Ar,_ as Ft,g as Me,P as De,c as Fe,p as et,b as Cn,I as Vt,l as cn,d as dt,q as Ee,n as U0,ag as sn,D as Ne,ad as vd,V as W,ah as z0,ai as mo,aj as ys,ak as wd,L as Si,v as Xt,al as Mo,am as B0,U as es,an as Mi,i as Wm,w as H0,X as Zm,W as Y,o as za,ao as Fo,ap as Br,aq as Is,ar as G0,as as Y0,a4 as xn,R as rr,t as ft,at as bo,x as X0,au as Sd,av as eu,aa as W0,aw as tp,ax as np,a0 as Z0}from"./mantime-DzxuLKfp.js";import{F as Kt,u as _n,D as Jm,a as jd,b as Td,L as Pt,E as J0,s as qo,c as Oc,e as Pe,f as Km,p as sp,g as fs,h as Na,i as Ba,n as K0,j as tu,k as ip,t as eS,l as tS,m as nS,o as rp,q as Cc,v as op,w as sS,x as ci,y as Ci,z as Ht,A as xo,B as Pr,C as Fs,G as iS,H as $r,I as Tt,J as Bt,K as eb,R as gi,O as tb,M as nb,N as sb,P as ib,d as _i,T as rb,U as rS,V as Dn,W as Fi,X as br,Y as kn,Z as Ni,_ as Qo,$ as Ed,a0 as nu,a1 as oS,a2 as Lr,a3 as ob,a4 as aS,a5 as cS,a6 as lS,a7 as uS,a8 as dS,a9 as hS,aa as pS,ab as fS,ac as gS,ad as ab,Q as mS,ae as kd,af as cb,ag as bS,ah as xS,ai as yS,aj as vS,ak as wS,al as lb,am as Od,an as ub,ao as SS,ap as jS,aq as TS,S as ES,ar as kS,r as OS}from"./index-v-g9yefV.js";import{bL as F,bM as su,bN as Ze,bO as ie,bP as CS,bQ as _S,bR as re,bS as NS,bT as IS,bU as vs,bV as ri,bW as ue,bX as ms,bY as Ds,bZ as DS,b_ as oo,b$ as db,c0 as or,bo as qn,aw as Ye,y as Se,c1 as hb,c2 as Ia,q as Da,a as fe,I as E,a9 as pb,c as L,n as RS,c3 as AS,i as en,K as PS,ay as Ie,c4 as Cd,C as Zt,R as _c,c5 as iu,c6 as _s,c7 as qi,bC as Vo,u as Qe,c8 as fb,c9 as Ha,L as qt,a1 as It,ca as xr,S as je,P as ts,bF as li,E as Jt,cb as Uo,cc as Nc,a6 as Rt,a4 as wn,cd as er,ag as bt,ce as Jn,cf as gt,cg as _d,t as tn,aW as Ic,ch as we,ci as $S,cj as Dc,ck as Nd,cl as LS,bI as ws,e as Qi,cm as MS,cn as FS,co as qS,cp as yo,a2 as Ls,cq as Vn,cr as QS,aA as ui,cs as gb,aU as Ce,ct as Id,bn as zo,aL as Dd,ad as Mr,cu as mb,aj as yr,ax as bb,as as Rc,cv as ru,af as Ac,ai as vr,cw as ap,bw as Bo,cx as VS,av as Vi,bq as Pc,bj as Ui,U as $c,a7 as US,cy as zS,cz as BS,g as Ho,d as HS,bi as Lc,cA as Rd,cB as Kn,z as ut,M as Ss,cC as xb,cD as GS,cE as YS,cF as XS,cG as yb,cH as WS,cI as ZS,bB as JS,bH as vt,bx as Ad,bJ as vb,cJ as wb,cK as Sb,bE as Go,cL as Mc,$ as ou,cM as KS,bD as jb,m as gn,cN as ej,cO as Tb,o as Fc,bp as tj,ba as Eb,ah as Et,cP as ln,cQ as kb,cR as Ob,cS as nj,cT as Pd,cU as qc,cV as cp,cW as Cb,cX as sj,cY as lp,b6 as Rn,ab as ij,cZ as rj,c_ as oj,c$ as aj,b as _b,_ as au,d0 as cj,b4 as Fr,b7 as Qc,d1 as lj,d2 as uj,b8 as $d,d3 as dj,bd as Nb,d4 as hj,bc as Ib,by as Db,bA as Rb,bz as Ab,bG as pj,aJ as Pb,d5 as fj,ak as Ld,aP as Md,d6 as gj,d7 as mj,d8 as $b,d9 as Lb,aI as bj,aB as xj,at as Mb,da as yj,db as qs,aN as Fd,b9 as vj,Q as Vc,bk as Yo,bl as ns,bm as wj,dc as vl,dd as wl,a8 as ji,bf as Sj,be as jj,de as Tj,df as Ej,dg as kj,a3 as cu,dh as Oj,di as Cj,dj as _j,dk as Ga,bt as up,dl as Nj,dm as lu,dn as Ij,dp as Dj,a$ as Rj,b0 as Aj,b1 as Pj,b2 as $j,b3 as Lj,dq as Uc,ae as Mj,V as Fb,G as qd,dr as Fj,ds as qj,w as eo,Y as Qd,dt as dp,du as Qj,dv as hp,dw as Vd,dx as qb,dy as Qb,an as Ud,dz as Vj,ao as Uj,dA as zj,dB as Bj,dC as Hj,dD as Gj,dE as uu,au as Vb,dF as Yj,dG as Xj,dH as Wj,dI as du,dJ as Zj,dK as pp,dL as Jj,dM as fp,dN as Kj,dO as eT,r as da,al as tT,dP as nT,dQ as zd,dR as gp,dS as Ya,dT as sT,dU as Bd,b5 as Hd,dV as iT,aO as hu,dW as rT,dX as oT,dY as aT,dZ as cT,d_ as lT,d$ as uT,j as dT,a5 as hT,J as Ub,e0 as pT,e1 as fT,e2 as gT,ap as mT,bh as bT,e3 as xT,e4 as yT,e5 as vT,e6 as mp,e7 as bp,e8 as wT,e9 as ST,ea as jT,s as TT}from"./index-BKfNB2Nq.js";import{G as oi}from"./posthog-BV-AQckr.js";import{r as v,R as ET,d as Ii,g as zb}from"./react-DmHxDqaV.js";import{i as rs,E as kT}from"./index-UBFJdVSz.js";import{i as it,_ as Bb,R as Xa,T as Hb,m as xp,g as OT,V as CT}from"./surreal-DG7xeRSZ.js";import{S as Gb,a9 as _T,aa as NT,a0 as IT,$ as DT,Y as Ot,ab as RT,ac as AT,ad as PT,ae as $T,o as Yb,m as LT,E as MT,g as Gd,s as Xo,P as FT,k as qT}from"./codemirror-C1Jmd34s.js";function Yd(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let zi=Yd();function Xb(e){zi=e}const ao={exec:()=>null};function tt(e,t=""){let n=typeof e=="string"?e:e.source;const s={replace:(r,o)=>{let a=typeof o=="string"?o:o.source;return a=a.replace(rn.caret,"$1"),n=n.replace(r,a),s},getRegex:()=>new RegExp(n,t)};return s}const rn={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},QT=/^(?:[ \t]*(?:\n|$))+/,VT=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,UT=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Wo=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,zT=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Wb=/(?:[*+-]|\d{1,9}[.)])/,Zb=tt(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Wb).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Xd=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,BT=/^[^\n]+/,Wd=/(?!\s*\])(?:\\.|[^\[\]\\])+/,HT=tt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Wd).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),GT=tt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Wb).getRegex(),zc="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Zd=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,YT=tt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Zd).replace("tag",zc).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Jb=tt(Xd).replace("hr",Wo).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zc).getRegex(),XT=tt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Jb).getRegex(),Jd={blockquote:XT,code:VT,def:HT,fences:UT,heading:zT,hr:Wo,html:YT,lheading:Zb,list:GT,newline:QT,paragraph:Jb,table:ao,text:BT},yp=tt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Wo).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zc).getRegex(),WT={...Jd,table:yp,paragraph:tt(Xd).replace("hr",Wo).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",yp).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zc).getRegex()},ZT={...Jd,html:tt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Zd).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ao,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:tt(Xd).replace("hr",Wo).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Zb).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Kb=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,JT=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,ex=/^( {2,}|\\)\n(?!\s*$)/,KT=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Zo="\\p{P}\\p{S}",eE=tt(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Zo).getRegex(),tE=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,nE=tt(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Zo).getRegex(),sE=tt("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Zo).getRegex(),iE=tt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Zo).getRegex(),rE=tt(/\\([punct])/,"gu").replace(/punct/g,Zo).getRegex(),oE=tt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),aE=tt(Zd).replace("(?:-->|$)","-->").getRegex(),cE=tt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",aE).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Wa=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,lE=tt(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Wa).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),tx=tt(/^!?\[(label)\]\[(ref)\]/).replace("label",Wa).replace("ref",Wd).getRegex(),nx=tt(/^!?\[(ref)\](?:\[\])?/).replace("ref",Wd).getRegex(),uE=tt("reflink|nolink(?!\\()","g").replace("reflink",tx).replace("nolink",nx).getRegex(),Kd={_backpedal:ao,anyPunctuation:rE,autolink:oE,blockSkip:tE,br:ex,code:JT,del:ao,emStrongLDelim:nE,emStrongRDelimAst:sE,emStrongRDelimUnd:iE,escape:Kb,link:lE,nolink:nx,punctuation:eE,reflink:tx,reflinkSearch:uE,tag:cE,text:KT,url:ao},dE={...Kd,link:tt(/^!?\[(label)\]\((.*?)\)/).replace("label",Wa).getRegex(),reflink:tt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Wa).getRegex()},pu={...Kd,escape:tt(Kb).replace("])","~|])").getRegex(),url:tt(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},hE={...pu,br:tt(ex).replace("{2,}","*").getRegex(),text:tt(pu.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ha={normal:Jd,gfm:WT,pedantic:ZT},Hr={normal:Kd,gfm:pu,breaks:hE,pedantic:dE},pE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},vp=e=>pE[e];function hs(e,t){if(t){if(rn.escapeTest.test(e))return e.replace(rn.escapeReplace,vp)}else if(rn.escapeTestNoEncode.test(e))return e.replace(rn.escapeReplaceNoEncode,vp);return e}function wp(e){try{e=encodeURI(e).replace(rn.percentDecode,"%")}catch{return null}return e}function Sp(e,t){const n=e.replace(rn.findPipe,(o,a,c)=>{let l=!1,u=a;for(;--u>=0&&c[u]==="\\";)l=!l;return l?"|":" |"}),s=n.split(rn.splitPipe);let r=0;if(s[0].trim()||s.shift(),s.length>0&&!s.at(-1)?.trim()&&s.pop(),t)if(s.length>t)s.splice(t);else for(;s.length<t;)s.push("");for(;r<s.length;r++)s[r]=s[r].trim().replace(rn.slashPipe,"|");return s}function Gr(e,t,n){const s=e.length;if(s===0)return"";let r=0;for(;r<s;){const o=e.charAt(s-r-1);if(o===t&&!n)r++;else if(o!==t&&n)r++;else break}return e.slice(0,s-r)}function fE(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let s=0;s<e.length;s++)if(e[s]==="\\")s++;else if(e[s]===t[0])n++;else if(e[s]===t[1]&&(n--,n<0))return s;return-1}function jp(e,t,n,s,r){const o=t.href,a=t.title||null,c=e[1].replace(r.other.outputLinkReplace,"$1");if(e[0].charAt(0)!=="!"){s.state.inLink=!0;const l={type:"link",raw:n,href:o,title:a,text:c,tokens:s.inlineTokens(c)};return s.state.inLink=!1,l}return{type:"image",raw:n,href:o,title:a,text:c}}function gE(e,t,n){const s=e.match(n.other.indentCodeCompensation);if(s===null)return t;const r=s[1];return t.split(`
`).map(o=>{const a=o.match(n.other.beginningSpace);if(a===null)return o;const[c]=a;return c.length>=r.length?o.slice(r.length):o}).join(`
`)}class Za{constructor(t){st(this,"options");st(this,"rules");st(this,"lexer");this.options=t||zi}space(t){const n=this.rules.block.newline.exec(t);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(t){const n=this.rules.block.code.exec(t);if(n){const s=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?s:Gr(s,`
`)}}}fences(t){const n=this.rules.block.fences.exec(t);if(n){const s=n[0],r=gE(s,n[3]||"",this.rules);return{type:"code",raw:s,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:r}}}heading(t){const n=this.rules.block.heading.exec(t);if(n){let s=n[2].trim();if(this.rules.other.endingHash.test(s)){const r=Gr(s,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(s=r.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(t){const n=this.rules.block.hr.exec(t);if(n)return{type:"hr",raw:Gr(n[0],`
`)}}blockquote(t){const n=this.rules.block.blockquote.exec(t);if(n){let s=Gr(n[0],`
`).split(`
`),r="",o="";const a=[];for(;s.length>0;){let c=!1;const l=[];let u;for(u=0;u<s.length;u++)if(this.rules.other.blockquoteStart.test(s[u]))l.push(s[u]),c=!0;else if(!c)l.push(s[u]);else break;s=s.slice(u);const d=l.join(`
`),h=d.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${d}`:d,o=o?`${o}
${h}`:h;const p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,a,!0),this.lexer.state.top=p,s.length===0)break;const f=a.at(-1);if(f?.type==="code")break;if(f?.type==="blockquote"){const g=f,m=g.raw+`
`+s.join(`
`),b=this.blockquote(m);a[a.length-1]=b,r=r.substring(0,r.length-g.raw.length)+b.raw,o=o.substring(0,o.length-g.text.length)+b.text;break}else if(f?.type==="list"){const g=f,m=g.raw+`
`+s.join(`
`),b=this.list(m);a[a.length-1]=b,r=r.substring(0,r.length-f.raw.length)+b.raw,o=o.substring(0,o.length-g.raw.length)+b.raw,s=m.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:a,text:o}}}list(t){let n=this.rules.block.list.exec(t);if(n){let s=n[1].trim();const r=s.length>1,o={type:"list",raw:"",ordered:r,start:r?+s.slice(0,-1):"",loose:!1,items:[]};s=r?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=r?s:"[*+-]");const a=this.rules.other.listItemRegex(s);let c=!1;for(;t;){let u=!1,d="",h="";if(!(n=a.exec(t))||this.rules.block.hr.test(t))break;d=n[0],t=t.substring(d.length);let p=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,T=>" ".repeat(3*T.length)),f=t.split(`
`,1)[0],g=!p.trim(),m=0;if(this.options.pedantic?(m=2,h=p.trimStart()):g?m=n[1].length+1:(m=n[2].search(this.rules.other.nonSpaceChar),m=m>4?1:m,h=p.slice(m),m+=n[1].length),g&&this.rules.other.blankLine.test(f)&&(d+=f+`
`,t=t.substring(f.length+1),u=!0),!u){const T=this.rules.other.nextBulletRegex(m),w=this.rules.other.hrRegex(m),j=this.rules.other.fencesBeginRegex(m),N=this.rules.other.headingBeginRegex(m),I=this.rules.other.htmlBeginRegex(m);for(;t;){const C=t.split(`
`,1)[0];let S;if(f=C,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),S=f):S=f.replace(this.rules.other.tabCharGlobal,"    "),j.test(f)||N.test(f)||I.test(f)||T.test(f)||w.test(f))break;if(S.search(this.rules.other.nonSpaceChar)>=m||!f.trim())h+=`
`+S.slice(m);else{if(g||p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||j.test(p)||N.test(p)||w.test(p))break;h+=`
`+f}!g&&!f.trim()&&(g=!0),d+=C+`
`,t=t.substring(C.length+1),p=S.slice(m)}}o.loose||(c?o.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(c=!0));let b=null,x;this.options.gfm&&(b=this.rules.other.listIsTask.exec(h),b&&(x=b[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:d,task:!!b,checked:x,loose:!1,text:h,tokens:[]}),o.raw+=d}const l=o.items.at(-1);l&&(l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd()),o.raw=o.raw.trimEnd();for(let u=0;u<o.items.length;u++)if(this.lexer.state.top=!1,o.items[u].tokens=this.lexer.blockTokens(o.items[u].text,[]),!o.loose){const d=o.items[u].tokens.filter(p=>p.type==="space"),h=d.length>0&&d.some(p=>this.rules.other.anyLine.test(p.raw));o.loose=h}if(o.loose)for(let u=0;u<o.items.length;u++)o.items[u].loose=!0;return o}}html(t){const n=this.rules.block.html.exec(t);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(t){const n=this.rules.block.def.exec(t);if(n){const s=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:s,raw:n[0],href:r,title:o}}}table(t){const n=this.rules.block.table.exec(t);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;const s=Sp(n[1]),r=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=n[3]?.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:n[0],header:[],align:[],rows:[]};if(s.length===r.length){for(const c of r)this.rules.other.tableAlignRight.test(c)?a.align.push("right"):this.rules.other.tableAlignCenter.test(c)?a.align.push("center"):this.rules.other.tableAlignLeft.test(c)?a.align.push("left"):a.align.push(null);for(let c=0;c<s.length;c++)a.header.push({text:s[c],tokens:this.lexer.inline(s[c]),header:!0,align:a.align[c]});for(const c of o)a.rows.push(Sp(c,a.header.length).map((l,u)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:a.align[u]})));return a}}lheading(t){const n=this.rules.block.lheading.exec(t);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(t){const n=this.rules.block.paragraph.exec(t);if(n){const s=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:s,tokens:this.lexer.inline(s)}}}text(t){const n=this.rules.block.text.exec(t);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(t){const n=this.rules.inline.escape.exec(t);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(t){const n=this.rules.inline.tag.exec(t);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(t){const n=this.rules.inline.link.exec(t);if(n){const s=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(s)){if(!this.rules.other.endAngleBracket.test(s))return;const a=Gr(s.slice(0,-1),"\\");if((s.length-a.length)%2===0)return}else{const a=fE(n[2],"()");if(a>-1){const l=(n[0].indexOf("!")===0?5:4)+n[1].length+a;n[2]=n[2].substring(0,a),n[0]=n[0].substring(0,l).trim(),n[3]=""}}let r=n[2],o="";if(this.options.pedantic){const a=this.rules.other.pedanticHrefTitle.exec(r);a&&(r=a[1],o=a[3])}else o=n[3]?n[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(s)?r=r.slice(1):r=r.slice(1,-1)),jp(n,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(t,n){let s;if((s=this.rules.inline.reflink.exec(t))||(s=this.rules.inline.nolink.exec(t))){const r=(s[2]||s[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=n[r.toLowerCase()];if(!o){const a=s[0].charAt(0);return{type:"text",raw:a,text:a}}return jp(s,o,s[0],this.lexer,this.rules)}}emStrong(t,n,s=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!r||r[3]&&s.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||"")||!s||this.rules.inline.punctuation.exec(s)){const a=[...r[0]].length-1;let c,l,u=a,d=0;const h=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,n=n.slice(-1*t.length+a);(r=h.exec(n))!=null;){if(c=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!c)continue;if(l=[...c].length,r[3]||r[4]){u+=l;continue}else if((r[5]||r[6])&&a%3&&!((a+l)%3)){d+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+d);const p=[...r[0]][0].length,f=t.slice(0,a+r.index+p+l);if(Math.min(a,l)%2){const m=f.slice(1,-1);return{type:"em",raw:f,text:m,tokens:this.lexer.inlineTokens(m)}}const g=f.slice(2,-2);return{type:"strong",raw:f,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(t){const n=this.rules.inline.code.exec(t);if(n){let s=n[2].replace(this.rules.other.newLineCharGlobal," ");const r=this.rules.other.nonSpaceChar.test(s),o=this.rules.other.startingSpaceChar.test(s)&&this.rules.other.endingSpaceChar.test(s);return r&&o&&(s=s.substring(1,s.length-1)),{type:"codespan",raw:n[0],text:s}}}br(t){const n=this.rules.inline.br.exec(t);if(n)return{type:"br",raw:n[0]}}del(t){const n=this.rules.inline.del.exec(t);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(t){const n=this.rules.inline.autolink.exec(t);if(n){let s,r;return n[2]==="@"?(s=n[1],r="mailto:"+s):(s=n[1],r=s),{type:"link",raw:n[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}url(t){let n;if(n=this.rules.inline.url.exec(t)){let s,r;if(n[2]==="@")s=n[0],r="mailto:"+s;else{let o;do o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])?.[0]??"";while(o!==n[0]);s=n[0],n[1]==="www."?r="http://"+n[0]:r=n[0]}return{type:"link",raw:n[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(t){const n=this.rules.inline.text.exec(t);if(n){const s=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:s}}}}class Mn{constructor(t){st(this,"tokens");st(this,"options");st(this,"state");st(this,"tokenizer");st(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||zi,this.options.tokenizer=this.options.tokenizer||new Za,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:rn,block:ha.normal,inline:Hr.normal};this.options.pedantic?(n.block=ha.pedantic,n.inline=Hr.pedantic):this.options.gfm&&(n.block=ha.gfm,this.options.breaks?n.inline=Hr.breaks:n.inline=Hr.gfm),this.tokenizer.rules=n}static get rules(){return{block:ha,inline:Hr}}static lex(t,n){return new Mn(n).lex(t)}static lexInline(t,n){return new Mn(n).inlineTokens(t)}lex(t){t=t.replace(rn.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const s=this.inlineQueue[n];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],s=!1){for(this.options.pedantic&&(t=t.replace(rn.tabCharGlobal,"    ").replace(rn.spaceLine,""));t;){let r;if(this.options.extensions?.block?.some(a=>(r=a.call({lexer:this},t,n))?(t=t.substring(r.raw.length),n.push(r),!0):!1))continue;if(r=this.tokenizer.space(t)){t=t.substring(r.raw.length);const a=n.at(-1);r.raw.length===1&&a!==void 0?a.raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(t)){t=t.substring(r.raw.length);const a=n.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=`
`+r.raw,a.text+=`
`+r.text,this.inlineQueue.at(-1).src=a.text):n.push(r);continue}if(r=this.tokenizer.fences(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(t)){t=t.substring(r.raw.length);const a=n.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=`
`+r.raw,a.text+=`
`+r.raw,this.inlineQueue.at(-1).src=a.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(t)){t=t.substring(r.raw.length),n.push(r);continue}let o=t;if(this.options.extensions?.startBlock){let a=1/0;const c=t.slice(1);let l;this.options.extensions.startBlock.forEach(u=>{l=u.call({lexer:this},c),typeof l=="number"&&l>=0&&(a=Math.min(a,l))}),a<1/0&&a>=0&&(o=t.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o))){const a=n.at(-1);s&&a?.type==="paragraph"?(a.raw+=`
`+r.raw,a.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):n.push(r),s=o.length!==t.length,t=t.substring(r.raw.length);continue}if(r=this.tokenizer.text(t)){t=t.substring(r.raw.length);const a=n.at(-1);a?.type==="text"?(a.raw+=`
`+r.raw,a.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):n.push(r);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let s=t,r=null;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)c.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,r.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let o=!1,a="";for(;t;){o||(a=""),o=!1;let c;if(this.options.extensions?.inline?.some(u=>(c=u.call({lexer:this},t,n))?(t=t.substring(c.raw.length),n.push(c),!0):!1))continue;if(c=this.tokenizer.escape(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.tag(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.link(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(c.raw.length);const u=n.at(-1);c.type==="text"&&u?.type==="text"?(u.raw+=c.raw,u.text+=c.text):n.push(c);continue}if(c=this.tokenizer.emStrong(t,s,a)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.codespan(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.br(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.del(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.autolink(t)){t=t.substring(c.raw.length),n.push(c);continue}if(!this.state.inLink&&(c=this.tokenizer.url(t))){t=t.substring(c.raw.length),n.push(c);continue}let l=t;if(this.options.extensions?.startInline){let u=1/0;const d=t.slice(1);let h;this.options.extensions.startInline.forEach(p=>{h=p.call({lexer:this},d),typeof h=="number"&&h>=0&&(u=Math.min(u,h))}),u<1/0&&u>=0&&(l=t.substring(0,u+1))}if(c=this.tokenizer.inlineText(l)){t=t.substring(c.raw.length),c.raw.slice(-1)!=="_"&&(a=c.raw.slice(-1)),o=!0;const u=n.at(-1);u?.type==="text"?(u.raw+=c.raw,u.text+=c.text):n.push(c);continue}if(t){const u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return n}}class Ja{constructor(t){st(this,"options");st(this,"parser");this.options=t||zi}space(t){return""}code({text:t,lang:n,escaped:s}){const r=(n||"").match(rn.notSpaceStart)?.[0],o=t.replace(rn.endingNewline,"")+`
`;return r?'<pre><code class="language-'+hs(r)+'">'+(s?o:hs(o,!0))+`</code></pre>
`:"<pre><code>"+(s?o:hs(o,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:n}){return`<h${n}>${this.parser.parseInline(t)}</h${n}>
`}hr(t){return`<hr>
`}list(t){const n=t.ordered,s=t.start;let r="";for(let c=0;c<t.items.length;c++){const l=t.items[c];r+=this.listitem(l)}const o=n?"ol":"ul",a=n&&s!==1?' start="'+s+'"':"";return"<"+o+a+`>
`+r+"</"+o+`>
`}listitem(t){let n="";if(t.task){const s=this.checkbox({checked:!!t.checked});t.loose?t.tokens[0]?.type==="paragraph"?(t.tokens[0].text=s+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=s+" "+hs(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:s+" ",text:s+" ",escaped:!0}):n+=s+" "}return n+=this.parser.parse(t.tokens,!!t.loose),`<li>${n}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let n="",s="";for(let o=0;o<t.header.length;o++)s+=this.tablecell(t.header[o]);n+=this.tablerow({text:s});let r="";for(let o=0;o<t.rows.length;o++){const a=t.rows[o];s="";for(let c=0;c<a.length;c++)s+=this.tablecell(a[c]);r+=this.tablerow({text:s})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+r+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){const n=this.parser.parseInline(t.tokens),s=t.header?"th":"td";return(t.align?`<${s} align="${t.align}">`:`<${s}>`)+n+`</${s}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${hs(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:n,tokens:s}){const r=this.parser.parseInline(s),o=wp(t);if(o===null)return r;t=o;let a='<a href="'+t+'"';return n&&(a+=' title="'+hs(n)+'"'),a+=">"+r+"</a>",a}image({href:t,title:n,text:s}){const r=wp(t);if(r===null)return hs(s);t=r;let o=`<img src="${t}" alt="${s}"`;return n&&(o+=` title="${hs(n)}"`),o+=">",o}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:hs(t.text)}}class eh{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}}class Fn{constructor(t){st(this,"options");st(this,"renderer");st(this,"textRenderer");this.options=t||zi,this.options.renderer=this.options.renderer||new Ja,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new eh}static parse(t,n){return new Fn(n).parse(t)}static parseInline(t,n){return new Fn(n).parseInline(t)}parse(t,n=!0){let s="";for(let r=0;r<t.length;r++){const o=t[r];if(this.options.extensions?.renderers?.[o.type]){const c=o,l=this.options.extensions.renderers[c.type].call({parser:this},c);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){s+=l||"";continue}}const a=o;switch(a.type){case"space":{s+=this.renderer.space(a);continue}case"hr":{s+=this.renderer.hr(a);continue}case"heading":{s+=this.renderer.heading(a);continue}case"code":{s+=this.renderer.code(a);continue}case"table":{s+=this.renderer.table(a);continue}case"blockquote":{s+=this.renderer.blockquote(a);continue}case"list":{s+=this.renderer.list(a);continue}case"html":{s+=this.renderer.html(a);continue}case"paragraph":{s+=this.renderer.paragraph(a);continue}case"text":{let c=a,l=this.renderer.text(c);for(;r+1<t.length&&t[r+1].type==="text";)c=t[++r],l+=`
`+this.renderer.text(c);n?s+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):s+=l;continue}default:{const c='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return s}parseInline(t,n=this.renderer){let s="";for(let r=0;r<t.length;r++){const o=t[r];if(this.options.extensions?.renderers?.[o.type]){const c=this.options.extensions.renderers[o.type].call({parser:this},o);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){s+=c||"";continue}}const a=o;switch(a.type){case"escape":{s+=n.text(a);break}case"html":{s+=n.html(a);break}case"link":{s+=n.link(a);break}case"image":{s+=n.image(a);break}case"strong":{s+=n.strong(a);break}case"em":{s+=n.em(a);break}case"codespan":{s+=n.codespan(a);break}case"br":{s+=n.br(a);break}case"del":{s+=n.del(a);break}case"text":{s+=n.text(a);break}default:{const c='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return s}}class co{constructor(t){st(this,"options");st(this,"block");this.options=t||zi}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?Mn.lex:Mn.lexInline}provideParser(){return this.block?Fn.parse:Fn.parseInline}}st(co,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class mE{constructor(...t){st(this,"defaults",Yd());st(this,"options",this.setOptions);st(this,"parse",this.parseMarkdown(!0));st(this,"parseInline",this.parseMarkdown(!1));st(this,"Parser",Fn);st(this,"Renderer",Ja);st(this,"TextRenderer",eh);st(this,"Lexer",Mn);st(this,"Tokenizer",Za);st(this,"Hooks",co);this.use(...t)}walkTokens(t,n){let s=[];for(const r of t)switch(s=s.concat(n.call(this,r)),r.type){case"table":{const o=r;for(const a of o.header)s=s.concat(this.walkTokens(a.tokens,n));for(const a of o.rows)for(const c of a)s=s.concat(this.walkTokens(c.tokens,n));break}case"list":{const o=r;s=s.concat(this.walkTokens(o.items,n));break}default:{const o=r;this.defaults.extensions?.childTokens?.[o.type]?this.defaults.extensions.childTokens[o.type].forEach(a=>{const c=o[a].flat(1/0);s=s.concat(this.walkTokens(c,n))}):o.tokens&&(s=s.concat(this.walkTokens(o.tokens,n)))}}return s}use(...t){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(s=>{const r={...s};if(r.async=this.defaults.async||r.async||!1,s.extensions&&(s.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const a=n.renderers[o.name];a?n.renderers[o.name]=function(...c){let l=o.renderer.apply(this,c);return l===!1&&(l=a.apply(this,c)),l}:n.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=n[o.level];a?a.unshift(o.tokenizer):n[o.level]=[o.tokenizer],o.start&&(o.level==="block"?n.startBlock?n.startBlock.push(o.start):n.startBlock=[o.start]:o.level==="inline"&&(n.startInline?n.startInline.push(o.start):n.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(n.childTokens[o.name]=o.childTokens)}),r.extensions=n),s.renderer){const o=this.defaults.renderer||new Ja(this.defaults);for(const a in s.renderer){if(!(a in o))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;const c=a,l=s.renderer[c],u=o[c];o[c]=(...d)=>{let h=l.apply(o,d);return h===!1&&(h=u.apply(o,d)),h||""}}r.renderer=o}if(s.tokenizer){const o=this.defaults.tokenizer||new Za(this.defaults);for(const a in s.tokenizer){if(!(a in o))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;const c=a,l=s.tokenizer[c],u=o[c];o[c]=(...d)=>{let h=l.apply(o,d);return h===!1&&(h=u.apply(o,d)),h}}r.tokenizer=o}if(s.hooks){const o=this.defaults.hooks||new co;for(const a in s.hooks){if(!(a in o))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;const c=a,l=s.hooks[c],u=o[c];co.passThroughHooks.has(a)?o[c]=d=>{if(this.defaults.async)return Promise.resolve(l.call(o,d)).then(p=>u.call(o,p));const h=l.call(o,d);return u.call(o,h)}:o[c]=(...d)=>{let h=l.apply(o,d);return h===!1&&(h=u.apply(o,d)),h}}r.hooks=o}if(s.walkTokens){const o=this.defaults.walkTokens,a=s.walkTokens;r.walkTokens=function(c){let l=[];return l.push(a.call(this,c)),o&&(l=l.concat(o.call(this,c))),l}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,n){return Mn.lex(t,n??this.defaults)}parser(t,n){return Fn.parse(t,n??this.defaults)}parseMarkdown(t){return(s,r)=>{const o={...r},a={...this.defaults,...o},c=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&o.async===!1)return c(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof s>"u"||s===null)return c(new Error("marked(): input parameter is undefined or null"));if(typeof s!="string")return c(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected"));a.hooks&&(a.hooks.options=a,a.hooks.block=t);const l=a.hooks?a.hooks.provideLexer():t?Mn.lex:Mn.lexInline,u=a.hooks?a.hooks.provideParser():t?Fn.parse:Fn.parseInline;if(a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(s):s).then(d=>l(d,a)).then(d=>a.hooks?a.hooks.processAllTokens(d):d).then(d=>a.walkTokens?Promise.all(this.walkTokens(d,a.walkTokens)).then(()=>d):d).then(d=>u(d,a)).then(d=>a.hooks?a.hooks.postprocess(d):d).catch(c);try{a.hooks&&(s=a.hooks.preprocess(s));let d=l(s,a);a.hooks&&(d=a.hooks.processAllTokens(d)),a.walkTokens&&this.walkTokens(d,a.walkTokens);let h=u(d,a);return a.hooks&&(h=a.hooks.postprocess(h)),h}catch(d){return c(d)}}}onError(t,n){return s=>{if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const r="<p>An error occurred:</p><pre>"+hs(s.message+"",!0)+"</pre>";return n?Promise.resolve(r):r}if(n)return Promise.reject(s);throw s}}}const Di=new mE;function He(e,t){return Di.parse(e,t)}He.options=He.setOptions=function(e){return Di.setOptions(e),He.defaults=Di.defaults,Xb(He.defaults),He};He.getDefaults=Yd;He.defaults=zi;He.use=function(...e){return Di.use(...e),He.defaults=Di.defaults,Xb(He.defaults),He};He.walkTokens=function(e,t){return Di.walkTokens(e,t)};He.parseInline=Di.parseInline;He.Parser=Fn;He.parser=Fn.parse;He.Renderer=Ja;He.TextRenderer=eh;He.Lexer=Mn;He.lexer=Mn.lex;He.Tokenizer=Za;He.Hooks=co;He.parse=He;He.options;He.setOptions;He.use;He.walkTokens;He.parseInline;Fn.parse;Mn.lex;const bE=5;function Ri(e,t){const[n,s]=t?[e,t]:[void 0,e];let r=" Did you mean ";n&&(r+=n+" ");const o=s.map(l=>`"${l}"`);switch(o.length){case 0:return"";case 1:return r+o[0]+"?";case 2:return r+o[0]+" or "+o[1]+"?"}const a=o.slice(0,bE),c=a.pop();return r+a.join(", ")+", or "+c+"?"}function Tp(e){return e}function wr(e,t){const n=Object.create(null);for(const s of e)n[t(s)]=s;return n}function mi(e,t,n){const s=Object.create(null);for(const r of e)s[t(r)]=n(r);return s}function Bc(e,t){const n=Object.create(null);for(const s of Object.keys(e))n[s]=t(e[s],s);return n}function th(e,t){let n=0,s=0;for(;n<e.length&&s<t.length;){let r=e.charCodeAt(n),o=t.charCodeAt(s);if(pa(r)&&pa(o)){let a=0;do++n,a=a*10+r-fu,r=e.charCodeAt(n);while(pa(r)&&a>0);let c=0;do++s,c=c*10+o-fu,o=t.charCodeAt(s);while(pa(o)&&c>0);if(a<c)return-1;if(a>c)return 1}else{if(r<o)return-1;if(r>o)return 1;++n,++s}}return e.length-t.length}const fu=48,xE=57;function pa(e){return!isNaN(e)&&fu<=e&&e<=xE}function qr(e,t){const n=Object.create(null),s=new yE(e),r=Math.floor(e.length*.4)+1;for(const o of t){const a=s.measure(o,r);a!==void 0&&(n[o]=a)}return Object.keys(n).sort((o,a)=>{const c=n[o]-n[a];return c!==0?c:th(o,a)})}class yE{constructor(t){this._input=t,this._inputLowerCase=t.toLowerCase(),this._inputArray=Ep(this._inputLowerCase),this._rows=[new Array(t.length+1).fill(0),new Array(t.length+1).fill(0),new Array(t.length+1).fill(0)]}measure(t,n){if(this._input===t)return 0;const s=t.toLowerCase();if(this._inputLowerCase===s)return 1;let r=Ep(s),o=this._inputArray;if(r.length<o.length){const d=r;r=o,o=d}const a=r.length,c=o.length;if(a-c>n)return;const l=this._rows;for(let d=0;d<=c;d++)l[0][d]=d;for(let d=1;d<=a;d++){const h=l[(d-1)%3],p=l[d%3];let f=p[0]=d;for(let g=1;g<=c;g++){const m=r[d-1]===o[g-1]?0:1;let b=Math.min(h[g]+1,p[g-1]+1,h[g-1]+m);if(d>1&&g>1&&r[d-1]===o[g-2]&&r[d-2]===o[g-1]){const x=l[(d-2)%3][g-2];b=Math.min(b,x+1)}b<f&&(f=b),p[g]=b}if(f>n)return}const u=l[a%3][c];return u<=n?u:void 0}}function Ep(e){const t=e.length,n=new Array(t);for(let s=0;s<t;++s)n[s]=e.charCodeAt(s);return n}function Un(e){if(e==null)return Object.create(null);if(Object.getPrototypeOf(e)===null)return e;const t=Object.create(null);for(const[n,s]of Object.entries(e))t[n]=s;return t}function vE(e){return`"${e.replace(wE,SE)}"`}const wE=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function SE(e){return jE[e.charCodeAt(0)]}const jE=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],tr=Object.freeze({});function Hc(e,t,n=CS){const s=new Map;for(const x of Object.values(F))s.set(x,Ka(t,x));let r,o=Array.isArray(e),a=[e],c=-1,l=[],u=e,d,h;const p=[],f=[];do{c++;const x=c===a.length,T=x&&l.length!==0;if(x){if(d=f.length===0?void 0:p[p.length-1],u=h,h=f.pop(),T)if(o){u=u.slice();let j=0;for(const[N,I]of l){const C=N-j;I===null?(u.splice(C,1),j++):u[C]=I}}else{u=Object.defineProperties({},Object.getOwnPropertyDescriptors(u));for(const[j,N]of l)u[j]=N}c=r.index,a=r.keys,l=r.edits,o=r.inArray,r=r.prev}else if(h){if(d=o?c:a[c],u=h[d],u==null)continue;p.push(d)}let w;if(!Array.isArray(u)){var g,m;su(u)||Ze(!1,`Invalid AST Node: ${ie(u)}.`);const j=x?(g=s.get(u.kind))===null||g===void 0?void 0:g.leave:(m=s.get(u.kind))===null||m===void 0?void 0:m.enter;if(w=j?.call(t,u,d,h,p,f),w===tr)break;if(w===!1){if(!x){p.pop();continue}}else if(w!==void 0&&(l.push([d,w]),!x))if(su(w))u=w;else{p.pop();continue}}if(w===void 0&&T&&l.push([d,u]),x)p.pop();else{var b;r={inArray:o,index:c,keys:a,edits:l,prev:r},o=Array.isArray(u),a=o?u:(b=n[u.kind])!==null&&b!==void 0?b:[],c=-1,l=[],h&&f.push(h),h=u}}while(r!==void 0);return l.length!==0?l[l.length-1][1]:e}function TE(e){const t=new Array(e.length).fill(null),n=Object.create(null);for(const s of Object.values(F)){let r=!1;const o=new Array(e.length).fill(void 0),a=new Array(e.length).fill(void 0);for(let l=0;l<e.length;++l){const{enter:u,leave:d}=Ka(e[l],s);r||(r=u!=null||d!=null),o[l]=u,a[l]=d}if(!r)continue;const c={enter(...l){const u=l[0];for(let h=0;h<e.length;h++)if(t[h]===null){var d;const p=(d=o[h])===null||d===void 0?void 0:d.apply(e[h],l);if(p===!1)t[h]=u;else if(p===tr)t[h]=tr;else if(p!==void 0)return p}},leave(...l){const u=l[0];for(let h=0;h<e.length;h++)if(t[h]===null){var d;const p=(d=a[h])===null||d===void 0?void 0:d.apply(e[h],l);if(p===tr)t[h]=tr;else if(p!==void 0&&p!==!1)return p}else t[h]===u&&(t[h]=null)}};n[s]=c}return n}function Ka(e,t){const n=e[t];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function Mt(e){return Hc(e,kE)}const EE=80,kE={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>pe(e.definitions,`

`)},OperationDefinition:{leave(e){const t=Re("(",pe(e.variableDefinitions,", "),")"),n=pe([e.operation,pe([e.name,t]),pe(e.directives," ")]," ");return(n==="query"?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:s})=>e+": "+t+Re(" = ",n)+Re(" ",pe(s," "))},SelectionSet:{leave:({selections:e})=>Bn(e)},Field:{leave({alias:e,name:t,arguments:n,directives:s,selectionSet:r}){const o=Re("",e,": ")+t;let a=o+Re("(",pe(n,", "),")");return a.length>EE&&(a=o+Re(`(
`,Ra(pe(n,`
`)),`
)`)),pe([a,pe(s," "),r]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+Re(" ",pe(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>pe(["...",Re("on ",e),pe(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:s,selectionSet:r})=>`fragment ${e}${Re("(",pe(n,", "),")")} on ${t} ${Re("",pe(s," ")," ")}`+r},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?_S(e):vE(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+pe(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+pe(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+Re("(",pe(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>Re("",e,`
`)+pe(["schema",pe(t," "),Bn(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>Re("",e,`
`)+pe(["scalar",t,pe(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:s,fields:r})=>Re("",e,`
`)+pe(["type",t,Re("implements ",pe(n," & ")),pe(s," "),Bn(r)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:s,directives:r})=>Re("",e,`
`)+t+(kp(n)?Re(`(
`,Ra(pe(n,`
`)),`
)`):Re("(",pe(n,", "),")"))+": "+s+Re(" ",pe(r," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:s,directives:r})=>Re("",e,`
`)+pe([t+": "+n,Re("= ",s),pe(r," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:s,fields:r})=>Re("",e,`
`)+pe(["interface",t,Re("implements ",pe(n," & ")),pe(s," "),Bn(r)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:s})=>Re("",e,`
`)+pe(["union",t,pe(n," "),Re("= ",pe(s," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:s})=>Re("",e,`
`)+pe(["enum",t,pe(n," "),Bn(s)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>Re("",e,`
`)+pe([t,pe(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:s})=>Re("",e,`
`)+pe(["input",t,pe(n," "),Bn(s)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:s,locations:r})=>Re("",e,`
`)+"directive @"+t+(kp(n)?Re(`(
`,Ra(pe(n,`
`)),`
)`):Re("(",pe(n,", "),")"))+(s?" repeatable":"")+" on "+pe(r," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>pe(["extend schema",pe(e," "),Bn(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>pe(["extend scalar",e,pe(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:s})=>pe(["extend type",e,Re("implements ",pe(t," & ")),pe(n," "),Bn(s)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:s})=>pe(["extend interface",e,Re("implements ",pe(t," & ")),pe(n," "),Bn(s)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>pe(["extend union",e,pe(t," "),Re("= ",pe(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>pe(["extend enum",e,pe(t," "),Bn(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>pe(["extend input",e,pe(t," "),Bn(n)]," ")}};function pe(e,t=""){var n;return(n=e?.filter(s=>s).join(t))!==null&&n!==void 0?n:""}function Bn(e){return Re(`{
`,Ra(pe(e,`
`)),`
}`)}function Re(e,t,n=""){return t!=null&&t!==""?e+t+n:""}function Ra(e){return Re("  ",e.replace(/\n/g,`
  `))}function kp(e){var t;return(t=e?.some(n=>n.includes(`
`)))!==null&&t!==void 0?t:!1}function gu(e,t){switch(e.kind){case F.NULL:return null;case F.INT:return parseInt(e.value,10);case F.FLOAT:return parseFloat(e.value);case F.STRING:case F.ENUM:case F.BOOLEAN:return e.value;case F.LIST:return e.values.map(n=>gu(n,t));case F.OBJECT:return mi(e.fields,n=>n.name.value,n=>gu(n.value,t));case F.VARIABLE:return t?.[e.name.value]}}function os(e){if(e!=null||Ze(!1,"Must provide name."),typeof e=="string"||Ze(!1,"Expected name to be a string."),e.length===0)throw new re("Expected name to be a non-empty string.");for(let t=1;t<e.length;++t)if(!NS(e.charCodeAt(t)))throw new re(`Names must only contain [_a-zA-Z0-9] but "${e}" does not.`);if(!IS(e.charCodeAt(0)))throw new re(`Names must start with [_a-zA-Z] but "${e}" does not.`);return e}function OE(e){if(e==="true"||e==="false"||e==="null")throw new re(`Enum values cannot be named: ${e}`);return os(e)}function nh(e){return Bi(e)||mt(e)||wt(e)||ss(e)||is(e)||Gt(e)||Yt(e)||Ke(e)}function Bi(e){return vs(e,Hi)}function mt(e){return vs(e,js)}function CE(e){if(!mt(e))throw new Error(`Expected ${ie(e)} to be a GraphQL Object type.`);return e}function wt(e){return vs(e,cr)}function _E(e){if(!wt(e))throw new Error(`Expected ${ie(e)} to be a GraphQL Interface type.`);return e}function ss(e){return vs(e,dx)}function is(e){return vs(e,Qr)}function Gt(e){return vs(e,rh)}function Yt(e){return vs(e,mn)}function Ke(e){return vs(e,Ae)}function jn(e){return Bi(e)||is(e)||Gt(e)||sh(e)&&jn(e.ofType)}function Ti(e){return Bi(e)||mt(e)||wt(e)||ss(e)||is(e)||sh(e)&&Ti(e.ofType)}function Sr(e){return Bi(e)||is(e)}function Nn(e){return mt(e)||wt(e)||ss(e)}function bs(e){return wt(e)||ss(e)}function NE(e){if(!bs(e))throw new Error(`Expected ${ie(e)} to be a GraphQL abstract type.`);return e}class mn{constructor(t){nh(t)||Ze(!1,`Expected ${ie(t)} to be a GraphQL type.`),this.ofType=t}get[Symbol.toStringTag](){return"GraphQLList"}toString(){return"["+String(this.ofType)+"]"}toJSON(){return this.toString()}}class Ae{constructor(t){sx(t)||Ze(!1,`Expected ${ie(t)} to be a GraphQL nullable type.`),this.ofType=t}get[Symbol.toStringTag](){return"GraphQLNonNull"}toString(){return String(this.ofType)+"!"}toJSON(){return this.toString()}}function sh(e){return Yt(e)||Ke(e)}function sx(e){return nh(e)&&!Ke(e)}function IE(e){if(!sx(e))throw new Error(`Expected ${ie(e)} to be a GraphQL nullable type.`);return e}function ih(e){if(e)return Ke(e)?e.ofType:e}function DE(e){return Bi(e)||mt(e)||wt(e)||ss(e)||is(e)||Gt(e)}function _t(e){if(e){let t=e;for(;sh(t);)t=t.ofType;return t}}function ix(e){return typeof e=="function"?e():e}function rx(e){return typeof e=="function"?e():e}class Hi{constructor(t){var n,s,r,o;const a=(n=t.parseValue)!==null&&n!==void 0?n:Tp;this.name=os(t.name),this.description=t.description,this.specifiedByURL=t.specifiedByURL,this.serialize=(s=t.serialize)!==null&&s!==void 0?s:Tp,this.parseValue=a,this.parseLiteral=(r=t.parseLiteral)!==null&&r!==void 0?r:(c,l)=>a(gu(c,l)),this.extensions=Un(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(o=t.extensionASTNodes)!==null&&o!==void 0?o:[],t.specifiedByURL==null||typeof t.specifiedByURL=="string"||Ze(!1,`${this.name} must provide "specifiedByURL" as a string, but got: ${ie(t.specifiedByURL)}.`),t.serialize==null||typeof t.serialize=="function"||Ze(!1,`${this.name} must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.`),t.parseLiteral&&(typeof t.parseValue=="function"&&typeof t.parseLiteral=="function"||Ze(!1,`${this.name} must provide both "parseValue" and "parseLiteral" functions.`))}get[Symbol.toStringTag](){return"GraphQLScalarType"}toConfig(){return{name:this.name,description:this.description,specifiedByURL:this.specifiedByURL,serialize:this.serialize,parseValue:this.parseValue,parseLiteral:this.parseLiteral,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class js{constructor(t){var n;this.name=os(t.name),this.description=t.description,this.isTypeOf=t.isTypeOf,this.extensions=Un(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(n=t.extensionASTNodes)!==null&&n!==void 0?n:[],this._fields=()=>ax(t),this._interfaces=()=>ox(t),t.isTypeOf==null||typeof t.isTypeOf=="function"||Ze(!1,`${this.name} must provide "isTypeOf" as a function, but got: ${ie(t.isTypeOf)}.`)}get[Symbol.toStringTag](){return"GraphQLObjectType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}getInterfaces(){return typeof this._interfaces=="function"&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:lx(this.getFields()),isTypeOf:this.isTypeOf,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function ox(e){var t;const n=ix((t=e.interfaces)!==null&&t!==void 0?t:[]);return Array.isArray(n)||Ze(!1,`${e.name} interfaces must be an Array or a function which returns an Array.`),n}function ax(e){const t=rx(e.fields);return ar(t)||Ze(!1,`${e.name} fields must be an object with field names as keys or a function which returns such an object.`),Bc(t,(n,s)=>{var r;ar(n)||Ze(!1,`${e.name}.${s} field config must be an object.`),n.resolve==null||typeof n.resolve=="function"||Ze(!1,`${e.name}.${s} field resolver must be a function if provided, but got: ${ie(n.resolve)}.`);const o=(r=n.args)!==null&&r!==void 0?r:{};return ar(o)||Ze(!1,`${e.name}.${s} args must be an object with argument names as keys.`),{name:os(s),description:n.description,type:n.type,args:cx(o),resolve:n.resolve,subscribe:n.subscribe,deprecationReason:n.deprecationReason,extensions:Un(n.extensions),astNode:n.astNode}})}function cx(e){return Object.entries(e).map(([t,n])=>({name:os(t),description:n.description,type:n.type,defaultValue:n.defaultValue,deprecationReason:n.deprecationReason,extensions:Un(n.extensions),astNode:n.astNode}))}function ar(e){return ri(e)&&!Array.isArray(e)}function lx(e){return Bc(e,t=>({description:t.description,type:t.type,args:ux(t.args),resolve:t.resolve,subscribe:t.subscribe,deprecationReason:t.deprecationReason,extensions:t.extensions,astNode:t.astNode}))}function ux(e){return mi(e,t=>t.name,t=>({description:t.description,type:t.type,defaultValue:t.defaultValue,deprecationReason:t.deprecationReason,extensions:t.extensions,astNode:t.astNode}))}function Jo(e){return Ke(e.type)&&e.defaultValue===void 0}class cr{constructor(t){var n;this.name=os(t.name),this.description=t.description,this.resolveType=t.resolveType,this.extensions=Un(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(n=t.extensionASTNodes)!==null&&n!==void 0?n:[],this._fields=ax.bind(void 0,t),this._interfaces=ox.bind(void 0,t),t.resolveType==null||typeof t.resolveType=="function"||Ze(!1,`${this.name} must provide "resolveType" as a function, but got: ${ie(t.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLInterfaceType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}getInterfaces(){return typeof this._interfaces=="function"&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:lx(this.getFields()),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class dx{constructor(t){var n;this.name=os(t.name),this.description=t.description,this.resolveType=t.resolveType,this.extensions=Un(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(n=t.extensionASTNodes)!==null&&n!==void 0?n:[],this._types=RE.bind(void 0,t),t.resolveType==null||typeof t.resolveType=="function"||Ze(!1,`${this.name} must provide "resolveType" as a function, but got: ${ie(t.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLUnionType"}getTypes(){return typeof this._types=="function"&&(this._types=this._types()),this._types}toConfig(){return{name:this.name,description:this.description,types:this.getTypes(),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function RE(e){const t=ix(e.types);return Array.isArray(t)||Ze(!1,`Must provide Array of types or a function which returns such an array for Union ${e.name}.`),t}class Qr{constructor(t){var n;this.name=os(t.name),this.description=t.description,this.extensions=Un(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(n=t.extensionASTNodes)!==null&&n!==void 0?n:[],this._values=typeof t.values=="function"?t.values:Op(this.name,t.values),this._valueLookup=null,this._nameLookup=null}get[Symbol.toStringTag](){return"GraphQLEnumType"}getValues(){return typeof this._values=="function"&&(this._values=Op(this.name,this._values())),this._values}getValue(t){return this._nameLookup===null&&(this._nameLookup=wr(this.getValues(),n=>n.name)),this._nameLookup[t]}serialize(t){this._valueLookup===null&&(this._valueLookup=new Map(this.getValues().map(s=>[s.value,s])));const n=this._valueLookup.get(t);if(n===void 0)throw new re(`Enum "${this.name}" cannot represent value: ${ie(t)}`);return n.name}parseValue(t){if(typeof t!="string"){const s=ie(t);throw new re(`Enum "${this.name}" cannot represent non-string value: ${s}.`+fa(this,s))}const n=this.getValue(t);if(n==null)throw new re(`Value "${t}" does not exist in "${this.name}" enum.`+fa(this,t));return n.value}parseLiteral(t,n){if(t.kind!==F.ENUM){const r=Mt(t);throw new re(`Enum "${this.name}" cannot represent non-enum value: ${r}.`+fa(this,r),{nodes:t})}const s=this.getValue(t.value);if(s==null){const r=Mt(t);throw new re(`Value "${r}" does not exist in "${this.name}" enum.`+fa(this,r),{nodes:t})}return s.value}toConfig(){const t=mi(this.getValues(),n=>n.name,n=>({description:n.description,value:n.value,deprecationReason:n.deprecationReason,extensions:n.extensions,astNode:n.astNode}));return{name:this.name,description:this.description,values:t,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function fa(e,t){const n=e.getValues().map(r=>r.name),s=qr(t,n);return Ri("the enum value",s)}function Op(e,t){return ar(t)||Ze(!1,`${e} values must be an object with value names as keys.`),Object.entries(t).map(([n,s])=>(ar(s)||Ze(!1,`${e}.${n} must refer to an object with a "value" key representing an internal value but got: ${ie(s)}.`),{name:OE(n),description:s.description,value:s.value!==void 0?s.value:n,deprecationReason:s.deprecationReason,extensions:Un(s.extensions),astNode:s.astNode}))}class rh{constructor(t){var n,s;this.name=os(t.name),this.description=t.description,this.extensions=Un(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(n=t.extensionASTNodes)!==null&&n!==void 0?n:[],this.isOneOf=(s=t.isOneOf)!==null&&s!==void 0?s:!1,this._fields=AE.bind(void 0,t)}get[Symbol.toStringTag](){return"GraphQLInputObjectType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}toConfig(){const t=Bc(this.getFields(),n=>({description:n.description,type:n.type,defaultValue:n.defaultValue,deprecationReason:n.deprecationReason,extensions:n.extensions,astNode:n.astNode}));return{name:this.name,description:this.description,fields:t,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,isOneOf:this.isOneOf}}toString(){return this.name}toJSON(){return this.toString()}}function AE(e){const t=rx(e.fields);return ar(t)||Ze(!1,`${e.name} fields must be an object with field names as keys or a function which returns such an object.`),Bc(t,(n,s)=>(!("resolve"in n)||Ze(!1,`${e.name}.${s} field has a resolve property, but Input Types cannot define resolvers.`),{name:os(s),description:n.description,type:n.type,defaultValue:n.defaultValue,deprecationReason:n.deprecationReason,extensions:Un(n.extensions),astNode:n.astNode}))}function hx(e){return Ke(e.type)&&e.defaultValue===void 0}function mu(e,t){return e===t?!0:Ke(e)&&Ke(t)||Yt(e)&&Yt(t)?mu(e.ofType,t.ofType):!1}function lr(e,t,n){return t===n?!0:Ke(n)?Ke(t)?lr(e,t.ofType,n.ofType):!1:Ke(t)?lr(e,t.ofType,n):Yt(n)?Yt(t)?lr(e,t.ofType,n.ofType):!1:Yt(t)?!1:bs(n)&&(wt(t)||mt(t))&&e.isSubType(n,t)}function bu(e,t,n){return t===n?!0:bs(t)?bs(n)?e.getPossibleTypes(t).some(s=>e.isSubType(n,s)):e.isSubType(t,n):bs(n)?e.isSubType(n,t):!1}const Sl=2147483647,jl=-2147483648,PE=new Hi({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.",serialize(e){const t=Ko(e);if(typeof t=="boolean")return t?1:0;let n=t;if(typeof t=="string"&&t!==""&&(n=Number(t)),typeof n!="number"||!Number.isInteger(n))throw new re(`Int cannot represent non-integer value: ${ie(t)}`);if(n>Sl||n<jl)throw new re("Int cannot represent non 32-bit signed integer value: "+ie(t));return n},parseValue(e){if(typeof e!="number"||!Number.isInteger(e))throw new re(`Int cannot represent non-integer value: ${ie(e)}`);if(e>Sl||e<jl)throw new re(`Int cannot represent non 32-bit signed integer value: ${e}`);return e},parseLiteral(e){if(e.kind!==F.INT)throw new re(`Int cannot represent non-integer value: ${Mt(e)}`,{nodes:e});const t=parseInt(e.value,10);if(t>Sl||t<jl)throw new re(`Int cannot represent non 32-bit signed integer value: ${e.value}`,{nodes:e});return t}}),$E=new Hi({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](https://en.wikipedia.org/wiki/IEEE_floating_point).",serialize(e){const t=Ko(e);if(typeof t=="boolean")return t?1:0;let n=t;if(typeof t=="string"&&t!==""&&(n=Number(t)),typeof n!="number"||!Number.isFinite(n))throw new re(`Float cannot represent non numeric value: ${ie(t)}`);return n},parseValue(e){if(typeof e!="number"||!Number.isFinite(e))throw new re(`Float cannot represent non numeric value: ${ie(e)}`);return e},parseLiteral(e){if(e.kind!==F.FLOAT&&e.kind!==F.INT)throw new re(`Float cannot represent non numeric value: ${Mt(e)}`,e);return parseFloat(e.value)}}),Nt=new Hi({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize(e){const t=Ko(e);if(typeof t=="string")return t;if(typeof t=="boolean")return t?"true":"false";if(typeof t=="number"&&Number.isFinite(t))return t.toString();throw new re(`String cannot represent value: ${ie(e)}`)},parseValue(e){if(typeof e!="string")throw new re(`String cannot represent a non string value: ${ie(e)}`);return e},parseLiteral(e){if(e.kind!==F.STRING)throw new re(`String cannot represent a non string value: ${Mt(e)}`,{nodes:e});return e.value}}),Qt=new Hi({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize(e){const t=Ko(e);if(typeof t=="boolean")return t;if(Number.isFinite(t))return t!==0;throw new re(`Boolean cannot represent a non boolean value: ${ie(t)}`)},parseValue(e){if(typeof e!="boolean")throw new re(`Boolean cannot represent a non boolean value: ${ie(e)}`);return e},parseLiteral(e){if(e.kind!==F.BOOLEAN)throw new re(`Boolean cannot represent a non boolean value: ${Mt(e)}`,{nodes:e});return e.value}}),px=new Hi({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize(e){const t=Ko(e);if(typeof t=="string")return t;if(Number.isInteger(t))return String(t);throw new re(`ID cannot represent value: ${ie(e)}`)},parseValue(e){if(typeof e=="string")return e;if(typeof e=="number"&&Number.isInteger(e))return e.toString();throw new re(`ID cannot represent value: ${ie(e)}`)},parseLiteral(e){if(e.kind!==F.STRING&&e.kind!==F.INT)throw new re("ID cannot represent a non-string and non-integer value: "+Mt(e),{nodes:e});return e.value}}),fx=Object.freeze([Nt,PE,$E,Qt,px]);function Ko(e){if(ri(e)){if(typeof e.valueOf=="function"){const t=e.valueOf();if(!ri(t))return t}if(typeof e.toJSON=="function")return e.toJSON()}return e}function gx(e){return vs(e,Gi)}class Gi{constructor(t){var n,s;this.name=os(t.name),this.description=t.description,this.locations=t.locations,this.isRepeatable=(n=t.isRepeatable)!==null&&n!==void 0?n:!1,this.extensions=Un(t.extensions),this.astNode=t.astNode,Array.isArray(t.locations)||Ze(!1,`@${t.name} locations must be an Array.`);const r=(s=t.args)!==null&&s!==void 0?s:{};ri(r)&&!Array.isArray(r)||Ze(!1,`@${t.name} args must be an object with argument names as keys.`),this.args=cx(r)}get[Symbol.toStringTag](){return"GraphQLDirective"}toConfig(){return{name:this.name,description:this.description,locations:this.locations,args:ux(this.args),isRepeatable:this.isRepeatable,extensions:this.extensions,astNode:this.astNode}}toString(){return"@"+this.name}toJSON(){return this.toString()}}const mx=new Gi({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[ue.FIELD,ue.FRAGMENT_SPREAD,ue.INLINE_FRAGMENT],args:{if:{type:new Ae(Qt),description:"Included when true."}}}),bx=new Gi({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[ue.FIELD,ue.FRAGMENT_SPREAD,ue.INLINE_FRAGMENT],args:{if:{type:new Ae(Qt),description:"Skipped when true."}}}),LE="No longer supported",xx=new Gi({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[ue.FIELD_DEFINITION,ue.ARGUMENT_DEFINITION,ue.INPUT_FIELD_DEFINITION,ue.ENUM_VALUE],args:{reason:{type:Nt,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted using the Markdown syntax, as specified by [CommonMark](https://commonmark.org/).",defaultValue:LE}}}),ME=new Gi({name:"specifiedBy",description:"Exposes a URL that specifies the behavior of this scalar.",locations:[ue.SCALAR],args:{url:{type:new Ae(Nt),description:"The URL that specifies the behavior of this scalar."}}}),FE=new Gi({name:"oneOf",description:"Indicates exactly one field must be supplied and this field must not be `null`.",locations:[ue.INPUT_OBJECT],args:{}}),ea=Object.freeze([mx,bx,xx,ME,FE]);function qE(e){return typeof e=="object"&&typeof e?.[Symbol.iterator]=="function"}function to(e,t){if(Ke(t)){const n=to(e,t.ofType);return n?.kind===F.NULL?null:n}if(e===null)return{kind:F.NULL};if(e===void 0)return null;if(Yt(t)){const n=t.ofType;if(qE(e)){const s=[];for(const r of e){const o=to(r,n);o!=null&&s.push(o)}return{kind:F.LIST,values:s}}return to(e,n)}if(Gt(t)){if(!ri(e))return null;const n=[];for(const s of Object.values(t.getFields())){const r=to(e[s.name],s.type);r&&n.push({kind:F.OBJECT_FIELD,name:{kind:F.NAME,value:s.name},value:r})}return{kind:F.OBJECT,fields:n}}if(Sr(t)){const n=t.serialize(e);if(n==null)return null;if(typeof n=="boolean")return{kind:F.BOOLEAN,value:n};if(typeof n=="number"&&Number.isFinite(n)){const s=String(n);return Cp.test(s)?{kind:F.INT,value:s}:{kind:F.FLOAT,value:s}}if(typeof n=="string")return is(t)?{kind:F.ENUM,value:n}:t===px&&Cp.test(n)?{kind:F.INT,value:n}:{kind:F.STRING,value:n};throw new TypeError(`Cannot convert value to AST: ${ie(n)}.`)}ms(!1,"Unexpected input type: "+ie(t))}const Cp=/^-?(?:0|[1-9][0-9]*)$/,oh=new js({name:"__Schema",description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:()=>({description:{type:Nt,resolve:e=>e.description},types:{description:"A list of all types supported by this server.",type:new Ae(new mn(new Ae(Wn))),resolve(e){return Object.values(e.getTypeMap())}},queryType:{description:"The type that query operations will be rooted at.",type:new Ae(Wn),resolve:e=>e.getQueryType()},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:Wn,resolve:e=>e.getMutationType()},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:Wn,resolve:e=>e.getSubscriptionType()},directives:{description:"A list of all directives supported by this server.",type:new Ae(new mn(new Ae(yx))),resolve:e=>e.getDirectives()}})}),yx=new js({name:"__Directive",description:`A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.

In some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.`,fields:()=>({name:{type:new Ae(Nt),resolve:e=>e.name},description:{type:Nt,resolve:e=>e.description},isRepeatable:{type:new Ae(Qt),resolve:e=>e.isRepeatable},locations:{type:new Ae(new mn(new Ae(vx))),resolve:e=>e.locations},args:{type:new Ae(new mn(new Ae(Gc))),args:{includeDeprecated:{type:Qt,defaultValue:!1}},resolve(e,{includeDeprecated:t}){return t?e.args:e.args.filter(n=>n.deprecationReason==null)}}})}),vx=new Qr({name:"__DirectiveLocation",description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:ue.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:ue.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:ue.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:ue.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:ue.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:ue.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:ue.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},VARIABLE_DEFINITION:{value:ue.VARIABLE_DEFINITION,description:"Location adjacent to a variable definition."},SCHEMA:{value:ue.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:ue.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:ue.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:ue.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:ue.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:ue.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:ue.UNION,description:"Location adjacent to a union definition."},ENUM:{value:ue.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:ue.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:ue.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:ue.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),Wn=new js({name:"__Type",description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name, description and optional `specifiedByURL`, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:()=>({kind:{type:new Ae(jx),resolve(e){if(Bi(e))return rt.SCALAR;if(mt(e))return rt.OBJECT;if(wt(e))return rt.INTERFACE;if(ss(e))return rt.UNION;if(is(e))return rt.ENUM;if(Gt(e))return rt.INPUT_OBJECT;if(Yt(e))return rt.LIST;if(Ke(e))return rt.NON_NULL;ms(!1,`Unexpected type: "${ie(e)}".`)}},name:{type:Nt,resolve:e=>"name"in e?e.name:void 0},description:{type:Nt,resolve:e=>"description"in e?e.description:void 0},specifiedByURL:{type:Nt,resolve:e=>"specifiedByURL"in e?e.specifiedByURL:void 0},fields:{type:new mn(new Ae(wx)),args:{includeDeprecated:{type:Qt,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if(mt(e)||wt(e)){const n=Object.values(e.getFields());return t?n:n.filter(s=>s.deprecationReason==null)}}},interfaces:{type:new mn(new Ae(Wn)),resolve(e){if(mt(e)||wt(e))return e.getInterfaces()}},possibleTypes:{type:new mn(new Ae(Wn)),resolve(e,t,n,{schema:s}){if(bs(e))return s.getPossibleTypes(e)}},enumValues:{type:new mn(new Ae(Sx)),args:{includeDeprecated:{type:Qt,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if(is(e)){const n=e.getValues();return t?n:n.filter(s=>s.deprecationReason==null)}}},inputFields:{type:new mn(new Ae(Gc)),args:{includeDeprecated:{type:Qt,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if(Gt(e)){const n=Object.values(e.getFields());return t?n:n.filter(s=>s.deprecationReason==null)}}},ofType:{type:Wn,resolve:e=>"ofType"in e?e.ofType:void 0},isOneOf:{type:Qt,resolve:e=>{if(Gt(e))return e.isOneOf}}})}),wx=new js({name:"__Field",description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:()=>({name:{type:new Ae(Nt),resolve:e=>e.name},description:{type:Nt,resolve:e=>e.description},args:{type:new Ae(new mn(new Ae(Gc))),args:{includeDeprecated:{type:Qt,defaultValue:!1}},resolve(e,{includeDeprecated:t}){return t?e.args:e.args.filter(n=>n.deprecationReason==null)}},type:{type:new Ae(Wn),resolve:e=>e.type},isDeprecated:{type:new Ae(Qt),resolve:e=>e.deprecationReason!=null},deprecationReason:{type:Nt,resolve:e=>e.deprecationReason}})}),Gc=new js({name:"__InputValue",description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:()=>({name:{type:new Ae(Nt),resolve:e=>e.name},description:{type:Nt,resolve:e=>e.description},type:{type:new Ae(Wn),resolve:e=>e.type},defaultValue:{type:Nt,description:"A GraphQL-formatted string representing the default value for this input value.",resolve(e){const{type:t,defaultValue:n}=e,s=to(n,t);return s?Mt(s):null}},isDeprecated:{type:new Ae(Qt),resolve:e=>e.deprecationReason!=null},deprecationReason:{type:Nt,resolve:e=>e.deprecationReason}})}),Sx=new js({name:"__EnumValue",description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:()=>({name:{type:new Ae(Nt),resolve:e=>e.name},description:{type:Nt,resolve:e=>e.description},isDeprecated:{type:new Ae(Qt),resolve:e=>e.deprecationReason!=null},deprecationReason:{type:Nt,resolve:e=>e.deprecationReason}})});var rt;(function(e){e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.INPUT_OBJECT="INPUT_OBJECT",e.LIST="LIST",e.NON_NULL="NON_NULL"})(rt||(rt={}));const jx=new Qr({name:"__TypeKind",description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:rt.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:rt.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:rt.INTERFACE,description:"Indicates this type is an interface. `fields`, `interfaces`, and `possibleTypes` are valid fields."},UNION:{value:rt.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:rt.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:rt.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:rt.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:rt.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}}),vo={name:"__schema",type:new Ae(oh),description:"Access the current type schema of this server.",args:[],resolve:(e,t,n,{schema:s})=>s,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},wo={name:"__type",type:Wn,description:"Request the type information of a single type.",args:[{name:"name",description:void 0,type:new Ae(Nt),defaultValue:void 0,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0}],resolve:(e,{name:t},n,{schema:s})=>s.getType(t),deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},So={name:"__typename",type:new Ae(Nt),description:"The name of the current Object type at runtime.",args:[],resolve:(e,t,n,{parentType:s})=>s.name,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},ah=Object.freeze([oh,yx,vx,Wn,wx,Gc,Sx,jx]);function QE(e){return ah.some(({name:t})=>e.name===t)}function VE(e){return vs(e,Tx)}function UE(e){if(!VE(e))throw new Error(`Expected ${ie(e)} to be a GraphQL schema.`);return e}class Tx{constructor(t){var n,s;this.__validationErrors=t.assumeValid===!0?[]:void 0,ri(t)||Ze(!1,"Must provide configuration object."),!t.types||Array.isArray(t.types)||Ze(!1,`"types" must be Array if provided but got: ${ie(t.types)}.`),!t.directives||Array.isArray(t.directives)||Ze(!1,`"directives" must be Array if provided but got: ${ie(t.directives)}.`),this.description=t.description,this.extensions=Un(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(n=t.extensionASTNodes)!==null&&n!==void 0?n:[],this._queryType=t.query,this._mutationType=t.mutation,this._subscriptionType=t.subscription,this._directives=(s=t.directives)!==null&&s!==void 0?s:ea;const r=new Set(t.types);if(t.types!=null)for(const o of t.types)r.delete(o),Gn(o,r);this._queryType!=null&&Gn(this._queryType,r),this._mutationType!=null&&Gn(this._mutationType,r),this._subscriptionType!=null&&Gn(this._subscriptionType,r);for(const o of this._directives)if(gx(o))for(const a of o.args)Gn(a.type,r);Gn(oh,r),this._typeMap=Object.create(null),this._subTypeMap=Object.create(null),this._implementationsMap=Object.create(null);for(const o of r){if(o==null)continue;const a=o.name;if(a||Ze(!1,"One of the provided types for building the Schema is missing a name."),this._typeMap[a]!==void 0)throw new Error(`Schema must contain uniquely named types but contains multiple types named "${a}".`);if(this._typeMap[a]=o,wt(o)){for(const c of o.getInterfaces())if(wt(c)){let l=this._implementationsMap[c.name];l===void 0&&(l=this._implementationsMap[c.name]={objects:[],interfaces:[]}),l.interfaces.push(o)}}else if(mt(o)){for(const c of o.getInterfaces())if(wt(c)){let l=this._implementationsMap[c.name];l===void 0&&(l=this._implementationsMap[c.name]={objects:[],interfaces:[]}),l.objects.push(o)}}}}get[Symbol.toStringTag](){return"GraphQLSchema"}getQueryType(){return this._queryType}getMutationType(){return this._mutationType}getSubscriptionType(){return this._subscriptionType}getRootType(t){switch(t){case Ds.QUERY:return this.getQueryType();case Ds.MUTATION:return this.getMutationType();case Ds.SUBSCRIPTION:return this.getSubscriptionType()}}getTypeMap(){return this._typeMap}getType(t){return this.getTypeMap()[t]}getPossibleTypes(t){return ss(t)?t.getTypes():this.getImplementations(t).objects}getImplementations(t){const n=this._implementationsMap[t.name];return n??{objects:[],interfaces:[]}}isSubType(t,n){let s=this._subTypeMap[t.name];if(s===void 0){if(s=Object.create(null),ss(t))for(const r of t.getTypes())s[r.name]=!0;else{const r=this.getImplementations(t);for(const o of r.objects)s[o.name]=!0;for(const o of r.interfaces)s[o.name]=!0}this._subTypeMap[t.name]=s}return s[n.name]!==void 0}getDirectives(){return this._directives}getDirective(t){return this.getDirectives().find(n=>n.name===t)}toConfig(){return{description:this.description,query:this.getQueryType(),mutation:this.getMutationType(),subscription:this.getSubscriptionType(),types:Object.values(this.getTypeMap()),directives:this.getDirectives(),extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,assumeValid:this.__validationErrors!==void 0}}}function Gn(e,t){const n=_t(e);if(!t.has(n)){if(t.add(n),ss(n))for(const s of n.getTypes())Gn(s,t);else if(mt(n)||wt(n)){for(const s of n.getInterfaces())Gn(s,t);for(const s of Object.values(n.getFields())){Gn(s.type,t);for(const r of s.args)Gn(r.type,t)}}else if(Gt(n))for(const s of Object.values(n.getFields()))Gn(s.type,t)}return t}function Ex(e){if(UE(e),e.__validationErrors)return e.__validationErrors;const t=new BE(e);HE(t),GE(t),YE(t);const n=t.getErrors();return e.__validationErrors=n,n}function zE(e){const t=Ex(e);if(t.length!==0)throw new Error(t.map(n=>n.message).join(`

`))}class BE{constructor(t){this._errors=[],this.schema=t}reportError(t,n){const s=Array.isArray(n)?n.filter(Boolean):n;this._errors.push(new re(t,{nodes:s}))}getErrors(){return this._errors}}function HE(e){const t=e.schema,n=t.getQueryType();if(!n)e.reportError("Query root type must be provided.",t.astNode);else if(!mt(n)){var s;e.reportError(`Query root type must be Object type, it cannot be ${ie(n)}.`,(s=Tl(t,Ds.QUERY))!==null&&s!==void 0?s:n.astNode)}const r=t.getMutationType();if(r&&!mt(r)){var o;e.reportError(`Mutation root type must be Object type if provided, it cannot be ${ie(r)}.`,(o=Tl(t,Ds.MUTATION))!==null&&o!==void 0?o:r.astNode)}const a=t.getSubscriptionType();if(a&&!mt(a)){var c;e.reportError(`Subscription root type must be Object type if provided, it cannot be ${ie(a)}.`,(c=Tl(t,Ds.SUBSCRIPTION))!==null&&c!==void 0?c:a.astNode)}}function Tl(e,t){var n;return(n=[e.astNode,...e.extensionASTNodes].flatMap(s=>{var r;return(r=s?.operationTypes)!==null&&r!==void 0?r:[]}).find(s=>s.operation===t))===null||n===void 0?void 0:n.type}function GE(e){for(const n of e.schema.getDirectives()){if(!gx(n)){e.reportError(`Expected directive but got: ${ie(n)}.`,n?.astNode);continue}Ai(e,n);for(const s of n.args)if(Ai(e,s),jn(s.type)||e.reportError(`The type of @${n.name}(${s.name}:) must be Input Type but got: ${ie(s.type)}.`,s.astNode),Jo(s)&&s.deprecationReason!=null){var t;e.reportError(`Required argument @${n.name}(${s.name}:) cannot be deprecated.`,[ch(s.astNode),(t=s.astNode)===null||t===void 0?void 0:t.type])}}}function Ai(e,t){t.name.startsWith("__")&&e.reportError(`Name "${t.name}" must not begin with "__", which is reserved by GraphQL introspection.`,t.astNode)}function YE(e){const t=tk(e),n=e.schema.getTypeMap();for(const s of Object.values(n)){if(!DE(s)){e.reportError(`Expected GraphQL named type but got: ${ie(s)}.`,s.astNode);continue}QE(s)||Ai(e,s),mt(s)||wt(s)?(_p(e,s),Np(e,s)):ss(s)?ZE(e,s):is(s)?JE(e,s):Gt(s)&&(KE(e,s),t(s))}}function _p(e,t){const n=Object.values(t.getFields());n.length===0&&e.reportError(`Type ${t.name} must define one or more fields.`,[t.astNode,...t.extensionASTNodes]);for(const a of n){if(Ai(e,a),!Ti(a.type)){var s;e.reportError(`The type of ${t.name}.${a.name} must be Output Type but got: ${ie(a.type)}.`,(s=a.astNode)===null||s===void 0?void 0:s.type)}for(const c of a.args){const l=c.name;if(Ai(e,c),!jn(c.type)){var r;e.reportError(`The type of ${t.name}.${a.name}(${l}:) must be Input Type but got: ${ie(c.type)}.`,(r=c.astNode)===null||r===void 0?void 0:r.type)}if(Jo(c)&&c.deprecationReason!=null){var o;e.reportError(`Required argument ${t.name}.${a.name}(${l}:) cannot be deprecated.`,[ch(c.astNode),(o=c.astNode)===null||o===void 0?void 0:o.type])}}}}function Np(e,t){const n=Object.create(null);for(const s of t.getInterfaces()){if(!wt(s)){e.reportError(`Type ${ie(t)} must only implement Interface types, it cannot implement ${ie(s)}.`,lo(t,s));continue}if(t===s){e.reportError(`Type ${t.name} cannot implement itself because it would create a circular reference.`,lo(t,s));continue}if(n[s.name]){e.reportError(`Type ${t.name} can only implement ${s.name} once.`,lo(t,s));continue}n[s.name]=!0,WE(e,t,s),XE(e,t,s)}}function XE(e,t,n){const s=t.getFields();for(const l of Object.values(n.getFields())){const u=l.name,d=s[u];if(!d){e.reportError(`Interface field ${n.name}.${u} expected but ${t.name} does not provide it.`,[l.astNode,t.astNode,...t.extensionASTNodes]);continue}if(!lr(e.schema,d.type,l.type)){var r,o;e.reportError(`Interface field ${n.name}.${u} expects type ${ie(l.type)} but ${t.name}.${u} is type ${ie(d.type)}.`,[(r=l.astNode)===null||r===void 0?void 0:r.type,(o=d.astNode)===null||o===void 0?void 0:o.type])}for(const h of l.args){const p=h.name,f=d.args.find(g=>g.name===p);if(!f){e.reportError(`Interface field argument ${n.name}.${u}(${p}:) expected but ${t.name}.${u} does not provide it.`,[h.astNode,d.astNode]);continue}if(!mu(h.type,f.type)){var a,c;e.reportError(`Interface field argument ${n.name}.${u}(${p}:) expects type ${ie(h.type)} but ${t.name}.${u}(${p}:) is type ${ie(f.type)}.`,[(a=h.astNode)===null||a===void 0?void 0:a.type,(c=f.astNode)===null||c===void 0?void 0:c.type])}}for(const h of d.args){const p=h.name;!l.args.find(g=>g.name===p)&&Jo(h)&&e.reportError(`Object field ${t.name}.${u} includes required argument ${p} that is missing from the Interface field ${n.name}.${u}.`,[h.astNode,l.astNode])}}}function WE(e,t,n){const s=t.getInterfaces();for(const r of n.getInterfaces())s.includes(r)||e.reportError(r===t?`Type ${t.name} cannot implement ${n.name} because it would create a circular reference.`:`Type ${t.name} must implement ${r.name} because it is implemented by ${n.name}.`,[...lo(n,r),...lo(t,n)])}function ZE(e,t){const n=t.getTypes();n.length===0&&e.reportError(`Union type ${t.name} must define one or more member types.`,[t.astNode,...t.extensionASTNodes]);const s=Object.create(null);for(const r of n){if(s[r.name]){e.reportError(`Union type ${t.name} can only include type ${r.name} once.`,Ip(t,r.name));continue}s[r.name]=!0,mt(r)||e.reportError(`Union type ${t.name} can only include Object types, it cannot include ${ie(r)}.`,Ip(t,String(r)))}}function JE(e,t){const n=t.getValues();n.length===0&&e.reportError(`Enum type ${t.name} must define one or more values.`,[t.astNode,...t.extensionASTNodes]);for(const s of n)Ai(e,s)}function KE(e,t){const n=Object.values(t.getFields());n.length===0&&e.reportError(`Input Object type ${t.name} must define one or more fields.`,[t.astNode,...t.extensionASTNodes]);for(const o of n){if(Ai(e,o),!jn(o.type)){var s;e.reportError(`The type of ${t.name}.${o.name} must be Input Type but got: ${ie(o.type)}.`,(s=o.astNode)===null||s===void 0?void 0:s.type)}if(hx(o)&&o.deprecationReason!=null){var r;e.reportError(`Required input field ${t.name}.${o.name} cannot be deprecated.`,[ch(o.astNode),(r=o.astNode)===null||r===void 0?void 0:r.type])}t.isOneOf&&ek(t,o,e)}}function ek(e,t,n){if(Ke(t.type)){var s;n.reportError(`OneOf input field ${e.name}.${t.name} must be nullable.`,(s=t.astNode)===null||s===void 0?void 0:s.type)}t.defaultValue!==void 0&&n.reportError(`OneOf input field ${e.name}.${t.name} cannot have a default value.`,t.astNode)}function tk(e){const t=Object.create(null),n=[],s=Object.create(null);return r;function r(o){if(t[o.name])return;t[o.name]=!0,s[o.name]=n.length;const a=Object.values(o.getFields());for(const c of a)if(Ke(c.type)&&Gt(c.type.ofType)){const l=c.type.ofType,u=s[l.name];if(n.push(c),u===void 0)r(l);else{const d=n.slice(u),h=d.map(p=>p.name).join(".");e.reportError(`Cannot reference Input Object "${l.name}" within itself through a series of non-null fields: "${h}".`,d.map(p=>p.astNode))}n.pop()}s[o.name]=void 0}}function lo(e,t){const{astNode:n,extensionASTNodes:s}=e;return(n!=null?[n,...s]:s).flatMap(o=>{var a;return(a=o.interfaces)!==null&&a!==void 0?a:[]}).filter(o=>o.name.value===t.name)}function Ip(e,t){const{astNode:n,extensionASTNodes:s}=e;return(n!=null?[n,...s]:s).flatMap(o=>{var a;return(a=o.types)!==null&&a!==void 0?a:[]}).filter(o=>o.name.value===t)}function ch(e){var t;return e==null||(t=e.directives)===null||t===void 0?void 0:t.find(n=>n.name.value===xx.name)}function Qn(e,t){switch(t.kind){case F.LIST_TYPE:{const n=Qn(e,t.type);return n&&new mn(n)}case F.NON_NULL_TYPE:{const n=Qn(e,t.type);return n&&new Ae(n)}case F.NAMED_TYPE:return e.getType(t.name.value)}}class kx{constructor(t,n,s){this._schema=t,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._defaultValueStack=[],this._directive=null,this._argument=null,this._enumValue=null,this._getFieldDef=s??nk,n&&(jn(n)&&this._inputTypeStack.push(n),Nn(n)&&this._parentTypeStack.push(n),Ti(n)&&this._typeStack.push(n))}get[Symbol.toStringTag](){return"TypeInfo"}getType(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]}getParentType(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]}getInputType(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]}getParentInputType(){if(this._inputTypeStack.length>1)return this._inputTypeStack[this._inputTypeStack.length-2]}getFieldDef(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]}getDefaultValue(){if(this._defaultValueStack.length>0)return this._defaultValueStack[this._defaultValueStack.length-1]}getDirective(){return this._directive}getArgument(){return this._argument}getEnumValue(){return this._enumValue}enter(t){const n=this._schema;switch(t.kind){case F.SELECTION_SET:{const r=_t(this.getType());this._parentTypeStack.push(Nn(r)?r:void 0);break}case F.FIELD:{const r=this.getParentType();let o,a;r&&(o=this._getFieldDef(n,r,t),o&&(a=o.type)),this._fieldDefStack.push(o),this._typeStack.push(Ti(a)?a:void 0);break}case F.DIRECTIVE:this._directive=n.getDirective(t.name.value);break;case F.OPERATION_DEFINITION:{const r=n.getRootType(t.operation);this._typeStack.push(mt(r)?r:void 0);break}case F.INLINE_FRAGMENT:case F.FRAGMENT_DEFINITION:{const r=t.typeCondition,o=r?Qn(n,r):_t(this.getType());this._typeStack.push(Ti(o)?o:void 0);break}case F.VARIABLE_DEFINITION:{const r=Qn(n,t.type);this._inputTypeStack.push(jn(r)?r:void 0);break}case F.ARGUMENT:{var s;let r,o;const a=(s=this.getDirective())!==null&&s!==void 0?s:this.getFieldDef();a&&(r=a.args.find(c=>c.name===t.name.value),r&&(o=r.type)),this._argument=r,this._defaultValueStack.push(r?r.defaultValue:void 0),this._inputTypeStack.push(jn(o)?o:void 0);break}case F.LIST:{const r=ih(this.getInputType()),o=Yt(r)?r.ofType:r;this._defaultValueStack.push(void 0),this._inputTypeStack.push(jn(o)?o:void 0);break}case F.OBJECT_FIELD:{const r=_t(this.getInputType());let o,a;Gt(r)&&(a=r.getFields()[t.name.value],a&&(o=a.type)),this._defaultValueStack.push(a?a.defaultValue:void 0),this._inputTypeStack.push(jn(o)?o:void 0);break}case F.ENUM:{const r=_t(this.getInputType());let o;is(r)&&(o=r.getValue(t.value)),this._enumValue=o;break}}}leave(t){switch(t.kind){case F.SELECTION_SET:this._parentTypeStack.pop();break;case F.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case F.DIRECTIVE:this._directive=null;break;case F.OPERATION_DEFINITION:case F.INLINE_FRAGMENT:case F.FRAGMENT_DEFINITION:this._typeStack.pop();break;case F.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case F.ARGUMENT:this._argument=null,this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case F.LIST:case F.OBJECT_FIELD:this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case F.ENUM:this._enumValue=null;break}}}function nk(e,t,n){const s=n.name.value;if(s===vo.name&&e.getQueryType()===t)return vo;if(s===wo.name&&e.getQueryType()===t)return wo;if(s===So.name&&Nn(t))return So;if(mt(t)||wt(t))return t.getFields()[s]}function Ox(e,t){return{enter(...n){const s=n[0];e.enter(s);const r=Ka(t,s.kind).enter;if(r){const o=r.apply(t,n);return o!==void 0&&(e.leave(s),su(o)&&e.enter(o)),o}},leave(...n){const s=n[0],r=Ka(t,s.kind).leave;let o;return r&&(o=r.apply(t,n)),e.leave(s),o}}}function sk(e){return e.kind===F.OPERATION_DEFINITION||e.kind===F.FRAGMENT_DEFINITION}function ik(e){return e.kind===F.SCHEMA_DEFINITION||lh(e)||e.kind===F.DIRECTIVE_DEFINITION}function lh(e){return e.kind===F.SCALAR_TYPE_DEFINITION||e.kind===F.OBJECT_TYPE_DEFINITION||e.kind===F.INTERFACE_TYPE_DEFINITION||e.kind===F.UNION_TYPE_DEFINITION||e.kind===F.ENUM_TYPE_DEFINITION||e.kind===F.INPUT_OBJECT_TYPE_DEFINITION}function rk(e){return e.kind===F.SCHEMA_EXTENSION||Cx(e)}function Cx(e){return e.kind===F.SCALAR_TYPE_EXTENSION||e.kind===F.OBJECT_TYPE_EXTENSION||e.kind===F.INTERFACE_TYPE_EXTENSION||e.kind===F.UNION_TYPE_EXTENSION||e.kind===F.ENUM_TYPE_EXTENSION||e.kind===F.INPUT_OBJECT_TYPE_EXTENSION}function _x(e){return{Document(t){for(const n of t.definitions)if(!sk(n)){const s=n.kind===F.SCHEMA_DEFINITION||n.kind===F.SCHEMA_EXTENSION?"schema":'"'+n.name.value+'"';e.reportError(new re(`The ${s} definition is not executable.`,{nodes:n}))}return!1}}}function ok(e){return{Field(t){const n=e.getParentType();if(n&&!e.getFieldDef()){const r=e.getSchema(),o=t.name.value;let a=Ri("to use an inline fragment on",ak(r,n,o));a===""&&(a=Ri(ck(n,o))),e.reportError(new re(`Cannot query field "${o}" on type "${n.name}".`+a,{nodes:t}))}}}}function ak(e,t,n){if(!bs(t))return[];const s=new Set,r=Object.create(null);for(const a of e.getPossibleTypes(t))if(a.getFields()[n]){s.add(a),r[a.name]=1;for(const c of a.getInterfaces()){var o;c.getFields()[n]&&(s.add(c),r[c.name]=((o=r[c.name])!==null&&o!==void 0?o:0)+1)}}return[...s].sort((a,c)=>{const l=r[c.name]-r[a.name];return l!==0?l:wt(a)&&e.isSubType(a,c)?-1:wt(c)&&e.isSubType(c,a)?1:th(a.name,c.name)}).map(a=>a.name)}function ck(e,t){if(mt(e)||wt(e)){const n=Object.keys(e.getFields());return qr(t,n)}return[]}function lk(e){return{InlineFragment(t){const n=t.typeCondition;if(n){const s=Qn(e.getSchema(),n);if(s&&!Nn(s)){const r=Mt(n);e.reportError(new re(`Fragment cannot condition on non composite type "${r}".`,{nodes:n}))}}},FragmentDefinition(t){const n=Qn(e.getSchema(),t.typeCondition);if(n&&!Nn(n)){const s=Mt(t.typeCondition);e.reportError(new re(`Fragment "${t.name.value}" cannot condition on non composite type "${s}".`,{nodes:t.typeCondition}))}}}}function uk(e){return{...dk(e),Argument(t){const n=e.getArgument(),s=e.getFieldDef(),r=e.getParentType();if(!n&&s&&r){const o=t.name.value,a=s.args.map(l=>l.name),c=qr(o,a);e.reportError(new re(`Unknown argument "${o}" on field "${r.name}.${s.name}".`+Ri(c),{nodes:t}))}}}}function dk(e){const t=Object.create(null),n=e.getSchema(),s=n?n.getDirectives():ea;for(const a of s)t[a.name]=a.args.map(c=>c.name);const r=e.getDocument().definitions;for(const a of r)if(a.kind===F.DIRECTIVE_DEFINITION){var o;const c=(o=a.arguments)!==null&&o!==void 0?o:[];t[a.name.value]=c.map(l=>l.name.value)}return{Directive(a){const c=a.name.value,l=t[c];if(a.arguments&&l)for(const u of a.arguments){const d=u.name.value;if(!l.includes(d)){const h=qr(d,l);e.reportError(new re(`Unknown argument "${d}" on directive "@${c}".`+Ri(h),{nodes:u}))}}return!1}}}function hk(e){const t=Object.create(null),n=e.getSchema(),s=n?n.getDirectives():ea;for(const o of s)t[o.name]=o.locations;const r=e.getDocument().definitions;for(const o of r)o.kind===F.DIRECTIVE_DEFINITION&&(t[o.name.value]=o.locations.map(a=>a.value));return{Directive(o,a,c,l,u){const d=o.name.value,h=t[d];if(!h){e.reportError(new re(`Unknown directive "@${d}".`,{nodes:o}));return}const p=pk(u);p&&!h.includes(p)&&e.reportError(new re(`Directive "@${d}" may not be used on ${p}.`,{nodes:o}))}}}function pk(e){const t=e[e.length-1];switch("kind"in t||ms(!1),t.kind){case F.OPERATION_DEFINITION:return fk(t.operation);case F.FIELD:return ue.FIELD;case F.FRAGMENT_SPREAD:return ue.FRAGMENT_SPREAD;case F.INLINE_FRAGMENT:return ue.INLINE_FRAGMENT;case F.FRAGMENT_DEFINITION:return ue.FRAGMENT_DEFINITION;case F.VARIABLE_DEFINITION:return ue.VARIABLE_DEFINITION;case F.SCHEMA_DEFINITION:case F.SCHEMA_EXTENSION:return ue.SCHEMA;case F.SCALAR_TYPE_DEFINITION:case F.SCALAR_TYPE_EXTENSION:return ue.SCALAR;case F.OBJECT_TYPE_DEFINITION:case F.OBJECT_TYPE_EXTENSION:return ue.OBJECT;case F.FIELD_DEFINITION:return ue.FIELD_DEFINITION;case F.INTERFACE_TYPE_DEFINITION:case F.INTERFACE_TYPE_EXTENSION:return ue.INTERFACE;case F.UNION_TYPE_DEFINITION:case F.UNION_TYPE_EXTENSION:return ue.UNION;case F.ENUM_TYPE_DEFINITION:case F.ENUM_TYPE_EXTENSION:return ue.ENUM;case F.ENUM_VALUE_DEFINITION:return ue.ENUM_VALUE;case F.INPUT_OBJECT_TYPE_DEFINITION:case F.INPUT_OBJECT_TYPE_EXTENSION:return ue.INPUT_OBJECT;case F.INPUT_VALUE_DEFINITION:{const n=e[e.length-3];return"kind"in n||ms(!1),n.kind===F.INPUT_OBJECT_TYPE_DEFINITION?ue.INPUT_FIELD_DEFINITION:ue.ARGUMENT_DEFINITION}default:ms(!1,"Unexpected kind: "+ie(t.kind))}}function fk(e){switch(e){case Ds.QUERY:return ue.QUERY;case Ds.MUTATION:return ue.MUTATION;case Ds.SUBSCRIPTION:return ue.SUBSCRIPTION}}function gk(e){return{FragmentSpread(t){const n=t.name.value;e.getFragment(n)||e.reportError(new re(`Unknown fragment "${n}".`,{nodes:t.name}))}}}function mk(e){const t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),s=Object.create(null);for(const o of e.getDocument().definitions)lh(o)&&(s[o.name.value]=!0);const r=[...Object.keys(n),...Object.keys(s)];return{NamedType(o,a,c,l,u){const d=o.name.value;if(!n[d]&&!s[d]){var h;const p=(h=u[2])!==null&&h!==void 0?h:c,f=p!=null&&bk(p);if(f&&Dp.includes(d))return;const g=qr(d,f?Dp.concat(r):r);e.reportError(new re(`Unknown type "${d}".`+Ri(g),{nodes:o}))}}}}const Dp=[...fx,...ah].map(e=>e.name);function bk(e){return"kind"in e&&(ik(e)||rk(e))}function xk(e){let t=0;return{Document(n){t=n.definitions.filter(s=>s.kind===F.OPERATION_DEFINITION).length},OperationDefinition(n){!n.name&&t>1&&e.reportError(new re("This anonymous operation must be the only defined operation.",{nodes:n}))}}}const yk=3;function vk(e){function t(n,s=Object.create(null),r=0){if(n.kind===F.FRAGMENT_SPREAD){const o=n.name.value;if(s[o]===!0)return!1;const a=e.getFragment(o);if(!a)return!1;try{return s[o]=!0,t(a,s,r)}finally{s[o]=void 0}}if(n.kind===F.FIELD&&(n.name.value==="fields"||n.name.value==="interfaces"||n.name.value==="possibleTypes"||n.name.value==="inputFields")&&(r++,r>=yk))return!0;if("selectionSet"in n&&n.selectionSet){for(const o of n.selectionSet.selections)if(t(o,s,r))return!0}return!1}return{Field(n){if((n.name.value==="__schema"||n.name.value==="__type")&&t(n))return e.reportError(new re("Maximum introspection depth exceeded",{nodes:[n]})),!1}}}function wk(e){const t=Object.create(null),n=[],s=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(o){return r(o),!1}};function r(o){if(t[o.name.value])return;const a=o.name.value;t[a]=!0;const c=e.getFragmentSpreads(o.selectionSet);if(c.length!==0){s[a]=n.length;for(const l of c){const u=l.name.value,d=s[u];if(n.push(l),d===void 0){const h=e.getFragment(u);h&&r(h)}else{const h=n.slice(d),p=h.slice(0,-1).map(f=>'"'+f.name.value+'"').join(", ");e.reportError(new re(`Cannot spread fragment "${u}" within itself`+(p!==""?` via ${p}.`:"."),{nodes:h}))}n.pop()}s[a]=void 0}}}function Sk(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(n){const s=e.getRecursiveVariableUsages(n);for(const{node:r}of s){const o=r.name.value;t[o]!==!0&&e.reportError(new re(n.name?`Variable "$${o}" is not defined by operation "${n.name.value}".`:`Variable "$${o}" is not defined.`,{nodes:[r,n]}))}}},VariableDefinition(n){t[n.variable.name.value]=!0}}}function Nx(e){const t=[],n=[];return{OperationDefinition(s){return t.push(s),!1},FragmentDefinition(s){return n.push(s),!1},Document:{leave(){const s=Object.create(null);for(const r of t)for(const o of e.getRecursivelyReferencedFragments(r))s[o.name.value]=!0;for(const r of n){const o=r.name.value;s[o]!==!0&&e.reportError(new re(`Fragment "${o}" is never used.`,{nodes:r}))}}}}}function jk(e){let t=[];return{OperationDefinition:{enter(){t=[]},leave(n){const s=Object.create(null),r=e.getRecursiveVariableUsages(n);for(const{node:o}of r)s[o.name.value]=!0;for(const o of t){const a=o.variable.name.value;s[a]!==!0&&e.reportError(new re(n.name?`Variable "$${a}" is never used in operation "${n.name.value}".`:`Variable "$${a}" is never used.`,{nodes:o}))}}},VariableDefinition(n){t.push(n)}}}function uh(e){switch(e.kind){case F.OBJECT:return{...e,fields:Tk(e.fields)};case F.LIST:return{...e,values:e.values.map(uh)};case F.INT:case F.FLOAT:case F.STRING:case F.BOOLEAN:case F.NULL:case F.ENUM:case F.VARIABLE:return e}}function Tk(e){return e.map(t=>({...t,value:uh(t.value)})).sort((t,n)=>th(t.name.value,n.name.value))}function Ix(e){return Array.isArray(e)?e.map(([t,n])=>`subfields "${t}" conflict because `+Ix(n)).join(" and "):e}function Ek(e){const t=new Ik,n=new Map;return{SelectionSet(s){const r=kk(e,n,t,e.getParentType(),s);for(const[[o,a],c,l]of r){const u=Ix(a);e.reportError(new re(`Fields "${o}" conflict because ${u}. Use different aliases on the fields to fetch both if this was intentional.`,{nodes:c.concat(l)}))}}}}function kk(e,t,n,s,r){const o=[],[a,c]=nc(e,t,s,r);if(Ck(e,o,t,n,a),c.length!==0)for(let l=0;l<c.length;l++){ec(e,o,t,n,!1,a,c[l]);for(let u=l+1;u<c.length;u++)tc(e,o,t,n,!1,c[l],c[u])}return o}function ec(e,t,n,s,r,o,a){const c=e.getFragment(a);if(!c)return;const[l,u]=yu(e,n,c);if(o!==l){dh(e,t,n,s,r,o,l);for(const d of u)s.has(d,a,r)||(s.add(d,a,r),ec(e,t,n,s,r,o,d))}}function tc(e,t,n,s,r,o,a){if(o===a||s.has(o,a,r))return;s.add(o,a,r);const c=e.getFragment(o),l=e.getFragment(a);if(!c||!l)return;const[u,d]=yu(e,n,c),[h,p]=yu(e,n,l);dh(e,t,n,s,r,u,h);for(const f of p)tc(e,t,n,s,r,o,f);for(const f of d)tc(e,t,n,s,r,f,a)}function Ok(e,t,n,s,r,o,a,c){const l=[],[u,d]=nc(e,t,r,o),[h,p]=nc(e,t,a,c);dh(e,l,t,n,s,u,h);for(const f of p)ec(e,l,t,n,s,u,f);for(const f of d)ec(e,l,t,n,s,h,f);for(const f of d)for(const g of p)tc(e,l,t,n,s,f,g);return l}function Ck(e,t,n,s,r){for(const[o,a]of Object.entries(r))if(a.length>1)for(let c=0;c<a.length;c++)for(let l=c+1;l<a.length;l++){const u=Dx(e,n,s,!1,o,a[c],a[l]);u&&t.push(u)}}function dh(e,t,n,s,r,o,a){for(const[c,l]of Object.entries(o)){const u=a[c];if(u)for(const d of l)for(const h of u){const p=Dx(e,n,s,r,c,d,h);p&&t.push(p)}}}function Dx(e,t,n,s,r,o,a){const[c,l,u]=o,[d,h,p]=a,f=s||c!==d&&mt(c)&&mt(d);if(!f){const T=l.name.value,w=h.name.value;if(T!==w)return[[r,`"${T}" and "${w}" are different fields`],[l],[h]];if(!_k(l,h))return[[r,"they have differing arguments"],[l],[h]]}const g=u?.type,m=p?.type;if(g&&m&&xu(g,m))return[[r,`they return conflicting types "${ie(g)}" and "${ie(m)}"`],[l],[h]];const b=l.selectionSet,x=h.selectionSet;if(b&&x){const T=Ok(e,t,n,f,_t(g),b,_t(m),x);return Nk(T,r,l,h)}}function _k(e,t){const n=e.arguments,s=t.arguments;if(n===void 0||n.length===0)return s===void 0||s.length===0;if(s===void 0||s.length===0||n.length!==s.length)return!1;const r=new Map(s.map(({name:o,value:a})=>[o.value,a]));return n.every(o=>{const a=o.value,c=r.get(o.name.value);return c===void 0?!1:Rp(a)===Rp(c)})}function Rp(e){return Mt(uh(e))}function xu(e,t){return Yt(e)?Yt(t)?xu(e.ofType,t.ofType):!0:Yt(t)?!0:Ke(e)?Ke(t)?xu(e.ofType,t.ofType):!0:Ke(t)?!0:Sr(e)||Sr(t)?e!==t:!1}function nc(e,t,n,s){const r=t.get(s);if(r)return r;const o=Object.create(null),a=Object.create(null);Rx(e,n,s,o,a);const c=[o,Object.keys(a)];return t.set(s,c),c}function yu(e,t,n){const s=t.get(n.selectionSet);if(s)return s;const r=Qn(e.getSchema(),n.typeCondition);return nc(e,t,r,n.selectionSet)}function Rx(e,t,n,s,r){for(const o of n.selections)switch(o.kind){case F.FIELD:{const a=o.name.value;let c;(mt(t)||wt(t))&&(c=t.getFields()[a]);const l=o.alias?o.alias.value:a;s[l]||(s[l]=[]),s[l].push([t,o,c]);break}case F.FRAGMENT_SPREAD:r[o.name.value]=!0;break;case F.INLINE_FRAGMENT:{const a=o.typeCondition,c=a?Qn(e.getSchema(),a):t;Rx(e,c,o.selectionSet,s,r);break}}}function Nk(e,t,n,s){if(e.length>0)return[[t,e.map(([r])=>r)],[n,...e.map(([,r])=>r).flat()],[s,...e.map(([,,r])=>r).flat()]]}class Ik{constructor(){this._data=new Map}has(t,n,s){var r;const[o,a]=t<n?[t,n]:[n,t],c=(r=this._data.get(o))===null||r===void 0?void 0:r.get(a);return c===void 0?!1:s?!0:s===c}add(t,n,s){const[r,o]=t<n?[t,n]:[n,t],a=this._data.get(r);a===void 0?this._data.set(r,new Map([[o,s]])):a.set(o,s)}}function Dk(e){return{InlineFragment(t){const n=e.getType(),s=e.getParentType();if(Nn(n)&&Nn(s)&&!bu(e.getSchema(),n,s)){const r=ie(s),o=ie(n);e.reportError(new re(`Fragment cannot be spread here as objects of type "${r}" can never be of type "${o}".`,{nodes:t}))}},FragmentSpread(t){const n=t.name.value,s=Rk(e,n),r=e.getParentType();if(s&&r&&!bu(e.getSchema(),s,r)){const o=ie(r),a=ie(s);e.reportError(new re(`Fragment "${n}" cannot be spread here as objects of type "${o}" can never be of type "${a}".`,{nodes:t}))}}}}function Rk(e,t){const n=e.getFragment(t);if(n){const s=Qn(e.getSchema(),n.typeCondition);if(Nn(s))return s}}function Ak(e){return{...Pk(e),Field:{leave(t){var n;const s=e.getFieldDef();if(!s)return!1;const r=new Set((n=t.arguments)===null||n===void 0?void 0:n.map(o=>o.name.value));for(const o of s.args)if(!r.has(o.name)&&Jo(o)){const a=ie(o.type);e.reportError(new re(`Field "${s.name}" argument "${o.name}" of type "${a}" is required, but it was not provided.`,{nodes:t}))}}}}}function Pk(e){var t;const n=Object.create(null),s=e.getSchema(),r=(t=s?.getDirectives())!==null&&t!==void 0?t:ea;for(const c of r)n[c.name]=wr(c.args.filter(Jo),l=>l.name);const o=e.getDocument().definitions;for(const c of o)if(c.kind===F.DIRECTIVE_DEFINITION){var a;const l=(a=c.arguments)!==null&&a!==void 0?a:[];n[c.name.value]=wr(l.filter($k),u=>u.name.value)}return{Directive:{leave(c){const l=c.name.value,u=n[l];if(u){var d;const h=(d=c.arguments)!==null&&d!==void 0?d:[],p=new Set(h.map(f=>f.name.value));for(const[f,g]of Object.entries(u))if(!p.has(f)){const m=nh(g.type)?ie(g.type):Mt(g.type);e.reportError(new re(`Directive "@${l}" argument "${f}" of type "${m}" is required, but it was not provided.`,{nodes:c}))}}}}}}function $k(e){return e.type.kind===F.NON_NULL_TYPE&&e.defaultValue==null}function Lk(e){return{Field(t){const n=e.getType(),s=t.selectionSet;if(n){if(Sr(_t(n))){if(s){const r=t.name.value,o=ie(n);e.reportError(new re(`Field "${r}" must not have a selection since type "${o}" has no subfields.`,{nodes:s}))}}else if(!s){const r=t.name.value,o=ie(n);e.reportError(new re(`Field "${r}" of type "${o}" must have a selection of subfields. Did you mean "${r} { ... }"?`,{nodes:t}))}}}}}function nr(e,t,n){if(e){if(e.kind===F.VARIABLE){const s=e.name.value;if(n==null||n[s]===void 0)return;const r=n[s];return r===null&&Ke(t)?void 0:r}if(Ke(t))return e.kind===F.NULL?void 0:nr(e,t.ofType,n);if(e.kind===F.NULL)return null;if(Yt(t)){const s=t.ofType;if(e.kind===F.LIST){const o=[];for(const a of e.values)if(Ap(a,n)){if(Ke(s))return;o.push(null)}else{const c=nr(a,s,n);if(c===void 0)return;o.push(c)}return o}const r=nr(e,s,n);return r===void 0?void 0:[r]}if(Gt(t)){if(e.kind!==F.OBJECT)return;const s=Object.create(null),r=wr(e.fields,o=>o.name.value);for(const o of Object.values(t.getFields())){const a=r[o.name];if(!a||Ap(a.value,n)){if(o.defaultValue!==void 0)s[o.name]=o.defaultValue;else if(Ke(o.type))return;continue}const c=nr(a.value,o.type,n);if(c===void 0)return;s[o.name]=c}if(t.isOneOf){const o=Object.keys(s);if(o.length!==1||s[o[0]]===null)return}return s}if(Sr(t)){let s;try{s=t.parseLiteral(e,n)}catch{return}return s===void 0?void 0:s}ms(!1,"Unexpected input type: "+ie(t))}}function Ap(e,t){return e.kind===F.VARIABLE&&(t==null||t[e.name.value]===void 0)}function Mk(e,t,n){var s;const r={},o=(s=t.arguments)!==null&&s!==void 0?s:[],a=wr(o,c=>c.name.value);for(const c of e.args){const l=c.name,u=c.type,d=a[l];if(!d){if(c.defaultValue!==void 0)r[l]=c.defaultValue;else if(Ke(u))throw new re(`Argument "${l}" of required type "${ie(u)}" was not provided.`,{nodes:t});continue}const h=d.value;let p=h.kind===F.NULL;if(h.kind===F.VARIABLE){const g=h.name.value;if(n==null||!Fk(n,g)){if(c.defaultValue!==void 0)r[l]=c.defaultValue;else if(Ke(u))throw new re(`Argument "${l}" of required type "${ie(u)}" was provided the variable "$${g}" which was not provided a runtime value.`,{nodes:h});continue}p=n[g]==null}if(p&&Ke(u))throw new re(`Argument "${l}" of non-null type "${ie(u)}" must not be null.`,{nodes:h});const f=nr(h,u,n);if(f===void 0)throw new re(`Argument "${l}" has invalid value ${Mt(h)}.`,{nodes:h});r[l]=f}return r}function Pp(e,t,n){var s;const r=(s=t.directives)===null||s===void 0?void 0:s.find(o=>o.name.value===e.name);if(r)return Mk(e,r,n)}function Fk(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qk(e,t,n,s,r){const o=new Map;return vu(e,t,n,s,r,o,new Set),o}function vu(e,t,n,s,r,o,a){for(const c of r.selections)switch(c.kind){case F.FIELD:{if(!El(n,c))continue;const l=Qk(c),u=o.get(l);u!==void 0?u.push(c):o.set(l,[c]);break}case F.INLINE_FRAGMENT:{if(!El(n,c)||!$p(e,c,s))continue;vu(e,t,n,s,c.selectionSet,o,a);break}case F.FRAGMENT_SPREAD:{const l=c.name.value;if(a.has(l)||!El(n,c))continue;a.add(l);const u=t[l];if(!u||!$p(e,u,s))continue;vu(e,t,n,s,u.selectionSet,o,a);break}}}function El(e,t){const n=Pp(bx,t,e);if(n?.if===!0)return!1;const s=Pp(mx,t,e);return s?.if!==!1}function $p(e,t,n){const s=t.typeCondition;if(!s)return!0;const r=Qn(e,s);return r===n?!0:bs(r)?e.isSubType(r,n):!1}function Qk(e){return e.alias?e.alias.value:e.name.value}function Vk(e){return{OperationDefinition(t){if(t.operation==="subscription"){const n=e.getSchema(),s=n.getSubscriptionType();if(s){const r=t.name?t.name.value:null,o=Object.create(null),a=e.getDocument(),c=Object.create(null);for(const u of a.definitions)u.kind===F.FRAGMENT_DEFINITION&&(c[u.name.value]=u);const l=qk(n,c,o,s,t.selectionSet);if(l.size>1){const h=[...l.values()].slice(1).flat();e.reportError(new re(r!=null?`Subscription "${r}" must select only one top level field.`:"Anonymous Subscription must select only one top level field.",{nodes:h}))}for(const u of l.values())u[0].name.value.startsWith("__")&&e.reportError(new re(r!=null?`Subscription "${r}" must not select an introspection top level field.`:"Anonymous Subscription must not select an introspection top level field.",{nodes:u}))}}}}}function Ax(e,t){const n=new Map;for(const s of e){const r=t(s),o=n.get(r);o===void 0?n.set(r,[s]):o.push(s)}return n}function Uk(e){return{Field:t,Directive:t};function t(n){var s;const r=(s=n.arguments)!==null&&s!==void 0?s:[],o=Ax(r,a=>a.name.value);for(const[a,c]of o)c.length>1&&e.reportError(new re(`There can be only one argument named "${a}".`,{nodes:c.map(l=>l.name)}))}}function zk(e){const t=Object.create(null),n=e.getSchema(),s=n?n.getDirectives():ea;for(const c of s)t[c.name]=!c.isRepeatable;const r=e.getDocument().definitions;for(const c of r)c.kind===F.DIRECTIVE_DEFINITION&&(t[c.name.value]=!c.repeatable);const o=Object.create(null),a=Object.create(null);return{enter(c){if(!("directives"in c)||!c.directives)return;let l;if(c.kind===F.SCHEMA_DEFINITION||c.kind===F.SCHEMA_EXTENSION)l=o;else if(lh(c)||Cx(c)){const u=c.name.value;l=a[u],l===void 0&&(a[u]=l=Object.create(null))}else l=Object.create(null);for(const u of c.directives){const d=u.name.value;t[d]&&(l[d]?e.reportError(new re(`The directive "@${d}" can only be used once at this location.`,{nodes:[l[d],u]})):l[d]=u)}}}}function Bk(e){const t=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(n){const s=n.name.value;return t[s]?e.reportError(new re(`There can be only one fragment named "${s}".`,{nodes:[t[s],n.name]})):t[s]=n.name,!1}}}function Hk(e){const t=[];let n=Object.create(null);return{ObjectValue:{enter(){t.push(n),n=Object.create(null)},leave(){const s=t.pop();s||ms(!1),n=s}},ObjectField(s){const r=s.name.value;n[r]?e.reportError(new re(`There can be only one input field named "${r}".`,{nodes:[n[r],s.name]})):n[r]=s.name}}}function Gk(e){const t=Object.create(null);return{OperationDefinition(n){const s=n.name;return s&&(t[s.value]?e.reportError(new re(`There can be only one operation named "${s.value}".`,{nodes:[t[s.value],s]})):t[s.value]=s),!1},FragmentDefinition:()=>!1}}function Yk(e){return{OperationDefinition(t){var n;const s=(n=t.variableDefinitions)!==null&&n!==void 0?n:[],r=Ax(s,o=>o.variable.name.value);for(const[o,a]of r)a.length>1&&e.reportError(new re(`There can be only one variable named "$${o}".`,{nodes:a.map(c=>c.variable.name)}))}}}function Xk(e){let t={};return{OperationDefinition:{enter(){t={}}},VariableDefinition(n){t[n.variable.name.value]=n},ListValue(n){const s=ih(e.getParentInputType());if(!Yt(s))return di(e,n),!1},ObjectValue(n){const s=_t(e.getInputType());if(!Gt(s))return di(e,n),!1;const r=wr(n.fields,o=>o.name.value);for(const o of Object.values(s.getFields()))if(!r[o.name]&&hx(o)){const c=ie(o.type);e.reportError(new re(`Field "${s.name}.${o.name}" of required type "${c}" was not provided.`,{nodes:n}))}s.isOneOf&&Wk(e,n,s,r,t)},ObjectField(n){const s=_t(e.getParentInputType());if(!e.getInputType()&&Gt(s)){const o=qr(n.name.value,Object.keys(s.getFields()));e.reportError(new re(`Field "${n.name.value}" is not defined by type "${s.name}".`+Ri(o),{nodes:n}))}},NullValue(n){const s=e.getInputType();Ke(s)&&e.reportError(new re(`Expected value of type "${ie(s)}", found ${Mt(n)}.`,{nodes:n}))},EnumValue:n=>di(e,n),IntValue:n=>di(e,n),FloatValue:n=>di(e,n),StringValue:n=>di(e,n),BooleanValue:n=>di(e,n)}}function di(e,t){const n=e.getInputType();if(!n)return;const s=_t(n);if(!Sr(s)){const r=ie(n);e.reportError(new re(`Expected value of type "${r}", found ${Mt(t)}.`,{nodes:t}));return}try{if(s.parseLiteral(t,void 0)===void 0){const o=ie(n);e.reportError(new re(`Expected value of type "${o}", found ${Mt(t)}.`,{nodes:t}))}}catch(r){const o=ie(n);r instanceof re?e.reportError(r):e.reportError(new re(`Expected value of type "${o}", found ${Mt(t)}; `+r.message,{nodes:t,originalError:r}))}}function Wk(e,t,n,s,r){var o;const a=Object.keys(s);if(a.length!==1){e.reportError(new re(`OneOf Input Object "${n.name}" must specify exactly one key.`,{nodes:[t]}));return}const l=(o=s[a[0]])===null||o===void 0?void 0:o.value,u=!l||l.kind===F.NULL,d=l?.kind===F.VARIABLE;if(u){e.reportError(new re(`Field "${n.name}.${a[0]}" must be non-null.`,{nodes:[t]}));return}if(d){const h=l.name.value;r[h].type.kind!==F.NON_NULL_TYPE&&e.reportError(new re(`Variable "${h}" must be non-nullable to be used for OneOf Input Object "${n.name}".`,{nodes:[t]}))}}function Zk(e){return{VariableDefinition(t){const n=Qn(e.getSchema(),t.type);if(n!==void 0&&!jn(n)){const s=t.variable.name.value,r=Mt(t.type);e.reportError(new re(`Variable "$${s}" cannot be non-input type "${r}".`,{nodes:t.type}))}}}}function Jk(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(n){const s=e.getRecursiveVariableUsages(n);for(const{node:r,type:o,defaultValue:a}of s){const c=r.name.value,l=t[c];if(l&&o){const u=e.getSchema(),d=Qn(u,l.type);if(d&&!Kk(u,d,l.defaultValue,o,a)){const h=ie(d),p=ie(o);e.reportError(new re(`Variable "$${c}" of type "${h}" used in position expecting type "${p}".`,{nodes:[l,r]}))}}}}},VariableDefinition(n){t[n.variable.name.value]=n}}}function Kk(e,t,n,s,r){if(Ke(s)&&!Ke(t)){if(!(n!=null&&n.kind!==F.NULL)&&!(r!==void 0))return!1;const c=s.ofType;return lr(e,t,c)}return lr(e,t,s)}const eO=Object.freeze([vk]),Px=Object.freeze([_x,Gk,xk,Vk,mk,lk,Zk,Lk,ok,Bk,gk,Nx,Dk,wk,Yk,Sk,jk,hk,zk,uk,Uk,Xk,Ak,Jk,Ek,Hk,...eO]);class tO{constructor(t,n){this._ast=t,this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=n}get[Symbol.toStringTag](){return"ASTValidationContext"}reportError(t){this._onError(t)}getDocument(){return this._ast}getFragment(t){let n;if(this._fragments)n=this._fragments;else{n=Object.create(null);for(const s of this.getDocument().definitions)s.kind===F.FRAGMENT_DEFINITION&&(n[s.name.value]=s);this._fragments=n}return n[t]}getFragmentSpreads(t){let n=this._fragmentSpreads.get(t);if(!n){n=[];const s=[t];let r;for(;r=s.pop();)for(const o of r.selections)o.kind===F.FRAGMENT_SPREAD?n.push(o):o.selectionSet&&s.push(o.selectionSet);this._fragmentSpreads.set(t,n)}return n}getRecursivelyReferencedFragments(t){let n=this._recursivelyReferencedFragments.get(t);if(!n){n=[];const s=Object.create(null),r=[t.selectionSet];let o;for(;o=r.pop();)for(const a of this.getFragmentSpreads(o)){const c=a.name.value;if(s[c]!==!0){s[c]=!0;const l=this.getFragment(c);l&&(n.push(l),r.push(l.selectionSet))}}this._recursivelyReferencedFragments.set(t,n)}return n}}class nO extends tO{constructor(t,n,s,r){super(n,r),this._schema=t,this._typeInfo=s,this._variableUsages=new Map,this._recursiveVariableUsages=new Map}get[Symbol.toStringTag](){return"ValidationContext"}getSchema(){return this._schema}getVariableUsages(t){let n=this._variableUsages.get(t);if(!n){const s=[],r=new kx(this._schema);Hc(t,Ox(r,{VariableDefinition:()=>!1,Variable(o){s.push({node:o,type:r.getInputType(),defaultValue:r.getDefaultValue()})}})),n=s,this._variableUsages.set(t,n)}return n}getRecursiveVariableUsages(t){let n=this._recursiveVariableUsages.get(t);if(!n){n=this.getVariableUsages(t);for(const s of this.getRecursivelyReferencedFragments(t))n=n.concat(this.getVariableUsages(s));this._recursiveVariableUsages.set(t,n)}return n}getType(){return this._typeInfo.getType()}getParentType(){return this._typeInfo.getParentType()}getInputType(){return this._typeInfo.getInputType()}getParentInputType(){return this._typeInfo.getParentInputType()}getFieldDef(){return this._typeInfo.getFieldDef()}getDirective(){return this._typeInfo.getDirective()}getArgument(){return this._typeInfo.getArgument()}getEnumValue(){return this._typeInfo.getEnumValue()}}function $x(e,t,n=Px,s,r=new kx(e)){var o;const a=(o=void 0)!==null&&o!==void 0?o:100;t||Ze(!1,"Must provide document."),zE(e);const c=Object.freeze({}),l=[],u=new nO(e,t,r,h=>{if(l.length>=a)throw l.push(new re("Too many validation errors, error limit reached. Validation aborted.")),c;l.push(h)}),d=TE(n.map(h=>h(u)));try{Hc(t,Ox(r,d))}catch(h){if(h!==c)throw h}return l}function sO(e){return{Field(t){const n=e.getFieldDef(),s=n?.deprecationReason;if(n&&s!=null){const r=e.getParentType();r!=null||ms(!1),e.reportError(new re(`The field ${r.name}.${n.name} is deprecated. ${s}`,{nodes:t}))}},Argument(t){const n=e.getArgument(),s=n?.deprecationReason;if(n&&s!=null){const r=e.getDirective();if(r!=null)e.reportError(new re(`Directive "@${r.name}" argument "${n.name}" is deprecated. ${s}`,{nodes:t}));else{const o=e.getParentType(),a=e.getFieldDef();o!=null&&a!=null||ms(!1),e.reportError(new re(`Field "${o.name}.${a.name}" argument "${n.name}" is deprecated. ${s}`,{nodes:t}))}}},ObjectField(t){const n=_t(e.getParentInputType());if(Gt(n)){const s=n.getFields()[t.name.value],r=s?.deprecationReason;r!=null&&e.reportError(new re(`The input field ${n.name}.${s.name} is deprecated. ${r}`,{nodes:t}))}},EnumValue(t){const n=e.getEnumValue(),s=n?.deprecationReason;if(n&&s!=null){const r=_t(e.getInputType());r!=null||ms(!1),e.reportError(new re(`The enum value "${r.name}.${n.name}" is deprecated. ${s}`,{nodes:t}))}}}}function iO(e){const t={descriptions:!0,specifiedByUrl:!1,directiveIsRepeatable:!1,schemaDescription:!1,inputValueDeprecation:!1,oneOf:!1,...e},n=t.descriptions?"description":"",s=t.specifiedByUrl?"specifiedByURL":"",r=t.directiveIsRepeatable?"isRepeatable":"",o=t.schemaDescription?n:"";function a(l){return t.inputValueDeprecation?l:""}const c=t.oneOf?"isOneOf":"";return`
    query IntrospectionQuery {
      __schema {
        ${o}
        queryType { name }
        mutationType { name }
        subscriptionType { name }
        types {
          ...FullType
        }
        directives {
          name
          ${n}
          ${r}
          locations
          args${a("(includeDeprecated: true)")} {
            ...InputValue
          }
        }
      }
    }

    fragment FullType on __Type {
      kind
      name
      ${n}
      ${s}
      ${c}
      fields(includeDeprecated: true) {
        name
        ${n}
        args${a("(includeDeprecated: true)")} {
          ...InputValue
        }
        type {
          ...TypeRef
        }
        isDeprecated
        deprecationReason
      }
      inputFields${a("(includeDeprecated: true)")} {
        ...InputValue
      }
      interfaces {
        ...TypeRef
      }
      enumValues(includeDeprecated: true) {
        name
        ${n}
        isDeprecated
        deprecationReason
      }
      possibleTypes {
        ...TypeRef
      }
    }

    fragment InputValue on __InputValue {
      name
      ${n}
      type { ...TypeRef }
      defaultValue
      ${a("isDeprecated")}
      ${a("deprecationReason")}
    }

    fragment TypeRef on __Type {
      kind
      name
      ofType {
        kind
        name
        ofType {
          kind
          name
          ofType {
            kind
            name
            ofType {
              kind
              name
              ofType {
                kind
                name
                ofType {
                  kind
                  name
                  ofType {
                    kind
                    name
                    ofType {
                      kind
                      name
                      ofType {
                        kind
                        name
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  `}function rO(e,t){ri(e)&&ri(e.__schema)||Ze(!1,`Invalid or incomplete introspection result. Ensure that you are passing "data" property of introspection response and no "errors" was returned alongside: ${ie(e)}.`);const n=e.__schema,s=mi(n.types,y=>y.name,y=>p(y));for(const y of[...fx,...ah])s[y.name]&&(s[y.name]=y);const r=n.queryType?d(n.queryType):null,o=n.mutationType?d(n.mutationType):null,a=n.subscriptionType?d(n.subscriptionType):null,c=n.directives?n.directives.map(S):[];return new Tx({description:n.description,query:r,mutation:o,subscription:a,types:Object.values(s),directives:c,assumeValid:void 0});function l(y){if(y.kind===rt.LIST){const k=y.ofType;if(!k)throw new Error("Decorated type deeper than introspection query.");return new mn(l(k))}if(y.kind===rt.NON_NULL){const k=y.ofType;if(!k)throw new Error("Decorated type deeper than introspection query.");const P=l(k);return new Ae(IE(P))}return u(y)}function u(y){const k=y.name;if(!k)throw new Error(`Unknown type reference: ${ie(y)}.`);const P=s[k];if(!P)throw new Error(`Invalid or incomplete schema, unknown type: ${k}. Ensure that a full introspection query is used in order to build a client schema.`);return P}function d(y){return CE(u(y))}function h(y){return _E(u(y))}function p(y){if(y!=null&&y.name!=null&&y.kind!=null)switch(y.kind){case rt.SCALAR:return f(y);case rt.OBJECT:return m(y);case rt.INTERFACE:return b(y);case rt.UNION:return x(y);case rt.ENUM:return T(y);case rt.INPUT_OBJECT:return w(y)}const k=ie(y);throw new Error(`Invalid or incomplete introspection result. Ensure that a full introspection query is used in order to build a client schema: ${k}.`)}function f(y){return new Hi({name:y.name,description:y.description,specifiedByURL:y.specifiedByURL})}function g(y){if(y.interfaces===null&&y.kind===rt.INTERFACE)return[];if(!y.interfaces){const k=ie(y);throw new Error(`Introspection result missing interfaces: ${k}.`)}return y.interfaces.map(h)}function m(y){return new js({name:y.name,description:y.description,interfaces:()=>g(y),fields:()=>j(y)})}function b(y){return new cr({name:y.name,description:y.description,interfaces:()=>g(y),fields:()=>j(y)})}function x(y){if(!y.possibleTypes){const k=ie(y);throw new Error(`Introspection result missing possibleTypes: ${k}.`)}return new dx({name:y.name,description:y.description,types:()=>y.possibleTypes.map(d)})}function T(y){if(!y.enumValues){const k=ie(y);throw new Error(`Introspection result missing enumValues: ${k}.`)}return new Qr({name:y.name,description:y.description,values:mi(y.enumValues,k=>k.name,k=>({description:k.description,deprecationReason:k.deprecationReason}))})}function w(y){if(!y.inputFields){const k=ie(y);throw new Error(`Introspection result missing inputFields: ${k}.`)}return new rh({name:y.name,description:y.description,fields:()=>I(y.inputFields),isOneOf:y.isOneOf})}function j(y){if(!y.fields)throw new Error(`Introspection result missing fields: ${ie(y)}.`);return mi(y.fields,k=>k.name,N)}function N(y){const k=l(y.type);if(!Ti(k)){const P=ie(k);throw new Error(`Introspection must provide output type for fields, but received: ${P}.`)}if(!y.args){const P=ie(y);throw new Error(`Introspection result missing field args: ${P}.`)}return{description:y.description,deprecationReason:y.deprecationReason,type:k,args:I(y.args)}}function I(y){return mi(y,k=>k.name,C)}function C(y){const k=l(y.type);if(!jn(k)){const q=ie(k);throw new Error(`Introspection must provide input type for arguments, but received: ${q}.`)}const P=y.defaultValue!=null?nr(DS(y.defaultValue),k):void 0;return{description:y.description,type:k,defaultValue:P,deprecationReason:y.deprecationReason}}function S(y){if(!y.args){const k=ie(y);throw new Error(`Introspection result missing directive args: ${k}.`)}if(!y.locations){const k=ie(y);throw new Error(`Introspection result missing directive locations: ${k}.`)}return new Gi({name:y.name,description:y.description,isRepeatable:y.isRepeatable,locations:y.locations.slice(),args:I(y.args)})}}function Pi(e){const t=Object.keys(e),n=t.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=e[t[r]];return s}function lt(e,t){return oO(t,Lx(e.string))}function oO(e,t){if(!t||t.trim()===""||t.trim()===":"||t.trim()==="{")return kl(e,s=>!s.isDeprecated);const n=e.map(s=>({proximity:aO(Lx(s.label),t),entry:s}));return kl(kl(n,s=>s.proximity<=2),s=>!s.entry.isDeprecated).sort((s,r)=>(s.entry.isDeprecated?1:0)-(r.entry.isDeprecated?1:0)||s.proximity-r.proximity||s.entry.label.length-r.entry.label.length).map(s=>s.entry)}function kl(e,t){const n=e.filter(t);return n.length===0?e:n}function Lx(e){return e.toLowerCase().replaceAll(/\W/g,"")}function aO(e,t){let n=cO(t,e);return e.length>t.length&&(n-=e.length-t.length-1,n+=e.indexOf(t)===0?0:.5),n}function cO(e,t){let n,s;const r=[],o=e.length,a=t.length;for(n=0;n<=o;n++)r[n]=[n];for(s=1;s<=a;s++)r[0][s]=s;for(n=1;n<=o;n++)for(s=1;s<=a;s++){const c=e[n-1]===t[s-1]?0:1;r[n][s]=Math.min(r[n-1][s]+1,r[n][s-1]+1,r[n-1][s-1]+c),n>1&&s>1&&e[n-1]===t[s-2]&&e[n-2]===t[s-1]&&(r[n][s]=Math.min(r[n][s],r[n-2][s-2]+c))}return r[o][a]}const lO=e=>` {
   $1
}`,sc=(e,t,n)=>{if(!t)return n??e;const s=_t(t);return mt(s)||Gt(s)||Yt(s)||bs(s)?e+lO():n??e},Lp=(e,t,n)=>{if(Yt(t)){const s=_t(t.ofType);return e+`[${sc("",s,"$1")}]`}return sc(e,t,n)},uO=e=>{const t=e.args.filter(n=>n.type.toString().endsWith("!"));if(t.length)return e.name+`(${t.map((n,s)=>`${n.name}: $${s+1}`)}) ${sc("",e.type,`
`)}`};var Mp;(function(e){function t(n){return typeof n=="string"}e.is=t})(Mp||(Mp={}));var wu;(function(e){function t(n){return typeof n=="string"}e.is=t})(wu||(wu={}));var Fp;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(Fp||(Fp={}));var ic;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(ic||(ic={}));var Yn;(function(e){function t(s,r){return s===Number.MAX_VALUE&&(s=ic.MAX_VALUE),r===Number.MAX_VALUE&&(r=ic.MAX_VALUE),{line:s,character:r}}e.create=t;function n(s){let r=s;return V.objectLiteral(r)&&V.uinteger(r.line)&&V.uinteger(r.character)}e.is=n})(Yn||(Yn={}));var Dt;(function(e){function t(s,r,o,a){if(V.uinteger(s)&&V.uinteger(r)&&V.uinteger(o)&&V.uinteger(a))return{start:Yn.create(s,r),end:Yn.create(o,a)};if(Yn.is(s)&&Yn.is(r))return{start:s,end:r};throw new Error(`Range#create called with invalid arguments[${s}, ${r}, ${o}, ${a}]`)}e.create=t;function n(s){let r=s;return V.objectLiteral(r)&&Yn.is(r.start)&&Yn.is(r.end)}e.is=n})(Dt||(Dt={}));var rc;(function(e){function t(s,r){return{uri:s,range:r}}e.create=t;function n(s){let r=s;return V.objectLiteral(r)&&Dt.is(r.range)&&(V.string(r.uri)||V.undefined(r.uri))}e.is=n})(rc||(rc={}));var qp;(function(e){function t(s,r,o,a){return{targetUri:s,targetRange:r,targetSelectionRange:o,originSelectionRange:a}}e.create=t;function n(s){let r=s;return V.objectLiteral(r)&&Dt.is(r.targetRange)&&V.string(r.targetUri)&&Dt.is(r.targetSelectionRange)&&(Dt.is(r.originSelectionRange)||V.undefined(r.originSelectionRange))}e.is=n})(qp||(qp={}));var Su;(function(e){function t(s,r,o,a){return{red:s,green:r,blue:o,alpha:a}}e.create=t;function n(s){const r=s;return V.objectLiteral(r)&&V.numberRange(r.red,0,1)&&V.numberRange(r.green,0,1)&&V.numberRange(r.blue,0,1)&&V.numberRange(r.alpha,0,1)}e.is=n})(Su||(Su={}));var Qp;(function(e){function t(s,r){return{range:s,color:r}}e.create=t;function n(s){const r=s;return V.objectLiteral(r)&&Dt.is(r.range)&&Su.is(r.color)}e.is=n})(Qp||(Qp={}));var Vp;(function(e){function t(s,r,o){return{label:s,textEdit:r,additionalTextEdits:o}}e.create=t;function n(s){const r=s;return V.objectLiteral(r)&&V.string(r.label)&&(V.undefined(r.textEdit)||Tr.is(r))&&(V.undefined(r.additionalTextEdits)||V.typedArray(r.additionalTextEdits,Tr.is))}e.is=n})(Vp||(Vp={}));var Up;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Up||(Up={}));var zp;(function(e){function t(s,r,o,a,c,l){const u={startLine:s,endLine:r};return V.defined(o)&&(u.startCharacter=o),V.defined(a)&&(u.endCharacter=a),V.defined(c)&&(u.kind=c),V.defined(l)&&(u.collapsedText=l),u}e.create=t;function n(s){const r=s;return V.objectLiteral(r)&&V.uinteger(r.startLine)&&V.uinteger(r.startLine)&&(V.undefined(r.startCharacter)||V.uinteger(r.startCharacter))&&(V.undefined(r.endCharacter)||V.uinteger(r.endCharacter))&&(V.undefined(r.kind)||V.string(r.kind))}e.is=n})(zp||(zp={}));var ju;(function(e){function t(s,r){return{location:s,message:r}}e.create=t;function n(s){let r=s;return V.defined(r)&&rc.is(r.location)&&V.string(r.message)}e.is=n})(ju||(ju={}));var Bp;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Bp||(Bp={}));var Hp;(function(e){e.Unnecessary=1,e.Deprecated=2})(Hp||(Hp={}));var Gp;(function(e){function t(n){const s=n;return V.objectLiteral(s)&&V.string(s.href)}e.is=t})(Gp||(Gp={}));var oc;(function(e){function t(s,r,o,a,c,l){let u={range:s,message:r};return V.defined(o)&&(u.severity=o),V.defined(a)&&(u.code=a),V.defined(c)&&(u.source=c),V.defined(l)&&(u.relatedInformation=l),u}e.create=t;function n(s){var r;let o=s;return V.defined(o)&&Dt.is(o.range)&&V.string(o.message)&&(V.number(o.severity)||V.undefined(o.severity))&&(V.integer(o.code)||V.string(o.code)||V.undefined(o.code))&&(V.undefined(o.codeDescription)||V.string((r=o.codeDescription)===null||r===void 0?void 0:r.href))&&(V.string(o.source)||V.undefined(o.source))&&(V.undefined(o.relatedInformation)||V.typedArray(o.relatedInformation,ju.is))}e.is=n})(oc||(oc={}));var jr;(function(e){function t(s,r,...o){let a={title:s,command:r};return V.defined(o)&&o.length>0&&(a.arguments=o),a}e.create=t;function n(s){let r=s;return V.defined(r)&&V.string(r.title)&&V.string(r.command)}e.is=n})(jr||(jr={}));var Tr;(function(e){function t(o,a){return{range:o,newText:a}}e.replace=t;function n(o,a){return{range:{start:o,end:o},newText:a}}e.insert=n;function s(o){return{range:o,newText:""}}e.del=s;function r(o){const a=o;return V.objectLiteral(a)&&V.string(a.newText)&&Dt.is(a.range)}e.is=r})(Tr||(Tr={}));var Tu;(function(e){function t(s,r,o){const a={label:s};return r!==void 0&&(a.needsConfirmation=r),o!==void 0&&(a.description=o),a}e.create=t;function n(s){const r=s;return V.objectLiteral(r)&&V.string(r.label)&&(V.boolean(r.needsConfirmation)||r.needsConfirmation===void 0)&&(V.string(r.description)||r.description===void 0)}e.is=n})(Tu||(Tu={}));var Er;(function(e){function t(n){const s=n;return V.string(s)}e.is=t})(Er||(Er={}));var Yp;(function(e){function t(o,a,c){return{range:o,newText:a,annotationId:c}}e.replace=t;function n(o,a,c){return{range:{start:o,end:o},newText:a,annotationId:c}}e.insert=n;function s(o,a){return{range:o,newText:"",annotationId:a}}e.del=s;function r(o){const a=o;return Tr.is(a)&&(Tu.is(a.annotationId)||Er.is(a.annotationId))}e.is=r})(Yp||(Yp={}));var Eu;(function(e){function t(s,r){return{textDocument:s,edits:r}}e.create=t;function n(s){let r=s;return V.defined(r)&&Nu.is(r.textDocument)&&Array.isArray(r.edits)}e.is=n})(Eu||(Eu={}));var ku;(function(e){function t(s,r,o){let a={kind:"create",uri:s};return r!==void 0&&(r.overwrite!==void 0||r.ignoreIfExists!==void 0)&&(a.options=r),o!==void 0&&(a.annotationId=o),a}e.create=t;function n(s){let r=s;return r&&r.kind==="create"&&V.string(r.uri)&&(r.options===void 0||(r.options.overwrite===void 0||V.boolean(r.options.overwrite))&&(r.options.ignoreIfExists===void 0||V.boolean(r.options.ignoreIfExists)))&&(r.annotationId===void 0||Er.is(r.annotationId))}e.is=n})(ku||(ku={}));var Ou;(function(e){function t(s,r,o,a){let c={kind:"rename",oldUri:s,newUri:r};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(c.options=o),a!==void 0&&(c.annotationId=a),c}e.create=t;function n(s){let r=s;return r&&r.kind==="rename"&&V.string(r.oldUri)&&V.string(r.newUri)&&(r.options===void 0||(r.options.overwrite===void 0||V.boolean(r.options.overwrite))&&(r.options.ignoreIfExists===void 0||V.boolean(r.options.ignoreIfExists)))&&(r.annotationId===void 0||Er.is(r.annotationId))}e.is=n})(Ou||(Ou={}));var Cu;(function(e){function t(s,r,o){let a={kind:"delete",uri:s};return r!==void 0&&(r.recursive!==void 0||r.ignoreIfNotExists!==void 0)&&(a.options=r),o!==void 0&&(a.annotationId=o),a}e.create=t;function n(s){let r=s;return r&&r.kind==="delete"&&V.string(r.uri)&&(r.options===void 0||(r.options.recursive===void 0||V.boolean(r.options.recursive))&&(r.options.ignoreIfNotExists===void 0||V.boolean(r.options.ignoreIfNotExists)))&&(r.annotationId===void 0||Er.is(r.annotationId))}e.is=n})(Cu||(Cu={}));var _u;(function(e){function t(n){let s=n;return s&&(s.changes!==void 0||s.documentChanges!==void 0)&&(s.documentChanges===void 0||s.documentChanges.every(r=>V.string(r.kind)?ku.is(r)||Ou.is(r)||Cu.is(r):Eu.is(r)))}e.is=t})(_u||(_u={}));var Xp;(function(e){function t(s){return{uri:s}}e.create=t;function n(s){let r=s;return V.defined(r)&&V.string(r.uri)}e.is=n})(Xp||(Xp={}));var Wp;(function(e){function t(s,r){return{uri:s,version:r}}e.create=t;function n(s){let r=s;return V.defined(r)&&V.string(r.uri)&&V.integer(r.version)}e.is=n})(Wp||(Wp={}));var Nu;(function(e){function t(s,r){return{uri:s,version:r}}e.create=t;function n(s){let r=s;return V.defined(r)&&V.string(r.uri)&&(r.version===null||V.integer(r.version))}e.is=n})(Nu||(Nu={}));var Zp;(function(e){function t(s,r,o,a){return{uri:s,languageId:r,version:o,text:a}}e.create=t;function n(s){let r=s;return V.defined(r)&&V.string(r.uri)&&V.string(r.languageId)&&V.integer(r.version)&&V.string(r.text)}e.is=n})(Zp||(Zp={}));var Iu;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(n){const s=n;return s===e.PlainText||s===e.Markdown}e.is=t})(Iu||(Iu={}));var jo;(function(e){function t(n){const s=n;return V.objectLiteral(n)&&Iu.is(s.kind)&&V.string(s.value)}e.is=t})(jo||(jo={}));var Jp;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(Jp||(Jp={}));var ur;(function(e){e.PlainText=1,e.Snippet=2})(ur||(ur={}));var Kp;(function(e){e.Deprecated=1})(Kp||(Kp={}));var ef;(function(e){function t(s,r,o){return{newText:s,insert:r,replace:o}}e.create=t;function n(s){const r=s;return r&&V.string(r.newText)&&Dt.is(r.insert)&&Dt.is(r.replace)}e.is=n})(ef||(ef={}));var bi;(function(e){e.asIs=1,e.adjustIndentation=2})(bi||(bi={}));var tf;(function(e){function t(n){const s=n;return s&&(V.string(s.detail)||s.detail===void 0)&&(V.string(s.description)||s.description===void 0)}e.is=t})(tf||(tf={}));var nf;(function(e){function t(n){return{label:n}}e.create=t})(nf||(nf={}));var sf;(function(e){function t(n,s){return{items:n||[],isIncomplete:!!s}}e.create=t})(sf||(sf={}));var ac;(function(e){function t(s){return s.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function n(s){const r=s;return V.string(r)||V.objectLiteral(r)&&V.string(r.language)&&V.string(r.value)}e.is=n})(ac||(ac={}));var rf;(function(e){function t(n){let s=n;return!!s&&V.objectLiteral(s)&&(jo.is(s.contents)||ac.is(s.contents)||V.typedArray(s.contents,ac.is))&&(n.range===void 0||Dt.is(n.range))}e.is=t})(rf||(rf={}));var of;(function(e){function t(n,s){return s?{label:n,documentation:s}:{label:n}}e.create=t})(of||(of={}));var af;(function(e){function t(n,s,...r){let o={label:n};return V.defined(s)&&(o.documentation=s),V.defined(r)?o.parameters=r:o.parameters=[],o}e.create=t})(af||(af={}));var cf;(function(e){e.Text=1,e.Read=2,e.Write=3})(cf||(cf={}));var lf;(function(e){function t(n,s){let r={range:n};return V.number(s)&&(r.kind=s),r}e.create=t})(lf||(lf={}));var uf;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(uf||(uf={}));var df;(function(e){e.Deprecated=1})(df||(df={}));var hf;(function(e){function t(n,s,r,o,a){let c={name:n,kind:s,location:{uri:o,range:r}};return a&&(c.containerName=a),c}e.create=t})(hf||(hf={}));var pf;(function(e){function t(n,s,r,o){return o!==void 0?{name:n,kind:s,location:{uri:r,range:o}}:{name:n,kind:s,location:{uri:r}}}e.create=t})(pf||(pf={}));var ff;(function(e){function t(s,r,o,a,c,l){let u={name:s,detail:r,kind:o,range:a,selectionRange:c};return l!==void 0&&(u.children=l),u}e.create=t;function n(s){let r=s;return r&&V.string(r.name)&&V.number(r.kind)&&Dt.is(r.range)&&Dt.is(r.selectionRange)&&(r.detail===void 0||V.string(r.detail))&&(r.deprecated===void 0||V.boolean(r.deprecated))&&(r.children===void 0||Array.isArray(r.children))&&(r.tags===void 0||Array.isArray(r.tags))}e.is=n})(ff||(ff={}));var gf;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(gf||(gf={}));var cc;(function(e){e.Invoked=1,e.Automatic=2})(cc||(cc={}));var mf;(function(e){function t(s,r,o){let a={diagnostics:s};return r!=null&&(a.only=r),o!=null&&(a.triggerKind=o),a}e.create=t;function n(s){let r=s;return V.defined(r)&&V.typedArray(r.diagnostics,oc.is)&&(r.only===void 0||V.typedArray(r.only,V.string))&&(r.triggerKind===void 0||r.triggerKind===cc.Invoked||r.triggerKind===cc.Automatic)}e.is=n})(mf||(mf={}));var bf;(function(e){function t(s,r,o){let a={title:s},c=!0;return typeof r=="string"?(c=!1,a.kind=r):jr.is(r)?a.command=r:a.edit=r,c&&o!==void 0&&(a.kind=o),a}e.create=t;function n(s){let r=s;return r&&V.string(r.title)&&(r.diagnostics===void 0||V.typedArray(r.diagnostics,oc.is))&&(r.kind===void 0||V.string(r.kind))&&(r.edit!==void 0||r.command!==void 0)&&(r.command===void 0||jr.is(r.command))&&(r.isPreferred===void 0||V.boolean(r.isPreferred))&&(r.edit===void 0||_u.is(r.edit))}e.is=n})(bf||(bf={}));var xf;(function(e){function t(s,r){let o={range:s};return V.defined(r)&&(o.data=r),o}e.create=t;function n(s){let r=s;return V.defined(r)&&Dt.is(r.range)&&(V.undefined(r.command)||jr.is(r.command))}e.is=n})(xf||(xf={}));var yf;(function(e){function t(s,r){return{tabSize:s,insertSpaces:r}}e.create=t;function n(s){let r=s;return V.defined(r)&&V.uinteger(r.tabSize)&&V.boolean(r.insertSpaces)}e.is=n})(yf||(yf={}));var vf;(function(e){function t(s,r,o){return{range:s,target:r,data:o}}e.create=t;function n(s){let r=s;return V.defined(r)&&Dt.is(r.range)&&(V.undefined(r.target)||V.string(r.target))}e.is=n})(vf||(vf={}));var wf;(function(e){function t(s,r){return{range:s,parent:r}}e.create=t;function n(s){let r=s;return V.objectLiteral(r)&&Dt.is(r.range)&&(r.parent===void 0||e.is(r.parent))}e.is=n})(wf||(wf={}));var Sf;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(Sf||(Sf={}));var jf;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(jf||(jf={}));var Tf;(function(e){function t(n){const s=n;return V.objectLiteral(s)&&(s.resultId===void 0||typeof s.resultId=="string")&&Array.isArray(s.data)&&(s.data.length===0||typeof s.data[0]=="number")}e.is=t})(Tf||(Tf={}));var Ef;(function(e){function t(s,r){return{range:s,text:r}}e.create=t;function n(s){const r=s;return r!=null&&Dt.is(r.range)&&V.string(r.text)}e.is=n})(Ef||(Ef={}));var kf;(function(e){function t(s,r,o){return{range:s,variableName:r,caseSensitiveLookup:o}}e.create=t;function n(s){const r=s;return r!=null&&Dt.is(r.range)&&V.boolean(r.caseSensitiveLookup)&&(V.string(r.variableName)||r.variableName===void 0)}e.is=n})(kf||(kf={}));var Of;(function(e){function t(s,r){return{range:s,expression:r}}e.create=t;function n(s){const r=s;return r!=null&&Dt.is(r.range)&&(V.string(r.expression)||r.expression===void 0)}e.is=n})(Of||(Of={}));var Cf;(function(e){function t(s,r){return{frameId:s,stoppedLocation:r}}e.create=t;function n(s){const r=s;return V.defined(r)&&Dt.is(s.stoppedLocation)}e.is=n})(Cf||(Cf={}));var Du;(function(e){e.Type=1,e.Parameter=2;function t(n){return n===1||n===2}e.is=t})(Du||(Du={}));var Ru;(function(e){function t(s){return{value:s}}e.create=t;function n(s){const r=s;return V.objectLiteral(r)&&(r.tooltip===void 0||V.string(r.tooltip)||jo.is(r.tooltip))&&(r.location===void 0||rc.is(r.location))&&(r.command===void 0||jr.is(r.command))}e.is=n})(Ru||(Ru={}));var _f;(function(e){function t(s,r,o){const a={position:s,label:r};return o!==void 0&&(a.kind=o),a}e.create=t;function n(s){const r=s;return V.objectLiteral(r)&&Yn.is(r.position)&&(V.string(r.label)||V.typedArray(r.label,Ru.is))&&(r.kind===void 0||Du.is(r.kind))&&r.textEdits===void 0||V.typedArray(r.textEdits,Tr.is)&&(r.tooltip===void 0||V.string(r.tooltip)||jo.is(r.tooltip))&&(r.paddingLeft===void 0||V.boolean(r.paddingLeft))&&(r.paddingRight===void 0||V.boolean(r.paddingRight))}e.is=n})(_f||(_f={}));var Nf;(function(e){function t(n){return{kind:"snippet",value:n}}e.createSnippet=t})(Nf||(Nf={}));var If;(function(e){function t(n,s,r,o){return{insertText:n,filterText:s,range:r,command:o}}e.create=t})(If||(If={}));var Df;(function(e){function t(n){return{items:n}}e.create=t})(Df||(Df={}));var Rf;(function(e){e.Invoked=0,e.Automatic=1})(Rf||(Rf={}));var Af;(function(e){function t(n,s){return{range:n,text:s}}e.create=t})(Af||(Af={}));var Pf;(function(e){function t(n,s){return{triggerKind:n,selectedCompletionInfo:s}}e.create=t})(Pf||(Pf={}));var $f;(function(e){function t(n){const s=n;return V.objectLiteral(s)&&wu.is(s.uri)&&V.string(s.name)}e.is=t})($f||($f={}));var Lf;(function(e){function t(o,a,c,l){return new dO(o,a,c,l)}e.create=t;function n(o){let a=o;return!!(V.defined(a)&&V.string(a.uri)&&(V.undefined(a.languageId)||V.string(a.languageId))&&V.uinteger(a.lineCount)&&V.func(a.getText)&&V.func(a.positionAt)&&V.func(a.offsetAt))}e.is=n;function s(o,a){let c=o.getText(),l=r(a,(d,h)=>{let p=d.range.start.line-h.range.start.line;return p===0?d.range.start.character-h.range.start.character:p}),u=c.length;for(let d=l.length-1;d>=0;d--){let h=l[d],p=o.offsetAt(h.range.start),f=o.offsetAt(h.range.end);if(f<=u)c=c.substring(0,p)+h.newText+c.substring(f,c.length);else throw new Error("Overlapping edit");u=p}return c}e.applyEdits=s;function r(o,a){if(o.length<=1)return o;const c=o.length/2|0,l=o.slice(0,c),u=o.slice(c);r(l,a),r(u,a);let d=0,h=0,p=0;for(;d<l.length&&h<u.length;)a(l[d],u[h])<=0?o[p++]=l[d++]:o[p++]=u[h++];for(;d<l.length;)o[p++]=l[d++];for(;h<u.length;)o[p++]=u[h++];return o}})(Lf||(Lf={}));class dO{constructor(t,n,s,r){this._uri=t,this._languageId=n,this._version=s,this._content=r,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let n=this.offsetAt(t.start),s=this.offsetAt(t.end);return this._content.substring(n,s)}return this._content}update(t,n){this._content=t.text,this._version=n,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],n=this._content,s=!0;for(let r=0;r<n.length;r++){s&&(t.push(r),s=!1);let o=n.charAt(r);s=o==="\r"||o===`
`,o==="\r"&&r+1<n.length&&n.charAt(r+1)===`
`&&r++}s&&n.length>0&&t.push(n.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let n=this.getLineOffsets(),s=0,r=n.length;if(r===0)return Yn.create(0,t);for(;s<r;){let a=Math.floor((s+r)/2);n[a]>t?r=a:s=a+1}let o=s-1;return Yn.create(o,t-n[o])}offsetAt(t){let n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;let s=n[t.line],r=t.line+1<n.length?n[t.line+1]:this._content.length;return Math.max(Math.min(s+t.character,r),s)}get lineCount(){return this.getLineOffsets().length}}var V;(function(e){const t=Object.prototype.toString;function n(f){return typeof f<"u"}e.defined=n;function s(f){return typeof f>"u"}e.undefined=s;function r(f){return f===!0||f===!1}e.boolean=r;function o(f){return t.call(f)==="[object String]"}e.string=o;function a(f){return t.call(f)==="[object Number]"}e.number=a;function c(f,g,m){return t.call(f)==="[object Number]"&&g<=f&&f<=m}e.numberRange=c;function l(f){return t.call(f)==="[object Number]"&&-2147483648<=f&&f<=2147483647}e.integer=l;function u(f){return t.call(f)==="[object Number]"&&0<=f&&f<=2147483647}e.uinteger=u;function d(f){return t.call(f)==="[object Function]"}e.func=d;function h(f){return f!==null&&typeof f=="object"}e.objectLiteral=h;function p(f,g){return Array.isArray(f)&&f.every(g)}e.typedArray=p})(V||(V={}));class Au{constructor(t){this._start=0,this._pos=0,this.getStartOfToken=()=>this._start,this.getCurrentPosition=()=>this._pos,this.eol=()=>this._sourceText.length===this._pos,this.sol=()=>this._pos===0,this.peek=()=>this._sourceText.charAt(this._pos)||null,this.next=()=>{const n=this._sourceText.charAt(this._pos);return this._pos++,n},this.eat=n=>{if(this._testNextCharacter(n))return this._start=this._pos,this._pos++,this._sourceText.charAt(this._pos-1)},this.eatWhile=n=>{let s=this._testNextCharacter(n),r=!1;for(s&&(r=s,this._start=this._pos);s;)this._pos++,s=this._testNextCharacter(n),r=!0;return r},this.eatSpace=()=>this.eatWhile(/[\s\u00a0]/),this.skipToEnd=()=>{this._pos=this._sourceText.length},this.skipTo=n=>{this._pos=n},this.match=(n,s=!0,r=!1)=>{let o=null,a=null;return typeof n=="string"?(a=new RegExp(n,r?"i":"g").test(this._sourceText.slice(this._pos,this._pos+n.length)),o=n):n instanceof RegExp&&(a=this._sourceText.slice(this._pos).match(n),o=a?.[0]),a!=null&&(typeof n=="string"||a instanceof Array&&this._sourceText.startsWith(a[0],this._pos))?(s&&(this._start=this._pos,o&&o.length&&(this._pos+=o.length)),a):!1},this.backUp=n=>{this._pos-=n},this.column=()=>this._pos,this.indentation=()=>{const n=this._sourceText.match(/\s*/);let s=0;if(n&&n.length!==0){const r=n[0];let o=0;for(;r.length>o;)r.charCodeAt(o)===9?s+=2:s++,o++}return s},this.current=()=>this._sourceText.slice(this._start,this._pos),this._sourceText=t}_testNextCharacter(t){const n=this._sourceText.charAt(this._pos);let s=!1;return typeof t=="string"?s=n===t:s=t instanceof RegExp?t.test(n):t(n),s}}function Ct(e){return{ofRule:e}}function Ue(e,t){return{ofRule:e,isList:!0,separator:t}}function hO(e,t){const n=e.match;return e.match=s=>{let r=!1;return n&&(r=n(s)),r&&t.every(o=>o.match&&!o.match(s))},e}function Ol(e,t){return{style:t,match:n=>n.kind===e}}function Te(e,t){return{style:t||"punctuation",match:n=>n.kind==="Punctuation"&&n.value===e}}const pO=e=>e===" "||e==="	"||e===","||e===`
`||e==="\r"||e==="\uFEFF"||e===" ",fO={Name:/^[_A-Za-z][_0-9A-Za-z]*/,Punctuation:/^(?:!|\$|\(|\)|\.\.\.|:|=|&|@|\[|]|\{|\||\})/,Number:/^-?(?:0|(?:[1-9][0-9]*))(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?/,String:/^(?:"""(?:\\"""|[^"]|"[^"]|""[^"])*(?:""")?|"(?:[^"\\]|\\(?:"|\/|\\|b|f|n|r|t|u[0-9a-fA-F]{4}))*"?)/,Comment:/^#.*/},gO={Document:[Ue("Definition")],Definition(e){switch(e.value){case"{":return"ShortQuery";case"query":return"Query";case"mutation":return"Mutation";case"subscription":return"Subscription";case"fragment":return F.FRAGMENT_DEFINITION;case"schema":return"SchemaDef";case"scalar":return"ScalarDef";case"type":return"ObjectTypeDef";case"interface":return"InterfaceDef";case"union":return"UnionDef";case"enum":return"EnumDef";case"input":return"InputDef";case"extend":return"ExtendDef";case"directive":return"DirectiveDef"}},ShortQuery:["SelectionSet"],Query:[zt("query"),Ct(at("def")),Ct("VariableDefinitions"),Ue("Directive"),"SelectionSet"],Mutation:[zt("mutation"),Ct(at("def")),Ct("VariableDefinitions"),Ue("Directive"),"SelectionSet"],Subscription:[zt("subscription"),Ct(at("def")),Ct("VariableDefinitions"),Ue("Directive"),"SelectionSet"],VariableDefinitions:[Te("("),Ue("VariableDefinition"),Te(")")],VariableDefinition:["Variable",Te(":"),"Type",Ct("DefaultValue")],Variable:[Te("$","variable"),at("variable")],DefaultValue:[Te("="),"Value"],SelectionSet:[Te("{"),Ue("Selection"),Te("}")],Selection(e,t){return e.value==="..."?t.match(/[\s\u00a0,]*(on\b|@|{)/,!1)?"InlineFragment":"FragmentSpread":t.match(/[\s\u00a0,]*:/,!1)?"AliasedField":"Field"},AliasedField:[at("property"),Te(":"),at("qualifier"),Ct("Arguments"),Ue("Directive"),Ct("SelectionSet")],Field:[at("property"),Ct("Arguments"),Ue("Directive"),Ct("SelectionSet")],Arguments:[Te("("),Ue("Argument"),Te(")")],Argument:[at("attribute"),Te(":"),"Value"],FragmentSpread:[Te("..."),at("def"),Ue("Directive")],InlineFragment:[Te("..."),Ct("TypeCondition"),Ue("Directive"),"SelectionSet"],FragmentDefinition:[zt("fragment"),Ct(hO(at("def"),[zt("on")])),"TypeCondition",Ue("Directive"),"SelectionSet"],TypeCondition:[zt("on"),"NamedType"],Value(e){switch(e.kind){case"Number":return"NumberValue";case"String":return"StringValue";case"Punctuation":switch(e.value){case"[":return"ListValue";case"{":return"ObjectValue";case"$":return"Variable";case"&":return"NamedType"}return null;case"Name":switch(e.value){case"true":case"false":return"BooleanValue"}return e.value==="null"?"NullValue":"EnumValue"}},NumberValue:[Ol("Number","number")],StringValue:[{style:"string",match:e=>e.kind==="String",update(e,t){t.value.startsWith('"""')&&(e.inBlockstring=!t.value.slice(3).endsWith('"""'))}}],BooleanValue:[Ol("Name","builtin")],NullValue:[Ol("Name","keyword")],EnumValue:[at("string-2")],ListValue:[Te("["),Ue("Value"),Te("]")],ObjectValue:[Te("{"),Ue("ObjectField"),Te("}")],ObjectField:[at("attribute"),Te(":"),"Value"],Type(e){return e.value==="["?"ListType":"NonNullType"},ListType:[Te("["),"Type",Te("]"),Ct(Te("!"))],NonNullType:["NamedType",Ct(Te("!"))],NamedType:[mO("atom")],Directive:[Te("@","meta"),at("meta"),Ct("Arguments")],DirectiveDef:[zt("directive"),Te("@","meta"),at("meta"),Ct("ArgumentsDef"),zt("on"),Ue("DirectiveLocation",Te("|"))],InterfaceDef:[zt("interface"),at("atom"),Ct("Implements"),Ue("Directive"),Te("{"),Ue("FieldDef"),Te("}")],Implements:[zt("implements"),Ue("NamedType",Te("&"))],DirectiveLocation:[at("string-2")],SchemaDef:[zt("schema"),Ue("Directive"),Te("{"),Ue("OperationTypeDef"),Te("}")],OperationTypeDef:[at("keyword"),Te(":"),at("atom")],ScalarDef:[zt("scalar"),at("atom"),Ue("Directive")],ObjectTypeDef:[zt("type"),at("atom"),Ct("Implements"),Ue("Directive"),Te("{"),Ue("FieldDef"),Te("}")],FieldDef:[at("property"),Ct("ArgumentsDef"),Te(":"),"Type",Ue("Directive")],ArgumentsDef:[Te("("),Ue("InputValueDef"),Te(")")],InputValueDef:[at("attribute"),Te(":"),"Type",Ct("DefaultValue"),Ue("Directive")],UnionDef:[zt("union"),at("atom"),Ue("Directive"),Te("="),Ue("UnionMember",Te("|"))],UnionMember:["NamedType"],EnumDef:[zt("enum"),at("atom"),Ue("Directive"),Te("{"),Ue("EnumValueDef"),Te("}")],EnumValueDef:[at("string-2"),Ue("Directive")],InputDef:[zt("input"),at("atom"),Ue("Directive"),Te("{"),Ue("InputValueDef"),Te("}")],ExtendDef:[zt("extend"),"ExtensionDefinition"],ExtensionDefinition(e){switch(e.value){case"schema":return F.SCHEMA_EXTENSION;case"scalar":return F.SCALAR_TYPE_EXTENSION;case"type":return F.OBJECT_TYPE_EXTENSION;case"interface":return F.INTERFACE_TYPE_EXTENSION;case"union":return F.UNION_TYPE_EXTENSION;case"enum":return F.ENUM_TYPE_EXTENSION;case"input":return F.INPUT_OBJECT_TYPE_EXTENSION}},[F.SCHEMA_EXTENSION]:["SchemaDef"],[F.SCALAR_TYPE_EXTENSION]:["ScalarDef"],[F.OBJECT_TYPE_EXTENSION]:["ObjectTypeDef"],[F.INTERFACE_TYPE_EXTENSION]:["InterfaceDef"],[F.UNION_TYPE_EXTENSION]:["UnionDef"],[F.ENUM_TYPE_EXTENSION]:["EnumDef"],[F.INPUT_OBJECT_TYPE_EXTENSION]:["InputDef"]};function zt(e){return{style:"keyword",match:t=>t.kind==="Name"&&t.value===e}}function at(e){return{style:e,match:t=>t.kind==="Name",update(t,n){t.name=n.value}}}function mO(e){return{style:e,match:t=>t.kind==="Name",update(t,n){var s;!((s=t.prevState)===null||s===void 0)&&s.prevState&&(t.name=n.value,t.prevState.prevState.type=n.value)}}}function Mx(e={eatWhitespace:t=>t.eatWhile(pO),lexRules:fO,parseRules:gO,editorConfig:{}}){return{startState(){const t={level:0,step:0,name:null,kind:null,type:null,rule:null,needsSeparator:!1,prevState:null};return no(e.parseRules,t,F.DOCUMENT),t},token(t,n){return bO(t,n,e)}}}function bO(e,t,n){var s;if(t.inBlockstring)return e.match(/.*"""/)?(t.inBlockstring=!1,"string"):(e.skipToEnd(),"string");const{lexRules:r,parseRules:o,eatWhitespace:a,editorConfig:c}=n;if(t.rule&&t.rule.length===0?hh(t):t.needsAdvance&&(t.needsAdvance=!1,Pu(t,!0)),e.sol()){const d=c?.tabSize||2;t.indentLevel=Math.floor(e.indentation()/d)}if(a(e))return"ws";const l=yO(r,e);if(!l)return e.match(/\S+/)||e.match(/\s/),no(Cl,t,"Invalid"),"invalidchar";if(l.kind==="Comment")return no(Cl,t,"Comment"),"comment";const u=Mf({},t);if(l.kind==="Punctuation"){if(/^[{([]/.test(l.value))t.indentLevel!==void 0&&(t.levels=(t.levels||[]).concat(t.indentLevel+1));else if(/^[})\]]/.test(l.value)){const d=t.levels=(t.levels||[]).slice(0,-1);t.indentLevel&&d.length>0&&d.at(-1)<t.indentLevel&&(t.indentLevel=d.at(-1))}}for(;t.rule;){let d=typeof t.rule=="function"?t.step===0?t.rule(l,e):null:t.rule[t.step];if(t.needsSeparator&&(d=d?.separator),d){if(d.ofRule&&(d=d.ofRule),typeof d=="string"){no(o,t,d);continue}if(!((s=d.match)===null||s===void 0)&&s.call(d,l))return d.update&&d.update(t,l),l.kind==="Punctuation"?Pu(t,!0):t.needsAdvance=!0,d.style}xO(t)}return Mf(t,u),no(Cl,t,"Invalid"),"invalidchar"}function Mf(e,t){const n=Object.keys(t);for(let s=0;s<n.length;s++)e[n[s]]=t[n[s]];return e}const Cl={Invalid:[],Comment:[]};function no(e,t,n){if(!e[n])throw new TypeError("Unknown rule: "+n);t.prevState=Object.assign({},t),t.kind=n,t.name=null,t.type=null,t.rule=e[n],t.step=0,t.needsSeparator=!1}function hh(e){e.prevState&&(e.kind=e.prevState.kind,e.name=e.prevState.name,e.type=e.prevState.type,e.rule=e.prevState.rule,e.step=e.prevState.step,e.needsSeparator=e.prevState.needsSeparator,e.prevState=e.prevState.prevState)}function Pu(e,t){var n;if(Ff(e)&&e.rule){const s=e.rule[e.step];if(s.separator){const{separator:r}=s;if(e.needsSeparator=!e.needsSeparator,!e.needsSeparator&&r.ofRule)return}if(t)return}for(e.needsSeparator=!1,e.step++;e.rule&&!(Array.isArray(e.rule)&&e.step<e.rule.length);)hh(e),e.rule&&(Ff(e)?!((n=e.rule)===null||n===void 0)&&n[e.step].separator&&(e.needsSeparator=!e.needsSeparator):(e.needsSeparator=!1,e.step++))}function Ff(e){const t=Array.isArray(e.rule)&&typeof e.rule[e.step]!="string"&&e.rule[e.step];return t&&t.isList}function xO(e){for(;e.rule&&!(Array.isArray(e.rule)&&e.rule[e.step].ofRule);)hh(e);e.rule&&Pu(e,!1)}function yO(e,t){const n=Object.keys(e);for(let s=0;s<n.length;s++){const r=t.match(e[n[s]]);if(r&&r instanceof Array)return{kind:n[s],value:r[0]}}}function Yc(e,t){const n=e.split(`
`),s=Mx();let r=s.startState(),o="",a=new Au("");for(let c=0;c<n.length;c++){for(a=new Au(n[c]);!a.eol()&&(o=s.token(a,r),t(a,r,o,c)!=="BREAK"););t(a,r,o,c),r.kind||(r=s.startState())}return{start:a.getStartOfToken(),end:a.getCurrentPosition(),string:a.current(),state:r,style:o}}var ti;(function(e){e.TYPE_SYSTEM="TYPE_SYSTEM",e.EXECUTABLE="EXECUTABLE",e.UNKNOWN="UNKNOWN"})(ti||(ti={}));const vO=[F.SCHEMA_DEFINITION,F.OPERATION_TYPE_DEFINITION,F.SCALAR_TYPE_DEFINITION,F.OBJECT_TYPE_DEFINITION,F.INTERFACE_TYPE_DEFINITION,F.UNION_TYPE_DEFINITION,F.ENUM_TYPE_DEFINITION,F.INPUT_OBJECT_TYPE_DEFINITION,F.DIRECTIVE_DEFINITION,F.SCHEMA_EXTENSION,F.SCALAR_TYPE_EXTENSION,F.OBJECT_TYPE_EXTENSION,F.INTERFACE_TYPE_EXTENSION,F.UNION_TYPE_EXTENSION,F.ENUM_TYPE_EXTENSION,F.INPUT_OBJECT_TYPE_EXTENSION],wO=e=>{let t=ti.UNKNOWN;if(e)try{Hc(oo(e),{enter(n){if(n.kind==="Document"){t=ti.EXECUTABLE;return}return vO.includes(n.kind)?(t=ti.TYPE_SYSTEM,tr):!1}})}catch{return t}return t};function SO(e,t){return t?.endsWith(".graphqls")?ti.TYPE_SYSTEM:wO(e)}function Fx(e,t,n=0){let s=null,r=null,o=null;const a=Yc(e,(c,l,u,d)=>{if(!(d!==t.line||c.getCurrentPosition()+n<t.character+1))return s=u,r=Object.assign({},l),o=c.current(),"BREAK"});return{start:a.start,end:a.end,string:o||a.string,state:r||a.state,style:s||a.style}}function jO(e,t,n,s,r){const o=Fx(e,t,1);if(!o)return null;const a=o.state.kind==="Invalid"?o.state.prevState:o.state;if(!a)return null;const c=Qx(n,o.state),l=r?.mode||SO(e,r?.uri);return{token:o,state:a,typeInfo:c,mode:l}}function qf(e,t,n){return n===vo.name&&e.getQueryType()===t?vo:n===wo.name&&e.getQueryType()===t?wo:n===So.name&&Nn(t)?So:"getFields"in t?t.getFields()[n]:null}function qx(e,t){const n=[];let s=e;for(;s?.kind;)n.push(s),s=s.prevState;for(let r=n.length-1;r>=0;r--)t(n[r])}function TO(e){let t;return qx(e,n=>{switch(n.kind){case"Query":case"ShortQuery":case"Mutation":case"Subscription":case"FragmentDefinition":t=n;break}}),t}function Qx(e,t){let n,s,r,o,a,c,l,u,d,h,p;return qx(t,f=>{var g;switch(f.kind){case te.QUERY:case"ShortQuery":h=e.getQueryType();break;case te.MUTATION:h=e.getMutationType();break;case te.SUBSCRIPTION:h=e.getSubscriptionType();break;case te.INLINE_FRAGMENT:case te.FRAGMENT_DEFINITION:f.type&&(h=e.getType(f.type));break;case te.FIELD:case te.ALIASED_FIELD:{!h||!f.name?a=null:(a=d?qf(e,d,f.name):null,h=a?a.type:null);break}case te.SELECTION_SET:d=_t(h);break;case te.DIRECTIVE:r=f.name?e.getDirective(f.name):null;break;case te.INTERFACE_DEF:f.name&&(l=null,p=new cr({name:f.name,interfaces:[],fields:{}}));break;case te.OBJECT_TYPE_DEF:f.name&&(p=null,l=new js({name:f.name,interfaces:[],fields:{}}));break;case te.ARGUMENTS:{if(f.prevState)switch(f.prevState.kind){case te.FIELD:s=a&&a.args;break;case te.DIRECTIVE:s=r&&r.args;break;case te.ALIASED_FIELD:{const w=(g=f.prevState)===null||g===void 0?void 0:g.name;if(!w){s=null;break}const j=d?qf(e,d,w):null;if(!j){s=null;break}s=j.args;break}default:s=null;break}else s=null;break}case te.ARGUMENT:if(s){for(let w=0;w<s.length;w++)if(s[w].name===f.name){n=s[w];break}}c=n?.type;break;case te.VARIABLE_DEFINITION:case te.VARIABLE:h=c;break;case te.ENUM_VALUE:const m=_t(c);o=m instanceof Qr?m.getValues().find(w=>w.value===f.name):null;break;case te.LIST_VALUE:const b=ih(c);c=b instanceof mn?b.ofType:null;break;case te.OBJECT_VALUE:const x=_t(c);u=x instanceof rh?x.getFields():null;break;case te.OBJECT_FIELD:const T=f.name&&u?u[f.name]:null;c=T?.type,a=T,h=a?a.type:null;break;case te.NAMED_TYPE:f.name&&(h=e.getType(f.name));break}}),{argDef:n,argDefs:s,directiveDef:r,enumValue:o,fieldDef:a,inputType:c,objectFieldDefs:u,parentType:d,type:h,interfaceDef:p,objectTypeDef:l}}const EO={ALIASED_FIELD:"AliasedField",ARGUMENTS:"Arguments",SHORT_QUERY:"ShortQuery",QUERY:"Query",MUTATION:"Mutation",SUBSCRIPTION:"Subscription",TYPE_CONDITION:"TypeCondition",INVALID:"Invalid",COMMENT:"Comment",SCHEMA_DEF:"SchemaDef",SCALAR_DEF:"ScalarDef",OBJECT_TYPE_DEF:"ObjectTypeDef",OBJECT_VALUE:"ObjectValue",LIST_VALUE:"ListValue",INTERFACE_DEF:"InterfaceDef",UNION_DEF:"UnionDef",ENUM_DEF:"EnumDef",ENUM_VALUE:"EnumValue",FIELD_DEF:"FieldDef",INPUT_DEF:"InputDef",INPUT_VALUE_DEF:"InputValueDef",ARGUMENTS_DEF:"ArgumentsDef",EXTEND_DEF:"ExtendDef",EXTENSION_DEFINITION:"ExtensionDefinition",DIRECTIVE_DEF:"DirectiveDef",IMPLEMENTS:"Implements",VARIABLE_DEFINITIONS:"VariableDefinitions",TYPE:"Type",VARIABLE:"Variable"},te=Object.assign(Object.assign({},F),EO);var _e;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(_e||(_e={}));const $u={command:"editor.action.triggerSuggest",title:"Suggestions"},kO=e=>[];function OO(e,t,n,s,r,o){var a;const c=Object.assign(Object.assign({},o),{schema:e}),l=jO(t,n,e,s,o);if(!l)return[];const{state:u,typeInfo:d,mode:h,token:p}=l,{kind:f,step:g,prevState:m}=u;if(f===te.DOCUMENT)return h===ti.TYPE_SYSTEM?CO(p):h===ti.EXECUTABLE?_O(p):NO(p);if(f===te.EXTEND_DEF)return IO(p);if(((a=m?.prevState)===null||a===void 0?void 0:a.kind)===te.EXTENSION_DEFINITION&&u.name)return lt(p,[]);if(m?.kind===F.SCALAR_TYPE_EXTENSION)return lt(p,Object.values(e.getTypeMap()).filter(Bi).map(x=>({label:x.name,kind:_e.Function})));if(m?.kind===F.OBJECT_TYPE_EXTENSION)return lt(p,Object.values(e.getTypeMap()).filter(x=>mt(x)&&!x.name.startsWith("__")).map(x=>({label:x.name,kind:_e.Function})));if(m?.kind===F.INTERFACE_TYPE_EXTENSION)return lt(p,Object.values(e.getTypeMap()).filter(wt).map(x=>({label:x.name,kind:_e.Function})));if(m?.kind===F.UNION_TYPE_EXTENSION)return lt(p,Object.values(e.getTypeMap()).filter(ss).map(x=>({label:x.name,kind:_e.Function})));if(m?.kind===F.ENUM_TYPE_EXTENSION)return lt(p,Object.values(e.getTypeMap()).filter(x=>is(x)&&!x.name.startsWith("__")).map(x=>({label:x.name,kind:_e.Function})));if(m?.kind===F.INPUT_OBJECT_TYPE_EXTENSION)return lt(p,Object.values(e.getTypeMap()).filter(Gt).map(x=>({label:x.name,kind:_e.Function})));if(f===te.IMPLEMENTS||f===te.NAMED_TYPE&&m?.kind===te.IMPLEMENTS)return AO(p,u,e,t,d);if(f===te.SELECTION_SET||f===te.FIELD||f===te.ALIASED_FIELD)return DO(p,d,c);if(f===te.ARGUMENTS||f===te.ARGUMENT&&g===0){const{argDefs:x}=d;if(x)return lt(p,x.map(T=>{var w;return{label:T.name,insertText:Lp(T.name+": ",T.type),insertTextMode:bi.adjustIndentation,insertTextFormat:ur.Snippet,command:$u,labelDetails:{detail:" "+String(T.type)},documentation:(w=T.description)!==null&&w!==void 0?w:void 0,kind:_e.Variable,type:T.type}}))}if((f===te.OBJECT_VALUE||f===te.OBJECT_FIELD&&g===0)&&d.objectFieldDefs){const x=Pi(d.objectFieldDefs),T=f===te.OBJECT_VALUE?_e.Value:_e.Field;return lt(p,x.map(w=>{var j;return{label:w.name,detail:String(w.type),documentation:(j=w?.description)!==null&&j!==void 0?j:void 0,kind:T,type:w.type,insertText:Lp(w.name+": ",w.type),insertTextMode:bi.adjustIndentation,insertTextFormat:ur.Snippet,command:$u}}))}if(f===te.ENUM_VALUE||f===te.LIST_VALUE&&g===1||f===te.OBJECT_FIELD&&g===2||f===te.ARGUMENT&&g===2)return RO(p,d,t,e);if(f===te.VARIABLE&&g===1){const x=_t(d.inputType),T=Ux(t,e,p);return lt(p,T.filter(w=>w.detail===x?.name))}if(f===te.TYPE_CONDITION&&g===1||f===te.NAMED_TYPE&&m!=null&&m.kind===te.TYPE_CONDITION)return PO(p,d,e);if(f===te.FRAGMENT_SPREAD&&g===1)return $O(p,d,e,t,Array.isArray(r)?r:kO());const b=zx(u);return b.kind===te.FIELD_DEF?lt(p,Object.values(e.getTypeMap()).filter(x=>Ti(x)&&!x.name.startsWith("__")).map(x=>({label:x.name,kind:_e.Function,insertText:o?.fillLeafsOnComplete?x.name+`
`:x.name,insertTextMode:bi.adjustIndentation}))):b.kind===te.INPUT_VALUE_DEF&&g===2?lt(p,Object.values(e.getTypeMap()).filter(x=>jn(x)&&!x.name.startsWith("__")).map(x=>({label:x.name,kind:_e.Function,insertText:o?.fillLeafsOnComplete?x.name+`
$1`:x.name,insertTextMode:bi.adjustIndentation,insertTextFormat:ur.Snippet}))):f===te.VARIABLE_DEFINITION&&g===2||f===te.LIST_TYPE&&g===1||f===te.NAMED_TYPE&&m&&(m.kind===te.VARIABLE_DEFINITION||m.kind===te.LIST_TYPE||m.kind===te.NON_NULL_TYPE)?FO(p,e):f===te.DIRECTIVE?qO(p,u,e):f===te.DIRECTIVE_DEF?QO(p,u,e):[]}const ph=[{label:"type",kind:_e.Function},{label:"interface",kind:_e.Function},{label:"union",kind:_e.Function},{label:"input",kind:_e.Function},{label:"scalar",kind:_e.Function},{label:"schema",kind:_e.Function}],Vx=[{label:"query",kind:_e.Function},{label:"mutation",kind:_e.Function},{label:"subscription",kind:_e.Function},{label:"fragment",kind:_e.Function},{label:"{",kind:_e.Constructor}];function CO(e){return lt(e,[{label:"extend",kind:_e.Function},...ph])}function _O(e){return lt(e,Vx)}function NO(e){return lt(e,[{label:"extend",kind:_e.Function},...Vx,...ph])}function IO(e){return lt(e,ph)}function DO(e,t,n){var s;if(t.parentType){const{parentType:r}=t;let o=[];return"getFields"in r&&(o=Pi(r.getFields())),Nn(r)&&o.push(So),r===((s=n?.schema)===null||s===void 0?void 0:s.getQueryType())&&o.push(vo,wo),lt(e,o.map((a,c)=>{var l;const u={sortText:String(c)+a.name,label:a.name,detail:String(a.type),documentation:(l=a.description)!==null&&l!==void 0?l:void 0,deprecated:!!a.deprecationReason,isDeprecated:!!a.deprecationReason,deprecationReason:a.deprecationReason,kind:_e.Field,labelDetails:{detail:" "+a.type.toString()},type:a.type};return n?.fillLeafsOnComplete&&(u.insertText=uO(a),u.insertText||(u.insertText=sc(a.name,a.type,a.name+(e.state.needsAdvance?"":`
`))),u.insertText&&(u.insertTextFormat=ur.Snippet,u.insertTextMode=bi.adjustIndentation,u.command=$u)),u}))}return[]}function RO(e,t,n,s){const r=_t(t.inputType),o=Ux(n,s,e).filter(a=>a.detail===r?.name);if(r instanceof Qr){const a=r.getValues();return lt(e,a.map(c=>{var l;return{label:c.name,detail:String(r),documentation:(l=c.description)!==null&&l!==void 0?l:void 0,deprecated:!!c.deprecationReason,isDeprecated:!!c.deprecationReason,deprecationReason:c.deprecationReason,kind:_e.EnumMember,type:r}}).concat(o))}return r===Qt?lt(e,o.concat([{label:"true",detail:String(Qt),documentation:"Not false.",kind:_e.Variable,type:Qt},{label:"false",detail:String(Qt),documentation:"Not true.",kind:_e.Variable,type:Qt}])):o}function AO(e,t,n,s,r){if(t.needsSeparator)return[];const o=n.getTypeMap(),a=Pi(o).filter(wt),c=a.map(({name:f})=>f),l=new Set;Yc(s,(f,g)=>{var m,b,x,T,w;if(g.name&&(g.kind===te.INTERFACE_DEF&&!c.includes(g.name)&&l.add(g.name),g.kind===te.NAMED_TYPE&&((m=g.prevState)===null||m===void 0?void 0:m.kind)===te.IMPLEMENTS)){if(r.interfaceDef){if((b=r.interfaceDef)===null||b===void 0?void 0:b.getInterfaces().find(({name:C})=>C===g.name))return;const N=n.getType(g.name),I=(x=r.interfaceDef)===null||x===void 0?void 0:x.toConfig();r.interfaceDef=new cr(Object.assign(Object.assign({},I),{interfaces:[...I.interfaces,N||new cr({name:g.name,fields:{}})]}))}else if(r.objectTypeDef){if((T=r.objectTypeDef)===null||T===void 0?void 0:T.getInterfaces().find(({name:C})=>C===g.name))return;const N=n.getType(g.name),I=(w=r.objectTypeDef)===null||w===void 0?void 0:w.toConfig();r.objectTypeDef=new js(Object.assign(Object.assign({},I),{interfaces:[...I.interfaces,N||new cr({name:g.name,fields:{}})]}))}}});const u=r.interfaceDef||r.objectTypeDef,h=(u?.getInterfaces()||[]).map(({name:f})=>f),p=a.concat([...l].map(f=>({name:f}))).filter(({name:f})=>f!==u?.name&&!h.includes(f));return lt(e,p.map(f=>{const g={label:f.name,kind:_e.Interface,type:f};return f?.description&&(g.documentation=f.description),g}))}function PO(e,t,n,s){let r;if(t.parentType)if(bs(t.parentType)){const o=NE(t.parentType),a=n.getPossibleTypes(o),c=Object.create(null);for(const l of a)for(const u of l.getInterfaces())c[u.name]=u;r=a.concat(Pi(c))}else r=[t.parentType];else{const o=n.getTypeMap();r=Pi(o).filter(a=>Nn(a)&&!a.name.startsWith("__"))}return lt(e,r.map(o=>{const a=_t(o);return{label:String(o),documentation:a?.description||"",kind:_e.Field}}))}function $O(e,t,n,s,r){if(!s)return[];const o=n.getTypeMap(),a=TO(e.state),c=MO(s);r&&r.length>0&&c.push(...r);const l=c.filter(u=>o[u.typeCondition.name.value]&&!(a&&a.kind===te.FRAGMENT_DEFINITION&&a.name===u.name.value)&&Nn(t.parentType)&&Nn(o[u.typeCondition.name.value])&&bu(n,t.parentType,o[u.typeCondition.name.value]));return lt(e,l.map(u=>({label:u.name.value,detail:String(o[u.typeCondition.name.value]),documentation:`fragment ${u.name.value} on ${u.typeCondition.name.value}`,labelDetails:{detail:`fragment ${u.name.value} on ${u.typeCondition.name.value}`},kind:_e.Field,type:o[u.typeCondition.name.value]})))}const LO=(e,t)=>{var n,s,r,o,a,c,l,u,d,h;if(((n=e.prevState)===null||n===void 0?void 0:n.kind)===t)return e.prevState;if(((r=(s=e.prevState)===null||s===void 0?void 0:s.prevState)===null||r===void 0?void 0:r.kind)===t)return e.prevState.prevState;if(((c=(a=(o=e.prevState)===null||o===void 0?void 0:o.prevState)===null||a===void 0?void 0:a.prevState)===null||c===void 0?void 0:c.kind)===t)return e.prevState.prevState.prevState;if(((h=(d=(u=(l=e.prevState)===null||l===void 0?void 0:l.prevState)===null||u===void 0?void 0:u.prevState)===null||d===void 0?void 0:d.prevState)===null||h===void 0?void 0:h.kind)===t)return e.prevState.prevState.prevState.prevState};function Ux(e,t,n){let s=null,r;const o=Object.create({});return Yc(e,(a,c)=>{var l;if(c?.kind===te.VARIABLE&&c.name&&(s=c.name),c?.kind===te.NAMED_TYPE&&s){const u=LO(c,te.TYPE);u?.type&&(r=t.getType(u?.type))}if(s&&r&&!o[s]){const u=n.string==="$"||((l=n?.state)===null||l===void 0?void 0:l.kind)==="Variable"?s:"$"+s;o[s]={detail:r.toString(),insertText:u,label:"$"+s,rawInsert:u,type:r,kind:_e.Variable},s=null,r=null}}),Pi(o)}function MO(e){const t=[];return Yc(e,(n,s)=>{s.kind===te.FRAGMENT_DEFINITION&&s.name&&s.type&&t.push({kind:te.FRAGMENT_DEFINITION,name:{kind:F.NAME,value:s.name},selectionSet:{kind:te.SELECTION_SET,selections:[]},typeCondition:{kind:te.NAMED_TYPE,name:{kind:F.NAME,value:s.type}}})}),t}function FO(e,t,n){const s=t.getTypeMap(),r=Pi(s).filter(jn);return lt(e,r.map(o=>({label:o.name,documentation:o?.description||"",kind:_e.Variable})))}function qO(e,t,n,s){var r;if(!((r=t.prevState)===null||r===void 0)&&r.kind){const o=n.getDirectives().filter(a=>VO(t.prevState,a));return lt(e,o.map(a=>({label:a.name,documentation:a?.description||"",kind:_e.Function})))}return[]}function QO(e,t,n,s){const r=n.getDirectives().find(o=>o.name===t.name);return lt(e,r?.args.map(o=>({label:o.name,documentation:o.description||"",kind:_e.Field}))||[])}function VO(e,t){if(!e?.kind)return!1;const{kind:n,prevState:s}=e,{locations:r}=t;switch(n){case te.QUERY:return r.includes(ue.QUERY);case te.MUTATION:return r.includes(ue.MUTATION);case te.SUBSCRIPTION:return r.includes(ue.SUBSCRIPTION);case te.FIELD:case te.ALIASED_FIELD:return r.includes(ue.FIELD);case te.FRAGMENT_DEFINITION:return r.includes(ue.FRAGMENT_DEFINITION);case te.FRAGMENT_SPREAD:return r.includes(ue.FRAGMENT_SPREAD);case te.INLINE_FRAGMENT:return r.includes(ue.INLINE_FRAGMENT);case te.SCHEMA_DEF:return r.includes(ue.SCHEMA);case te.SCALAR_DEF:return r.includes(ue.SCALAR);case te.OBJECT_TYPE_DEF:return r.includes(ue.OBJECT);case te.FIELD_DEF:return r.includes(ue.FIELD_DEFINITION);case te.INTERFACE_DEF:return r.includes(ue.INTERFACE);case te.UNION_DEF:return r.includes(ue.UNION);case te.ENUM_DEF:return r.includes(ue.ENUM);case te.ENUM_VALUE:return r.includes(ue.ENUM_VALUE);case te.INPUT_DEF:return r.includes(ue.INPUT_OBJECT);case te.INPUT_VALUE_DEF:switch(s?.kind){case te.ARGUMENTS_DEF:return r.includes(ue.ARGUMENT_DEFINITION);case te.INPUT_DEF:return r.includes(ue.INPUT_FIELD_DEFINITION)}}return!1}function zx(e){return e.prevState&&e.kind&&[te.NAMED_TYPE,te.LIST_TYPE,te.TYPE,te.NON_NULL_TYPE].includes(e.kind)?zx(e.prevState):e}var fh={exports:{}};function Bx(e,t){if(e!=null)return e;var n=new Error(t!==void 0?t:"Got unexpected "+e);throw n.framesToPop=1,n}fh.exports=Bx;fh.exports.default=Bx;Object.defineProperty(fh.exports,"__esModule",{value:!0});class Hx{constructor(t,n){this.containsPosition=s=>this.start.line===s.line?this.start.character<=s.character:this.end.line===s.line?this.end.character>=s.character:this.start.line<=s.line&&this.end.line>=s.line,this.start=t,this.end=n}setStart(t,n){this.start=new kr(t,n)}setEnd(t,n){this.end=new kr(t,n)}}let kr=class{constructor(t,n){this.lessThanOrEqualTo=s=>this.line<s.line||this.line===s.line&&this.character<=s.character,this.line=t,this.character=n}setLine(t){this.line=t}setCharacter(t){this.character=t}};function UO(e,t,n,s,r){const o=Px.filter(c=>!(c===Nx||c===_x));return $x(e,t,o).filter(c=>{if(c.message.includes("Unknown directive")&&c.nodes){const l=c.nodes[0];if(l&&l.kind===F.DIRECTIVE){const u=l.name.value;if(u==="arguments"||u==="argumentDefinitions")return!1}}return!0})}const Qf={Error:"Error",Warning:"Warning"},Lu={[Qf.Error]:1,[Qf.Warning]:2},lc=(e,t)=>{if(!e)throw new Error(t)};function zO(e,t=null,n,s,r){var o,a;let c=null;const l=e;try{c=oo(l)}catch(u){if(u instanceof re){const d=HO((a=(o=u.locations)===null||o===void 0?void 0:o[0])!==null&&a!==void 0?a:{line:0},l);return[{severity:Lu.Error,message:u.message,source:"GraphQL: Syntax",range:d}]}throw u}return BO(c,t)}function BO(e,t=null,n,s){if(!t)return[];const r=UO(t,e).flatMap(a=>Vf(a,Lu.Error,"Validation")),o=$x(t,e,[sO]).flatMap(a=>Vf(a,Lu.Warning,"Deprecation"));return r.concat(o)}function Vf(e,t,n){if(!e.nodes)return[];const s=[];for(const[r,o]of e.nodes.entries()){const a=o.kind!=="Variable"&&"name"in o&&o.name!==void 0?o.name:"variable"in o&&o.variable!==void 0?o.variable:o;if(a){lc(e.locations,"GraphQL validation error requires locations.");const c=e.locations[r],l=GO(a),u=c.column+(l.end-l.start);s.push({source:`GraphQL: ${n}`,message:e.message,severity:t,range:new Hx(new kr(c.line-1,c.column-1),new kr(c.line-1,u))})}}return s}function HO(e,t){const n=Mx(),s=n.startState(),r=t.split(`
`);lc(r.length>=e.line,"Query text must have more lines than where the error happened");let o=null;for(let u=0;u<e.line;u++)for(o=new Au(r[u]);!o.eol()&&n.token(o,s)!=="invalidchar";);lc(o,"Expected Parser stream to be available.");const a=e.line-1,c=o.getStartOfToken(),l=o.getCurrentPosition();return new Hx(new kr(a,c),new kr(a,l))}function GO(e){const n=e.loc;return lc(n,"Expected ASTNode to have a location."),n}const{INLINE_FRAGMENT:nTe}=F;function Uf(e,t){return e.line(t.line+1).from+t.character}function Gx(e,t){const n=e.lineAt(t);return new Mu(n.number-1,t-n.from)}let Mu=class{constructor(t,n){this.line=t,this.character=n}setLine(t){this.line=t}setCharacter(t){this.character=t}lessThanOrEqualTo(t){return this.line<t.line||this.line===t.line&&this.character<=t.character}};const YO=()=>navigator.userAgent.includes("Mac"),XO=e=>YO()?e.metaKey:e.ctrlKey,Yx=Gb.define(),uc=Yb.define({create(){},update(e,t){for(const n of t.effects)if(n.is(Yx))return n.value;return e}}),WO=Gb.define(),dc=Yb.define({create(){},update(e,t){for(const n of t.effects)if(n.is(WO))return n.value;return e}}),ZO=(e,t)=>{e.dispatch({effects:Yx.of(t)})},gh=e=>e.field(uc),mh=e=>e.field(dc),JO={showErrorOnInvalidSchema:!0},KO=(e,t)=>[uc.init(()=>e),dc.init(()=>Object.assign(Object.assign({},JO),t))],eC={__proto__:null,query:241,mutation:243,subscription:245,on:86,fragment:92,schema:102,scalar:114,type:120,implements:126,interface:140,union:146,enum:154,input:164,directive:172,repeatable:176,extend:192},tC=IT.deserialize({version:14,states:"LWOYQPOOO!WQPO'#C}O!`QPO'#C_OOQO'#C_'#C_O!iQPO'#DYOOQO'#Ev'#EvOOQO'#D_'#D_O!nQPO'#D^O#_QPO'#D^O!iQPO'#DhO!iQPO'#DrO!iQPO'#DuO!iQPO'#DyO!iQPO'#EOOOQO'#Dd'#DdO#fQPO'#ESOOQO'#D]'#D]O!vQPO'#E^OOQO'#Ea'#EaOOQO'#E]'#E]OOQO'#FT'#FTOOQO'#Eu'#EuOOQO'#Eh'#EhQYQPOOOOQO'#C`'#C`OOQO'#DZ'#DZOOQO'#D`'#D`OOQO'#Di'#DiOOQO'#Ds'#DsOOQO'#Dv'#DvOOQO'#Dz'#DzOOQO'#EP'#EPOOQO'#ET'#ETOOQO'#E_'#E_O#kQPO'#CaO$VQPO'#DQO$[QPO'#DPO$sQPO'#DPO$xQPO'#DSO%WQPO'#DOOOQO'#En'#EnO%fQPO,59iOOQO'#Ca'#CaO%qQPO'#CxOOQO'#El'#ElO'hQPO'#CwO)[QPO'#CdOOQO,58y,58yO)aQPO,58yO)fQPO,58yO)nQPO,58yOOQO'#DT'#DTO)yQPO,59tO{QPO'#FUOOQO'#Db'#DbOOQO,59x,59xO*OQPO,59xO!nQPO,59xO!iQPO,5:PO!iQPO,5:SO!iQPO,5:^O!iQPO,5:aO!iQPO,5:eO!iQPO,5:jO*TQPO,5:nOOQO'#Df'#DfO*YQPO,5:SO+aQPO,5:^O,hQPO,5:aO-oQPO,5:eO.sQPO,5:jO/wQPO,5:nO!nQPO,5:xO!iQPO,5:|O!iQPO,5:}O!iQPO,5;OO!iQPO,5;PO!iQPO,5;QO!iQPO,5;ROOQO-E8f-E8fOOQO,59l,59lO0VQPO'#CzOOQO,59k,59kO0[QPO,59kO0mQPO,59kOOQO'#DR'#DRO0tQPO,59kO1OQPO,59nO!iQPO'#DVOOQO,59p,59pO)aQPO,59pO)fQPO,59pOOQO'#DW'#DWOOQO,59j,59jOOQO-E8l-E8lOOQO1G/T1G/TOOQO,59d,59dOOQO-E8j-E8jO1aQPO'#CeOOQO'#Ei'#EiO1fQPO,59OOOQO1G.e1G.eO)aQPO1G.eO)fQPO1G.eO)fQPO1G/`O1nQPO'#DcO1sQPO,5;pOOQO1G/d1G/dO*OQPO1G/dO1xQPO1G/kO4QQPO1G/nO5]QPO1G/xO6hQPO1G/{O7pQPO1G0PO8xQPO1G0UO/wQPO1G0YO9PQPO1G/nO9WQPO'#DkO9`QPO'#FWOOQO'#Dn'#DnOOQO1G/n1G/nO9hQPO1G/nOOQO'#Dl'#DlO:iQPO1G/xOOQO1G/x1G/xO:pQPO1G/xO;qQPO1G/{O;xQPO'#DxO5dQPO1G/{O<QQQO'#FYOOQO'#D|'#D|OOQO1G0P1G0PO6oQPO1G0PO9`QPO'#FZOOQO'#ER'#EROOQO1G0U1G0UO7wQPO1G0UO<YQPO'#DqO!iQPO'#DqOOQO'#Ep'#EpO<_QPO'#DpO<pQSO1G0YO)yQPO1G0YO>QQPO1G0YOOQO'#EV'#EVOOQO1G0d1G0dO>YQPO1G0dO!qQPO1G0hO?ZQPO1G0iO?ZQPO1G0jO?fQPO1G0kO?nQPO1G0lO?vQPO1G0mOOQO'#C|'#C|O@OQPO'#C{OOQO'#Em'#EmO@TQPO,59fOOQO1G/V1G/VO@]QPO1G/VO@nQPO1G/VOOQO1G/Y1G/YOOQO'#Cg'#CgOOQO,59q,59qOOQO1G/[1G/[O)aQPO1G/[O@uQPO,59POOQO-E8g-E8gOOQO1G.j1G.jOOQO7+$P7+$PO)aQPO7+$POOQO7+$z7+$zO)aQPO7+$zO!iQPO,59}OOQO1G1[1G1[OOQO7+%O7+%OOOQO7+%V7+%VOBOQPO7+%YOOQO7+%Y7+%YO@}QPO7+%YOCZQPO7+%dOOQO7+%d7+%dOBYQPO7+%dODfQPO7+%gODmQPO7+%gOOQO7+%k7+%kODtQPO7+%kOOQO7+%p7+%pOEuQPO7+%pO<pQSO7+%tO)yQPO7+%tO>QQPO7+%tO!iQPO,5:VOOQO,5:V,5:VOFvQPO'#DoO!iQPO'#DoOOQO'#Eo'#EoOGRQPO,5;rO!iQPO,5:dOOQO,5:d,5:dOG^QQO'#D}OGlQQO'#D}OOQO'#Eq'#EqOGqQQO,5;tOG|QPO,5;uO@uQPO,5:]OHXQPO,5:]OOQO-E8n-E8nOOQO'#EZ'#EZOOQO'#E['#E[OOQO'#EY'#EYOH^QPO7+%tOOQO'#EX'#EXO<sQSO'#EXOOQO7+&O7+&OOOQO7+&S7+&SOJcQPO7+&TOOQO7+&T7+&TOIbQPO7+&TOKnQPO7+&UOOQO7+&U7+&UOJmQPO7+&UOLyQPO7+&VOMQQPO7+&VOOQO7+&W7+&WOMXQPO7+&WOOQO7+&X7+&XONYQPO7+&XO! ZQQO,59gOOQO-E8k-E8kOOQO1G/Q1G/QOOQO7+$q7+$qO! xQPO7+$qOOQO7+$v7+$vO@uQPO'#CjO!!ZQPO'#E|OOQO'#E|'#E|O!#UQPO1G.kOOQO<<Gk<<GkOOQO<<Hf<<HfOOQO1G/i1G/iOOQO<<Ht<<HtO!#gQPO<<HtOOQO<<IO<<IOO!$hQPO<<IOO!%iQPO<<IROOQO<<IV<<IVOOQO<<I[<<I[O!&mQPO<<I`O<pQSO<<I`O)yQPO<<I`OOQO1G/q1G/qO@uQPO,5:ZO!'qQPO,5:ZO!'vQPO,5:ZOOQO-E8m-E8mOOQO1G1^1G1^OOQO1G0O1G0OO!(RQQO'#CxO!(dQQO'#CwOOQO,5:i,5:iO!(rQQO,5:iOOQO-E8o-E8oOOQO1G1`1G1`OOQO1G1a1G1aO!)QQPO1G/wO@uQPO1G/wO<sQSO,5:sOOQO,5:s,5:sOOQO<<Io<<IoO!)lQPO<<IoOOQO<<Ip<<IpO!*mQPO<<IpO!+nQPO<<IqOOQO<<Ir<<IrOOQO<<Is<<IsO!,rQQO'#CsO!,yQPO'#CvOOQO'#FP'#FPO!-RQPO1G/ROOQO<<H]<<H]O!-^QPO,59UOOQO,59V,59VO! ZQQO'#ClOOQO7+$V7+$VO!-cQPO7+$VO!-nQPO7+$VOOQOAN>`AN>`OOQOAN>jAN>jO!-|QPOAN>zO<pQSOAN>zO!/QQPO1G/uO@uQPO1G/uO!/`QPO1G/uOOQO1G0T1G0TOOQO7+%c7+%cO!/eQPO7+%cO!/|QPO7+%cOOQO1G0_1G0_OOQOAN?ZAN?ZOOQOAN?[AN?[O!0TQQO'#EjO!0xQQO,59_OOQO,59_,59_O!1PQPO'#FROOQO'#Ek'#EkO!1UQPO,59bOOQO,59b,59bOOQO7+$m7+$mOOQO1G.p1G.pOOQO,59W,59WOOQO<<Gq<<GqO!1^QPO<<GqO!1iQPOG24fOOQO7+%a7+%aO!2mQPO7+%aO@uQPO7+%aOOQO<<H}<<H}O!2{QPO<<H}OOQO,5;U,5;UOOQO-E8h-E8hOOQO1G.y1G.yO! ZQQO,5;mOOQO-E8i-E8iOOQO1G.|1G.|OOQOAN=]AN=]OOQO<<H{<<H{O!3dQPO<<H{OOQOAN>iAN>iO!3rQPO1G1XOOQOAN>gAN>gOOQO7+&s7+&s",stateData:"!4S~O#hOSPOS~OcUOiPO!OiO!TjO!^kO!hlO!kmO!onO!toO!xpO#SqO#lhO#mhO#nhO~O#krO#vvO~OV!OOiPOm{O#kzO~Oi!VOm{O~O!TjO!Z!cO!^kO!hlO!kmO!onO!toO~O!xpO~P!vOm!iO~OVuXhuXiuXmuX#kuX#oTX#tuX#vuX~O#o!rO~OV!sOiPOm{OhsX#ksX#tsX#vsX~O#k!wO~OiPOm{O{#OO#kzO~O#t#POhrX#krX#vrX~Oh#RO#krO#vvO~OV!sOilXmlXhlX#klX#tlX#vlXclX!OlX!TlX!^lX!hlX!klX!olX!tlX!xlX#SlX#flX#llX#mlX#nlX#rlXUlXYlX{lX!zlX#olX~Om{OikXhkX#kkX#tkX#vkXckX!OkX!TkX!^kX!hkX!kkX!okX!tkX!xkX#SkX#fkX#lkX#mkX#nkX#rkXUkXYkX{kX!zkX#okX~OY#UO~OiPO~OiPOm{O~OV!OOiPOm{O~O{#OO~Oi!VO~Om#gO~Oi#jOm{O!a#nOc![a!O![a!T![a!^![a!h![a!k![a!o![a!t![a!x![a#S![a#f![a#l![a#m![a#n![a~Oi#jOm{O!a#nOc!fa!O!fa!T!fa!^!fa!h!fa!k!fa!o!fa!t!fa!x!fa#S!fa#f!fa#l!fa#m!fa#n!fa~Om{O#r#sOc!iai!ia!O!ia!T!ia!^!ia!h!ia!k!ia!o!ia!t!ia!x!ia#S!ia#f!ia#l!ia#m!ia#n!ia~Oi#uOm{Oc!ma!O!ma!T!ma!^!ma!h!ma!k!ma!o!ma!t!ma!x!ma#S!ma#f!ma#l!ma#m!ma#n!ma~Oi#yOm{Oc!ra!O!ra!T!ra!^!ra!h!ra!k!ra!o!ra!t!ra!x!ra#S!ra#f!ra#l!ra#m!ra#n!ra~OcUO{#OO!z$UO#kzO~O#k$_O~OiPOhsa#ksa#tsa#vsa~Om{O~P0[OV!sOm{O~P0[Om{Ohva#kva#tva#vva~O#o$kO~OU$mOY#UO~O#o$rO~Oh$sO~Om{Oc!Xii!Xi!O!Xi!T!Xi!^!Xi!h!Xi!k!Xi!o!Xi!t!Xi!x!Xi#S!Xi#f!Xi#l!Xi#m!Xi#n!Xi~Oi#jOm{Oc![i!O![i!T![i!^![i!h![i!k![i!o![i!t![i!x![i#S![i#f![i#l![i#m![i#n![i~O!a#nO~P2|Oi#jOm{Oc!fi!O!fi!T!fi!^!fi!h!fi!k!fi!o!fi!t!fi!x!fi#S!fi#f!fi#l!fi#m!fi#n!fi~O!a#nO~P4XO#r#sOc!iii!ii!O!ii!T!ii!^!ii!h!ii!k!ii!o!ii!t!ii!x!ii#S!ii#f!ii#l!ii#m!ii#n!ii~Om{O~P5dOi#uOc!mi!O!mi!T!mi!^!mi!h!mi!k!mi!o!mi!t!mi!x!mi#S!mi#f!mi#l!mi#m!mi#n!mi~Om{O~P6oOi#yOc!ri!O!ri!T!ri!^!ri!h!ri!k!ri!o!ri!t!ri!x!ri#S!ri#f!ri#l!ri#m!ri#n!ri~Om{O~P7wO#y%VO~P2|O#kzO#y%VO~OcUO#kzO~Oi#jOc![i!O![i!T![i!^![i!h![i!k![i!o![i!t![i!x![i#S![i#f![i#l![i#m![i#n![i~O#y%VO~P4XOi#jOc!fi!O!fi!T!fi!^!fi!h!fi!k!fi!o!fi!t!fi!x!fi#S!fi#f!fi#l!fi#m!fi#n!fi~O#{%]O~P5gO#kzO#{%]O~OcUOf%_O~O#o%dO~OcUO#kzO{!dX!z!dX#o!dX~O#{%lO$O%gO$P%gO$Q%gO$R%gO$S%gO$T%gO$U%gO$V%gO$W%hO$X%hO$Y%hO$Z%hO$[%hO$]%hO$^%hO$_%hO$`%hO$a%hO$b%hO~O{#OO!z$UO~Oi!VOc#Qi!O#Qi!T#Qi!^#Qi!h#Qi!k#Qi!o#Qi!t#Qi!x#Qi#S#Qi#f#Qi#l#Qi#m#Qi#n#Qi~Oi#jOm{O!a#nO~Om{O#r#sO~Oi#uOm{O~Oi#yOm{O~O#o%{O~OU%}O#k$_O~OiPOhsi#ksi#tsi#vsi~Om{O~P@]O]&RO#kzO~Oi#jOc![q!O![q!T![q!^![q!h![q!k![q!o![q!t![q!x![q#S![q#f![q#l![q#m![q#n![q~Om{O#y%VO~P@}Oi#jOc!fq!O!fq!T!fq!^!fq!h!fq!k!fq!o!fq!t!fq!x!fq#S!fq#f!fq#l!fq#m!fq#n!fq~Om{O#y%VO~PBYOc!iqi!iq!O!iq!T!iq!^!iq!h!iq!k!iq!o!iq!t!iq!x!iq#S!iq#f!iq#l!iq#m!iq#n!iq~O#{%]O~PCeO#r#sO~PCeOi#uOc!mq!O!mq!T!mq!^!mq!h!mq!k!mq!o!mq!t!mq!x!mq#S!mq#f!mq#l!mq#m!mq#n!mq~Oi#yOc!rq!O!rq!T!rq!^!rq!h!rq!k!rq!o!rq!t!rq!x!rq#S!rq#f!rq#l!rq#m!rq#n!rq~OcUO#kzO#o&eO~OcUOh&iO#kzO~Om&kOc!qXf!qXh!qX~Of&nO~OcUOf%_Oh&pO~OcUOh&qO#kzO~O#o&sO~O#{&tOc!vqi!vq!O!vq!T!vq!^!vq!h!vq!k!vq!o!vq!t!vq!x!vq#S!vq#f!vq#l!vq#m!vq#n!vq~Oi#jOc#Vq!O#Vq!T#Vq!^#Vq!h#Vq!k#Vq!o#Vq!t#Vq!x#Vq#S#Vq#f#Vq#l#Vq#m#Vq#n#Vq~Om{O#y%VO~PIbOi#jOc#Wq!O#Wq!T#Wq!^#Wq!h#Wq!k#Wq!o#Wq!t#Wq!x#Wq#S#Wq#f#Wq#l#Wq#m#Wq#n#Wq~Om{O#y%VO~PJmOc#Xqi#Xq!O#Xq!T#Xq!^#Xq!h#Xq!k#Xq!o#Xq!t#Xq!x#Xq#S#Xq#f#Xq#l#Xq#m#Xq#n#Xq~O#{%]O~PKxO#r#sO~PKxOi#uOc#Yq!O#Yq!T#Yq!^#Yq!h#Yq!k#Yq!o#Yq!t#Yq!x#Yq#S#Yq#f#Yq#l#Yq#m#Yq#n#Yq~Oi#yOc#Zq!O#Zq!T#Zq!^#Zq!h#Zq!k#Zq!o#Zq!t#Zq!x#Zq#S#Zq#f#Zq#l#Zq#m#Zq#n#Zq~OY'PO]&}Oa'POb'POc'POd'POe'POf'POi'OO~OiPOhsq#ksq#tsq#vsq~O#q'TOU#pXY#pXm#pX#r#pX#t#pXc#pX{#pX!z#pX#k#pX[#pXh#pX#o#pX~Om{O#r'UO#t'VOUXiYXi~Oi#jOc![y!O![y!T![y!^![y!h![y!k![y!o![y!t![y!x![y#S![y#f![y#l![y#m![y#n![y~Oi#jOc!fy!O!fy!T!fy!^!fy!h!fy!k!fy!o!fy!t!fy!x!fy#S!fy#f!fy#l!fy#m!fy#n!fy~O#{%]Oc!iyi!iy!O!iy!T!iy!^!iy!h!iy!k!iy!o!iy!t!iy!x!iy#S!iy#f!iy#l!iy#m!iy#n!iy~O#{&tOc!vyi!vy!O!vy!T!vy!^!vy!h!vy!k!vy!o!vy!t!vy!x!vy#S!vy#f!vy#l!vy#m!vy#n!vy~O#o'_O~OcUO#kzO#o'_O~OV!sOclXflXhlXmlX~Om&kOckXfkXhkX~Om&kOc!qaf!qah!qa~Om{O#r'UOc!ei{!ei!z!ei#k!eih!ei#o!ei~Oi#jOc#Vy!O#Vy!T#Vy!^#Vy!h#Vy!k#Vy!o#Vy!t#Vy!x#Vy#S#Vy#f#Vy#l#Vy#m#Vy#n#Vy~Oi#jOc#Wy!O#Wy!T#Wy!^#Wy!h#Wy!k#Wy!o#Wy!t#Wy!x#Wy#S#Wy#f#Wy#l#Wy#m#Wy#n#Wy~O#{%]Oc#Xyi#Xy!O#Xy!T#Xy!^#Xy!h#Xy!k#Xy!o#Xy!t#Xy!x#Xy#S#Xy#f#Xy#l#Xy#m#Xy#n#Xy~O['jO~P! ZOh'nO#kzO~O#t'oOUoi#koi~O['pO~O#t'rOUXqYXq~Om{O#t'rOUXqYXq~O#{&tOc!v!Ri!v!R!O!v!R!T!v!R!^!v!R!h!v!R!k!v!R!o!v!R!t!v!R!x!v!R#S!v!R#f!v!R#l!v!R#m!v!R#n!v!R~Om{Oc!cih!ci#k!ci~O#o'wO~Om{Oc!eq{!eq!z!eq#k!eqh!eq#o!eq~O#r'UO~P!/eO#t'zOY#^X[#^X]#^Xa#^Xb#^Xc#^Xd#^Xe#^Xf#^Xi#^X~O['|O~P! ZO#o'}O~Oh(PO#kzO~O#t(QOUXyYXy~O#{&tOc!v!Zi!v!Z!O!v!Z!T!v!Z!^!v!Z!h!v!Z!k!v!Z!o!v!Z!t!v!Z!x!v!Z#S!v!Z#f!v!Z#l!v!Z#m!v!Z#n!v!Z~Om{Oc!cqh!cq#k!cq~Om{Oc!ey{!ey!z!ey#k!eyh!ey#o!ey~Om{Oc!cyh!cy#k!cy~O#t(WOh#ui#k#ui~Odefe~",goto:":k$OPPP$P$T$[PP&d&jP&nPP'Z'd'mPPPPPP'vPP'v'}*|P,T,_,c,g-k-o-s-w-o.O-o.U.[P$P.oP.s.w.{/bP/l/|.w0P0TP0P0ZP0e0wP1P2T2X2e0P2nP0P2xP3S0P3dP3n4O0P4SP4^.w4nP4uP5P5]5i5i.s5q5uP5q5y5y5y5y5y5y5}6T6Z6a6g7r7x8O8U8cPPP8i8mPPPPP8qPP9WP9eP8m9iP9qP:Z:cTTOgSQOgR#]!VSsPyQ!SQS!TSvQ!dXQ!eYQ!fZQ!g[Q!h]Q#a![Q#b!]Q#c!^Q#d!_Q#e!`Q#f!a^#}!i#g#y$Q%X%c&gQ$X!kQ$Y!lQ$Z!mQ$[!nQ$]!oQ$^!pj$g!z#i#s$k$r%V%]%d&R&e&s'_'wS%X#j%[Q%e$OQ&g%YT'k'O'mQ!RQR#Z!ST#V!O#WQ$h!zQ%W#iQ%^#s^&S$k%d&R&e&s'_'wQ&X$rQ&d%VR&j%]_&S$k%d&R&e&s'_'w_&T$k%d&R&e&s'_'wQ'X&UQ'c&rR'y'dZ'P%{&}'U'i'}Q!QQQ!YVQ!utQ!|vS#Y!R!SQ#`!ZQ#m!dQ#q!eQ#t!fQ#x!gQ#|!hQ$W!jS$d!v!xQ$f!yQ$j!}Q$o#ZQ$q#[Q$u#aS$x#b#hS${#c#oQ$}#dQ%P#eQ%R#fQ%n$XQ%q$YQ%t$ZQ%v$[Q%x$]Q%z$^Q&P$eQ&Z$vQ&]$yQ&m%_Q&w%oQ&y%rQ'W&UQ'a&nQ'b&rQ's'XQ'u'^S'x'c'dQ(R'vQ(T'yR(V(S#Z|QVtv}!R!S!Z!d!e!f!g!h!j!v!x!y!}#Z#[#a#b#c#d#e#f#h#o$X$Y$Z$[$]$^$e$v$y%_%o%r&U&l&n&r'X'^'c'd'v'y(SQ!vtS#S{&kR$e!xT$a!s$bT$`!s$bSROgQ!PQQ!ttQ!{vU#X!Q!R!SU$c!u!v!xS$i!|!}S$n#Y#ZQ$p#[S&O$d$eQ&Q$jQ&V$oQ&W$qR'R&PTxPyTwPyTuPyStPyR!xuQ!USR!yvQ!}vR#[!US!zv!UQ$R!iU%S#g$S$TS&b%T%UR']&cTSOgTdOgT`OgSWOg^$O!i#g#y$Q%X%c&gS%Y#j%[T%`#u%bSVOgQ!ZWR!jaQ!XVS#_!Y!ZQ$V!jQ$t#`R%m$WR#^!VT^OgQ![WR!kaSXOgQ!]WR!laQ#h!dQ#o!eQ$v#bQ$y#cQ%o$YR%r$Z]#i!d!e#b#c$Y$ZQ#l!dQ#p!eU$w#b#h#mU$z#c#o#qQ%p$YQ%s$ZS&Y$v$xS&[$y${S&v%o%qS&x%r%tQ'Y&ZQ'Z&]Q'f&wR'g&yT%Z#j%[Q$T!iQ%U#gQ&f%XR'`&g_$P!i#g#y$Q%X%c&gSYOgQ!^WR!maSZOgQ!_WR!naQ#r!fS$|#d#tQ%u$[Q&^$}R&z%vS[OgQ!`WR!oaQ#w!gS%O#e#xQ%w$]Q&_%PR&{%xT%a#u%bS]OgQ!aWR!paQ#{!hS%Q#f#|Q%y$^Q&`%RR&|%zS_OgR!bWQ$S!iS%T#g$TR&c%UQ%j$RQ&a%SQ'[&bR't']W%k$R%S&b']Q&u%lR'e&t]%i$R%S%l&b&t']TcOgTaOgTbOgQgOR!qgQ#W!OR$l#WQ'i&}R'{'iQ'm'OR(O'm#Q}QVtv!R!S!Z!d!e!f!g!h!j!v!x!y!}#Z#[#a#b#c#d#e#f#h#o$X$Y$Z$[$]$^$e$v$y%o%r&U&r'X'^'c'd'v'y(SS#T}&lT&l%_&nQ$b!sR%|$bQyPR#QyQ%[#jR&h%[W$Q!i#g%X&gQ%c#yT%f$Q%cQ%b#uR&o%bTfOgTeOgQ&U$kQ&r%dQ'S&RQ'^&eQ'd&sQ'v'_R(S'wQ'Q%{S'h&}'iQ'q'UR(U'}T'l'O'm]!WV!Y!Z!j#`$W}#k!d!e#b#c#h#m#o#q$Y$Z$v$x$y${%o%q%r%t&Z&]&w&y]#v!g#e#x$]%P%x]#z!h#f#|$^%R%z",nodeNames:"⚠ Comment Document OperationDefinition OperationType Name ) ( VariableDefinitions VariableDefinition Variable NamedType ] [ ListType NonNullType DefaultValue IntValue FloatValue StringValue BooleanValue NullValue EnumValue ListValue } { ObjectValue Directives Directive DirectiveName Arguments Argument ArgumentAttributeName SelectionSet Selection Field Alias FieldName FragmentSpread FragmentName InlineFragment TypeCondition OnKeyword on FragmentDefinition FragmentKeyword fragment TypeSystemDefinition SchemaDefinition Description SchemaKeyword schema RootTypeDefinition RootOperationTypeDefinition TypeDefinition ScalarTypeDefinition ScalarKeyword scalar ObjectTypeDefinition TypeKeyword type ImplementsInterfaces ImplementsKeyword implements FieldsDefinition FieldDefinition ArgumentsDefinition InputValueDefinition InterfaceTypeDefinition InterfaceKeyword interface UnionTypeDefinition UnionKeyword union UnionMemberTypes EnumTypeDefinition EnumKeyword enum EnumValuesDefinition EnumValueDefinition InputObjectTypeDefinition InputKeyword input InputFieldsDefinition DirectiveDefinition DirectiveKeyword directive RepeatableKeyword repeatable DirectiveLocations DirectiveLocation ExecutableDirectiveLocation TypeSystemDirectiveLocation TypeSystemExtension SchemaExtension ExtendKeyword extend TypeExtension ScalarTypeExtension ObjectTypeExtension InterfaceTypeExtension UnionTypeExtension EnumTypeExtension InputObjectTypeExtension",maxTerm:156,nodeProps:[["openedBy",6,"(",12,"[",24,"{"],["closedBy",7,")",13,"]",25,"}"]],skippedNodes:[0,1],repeatNodeCount:10,tokenData:"#Ci~R!XX^$npq$nqr%crs%hst4ptu4{vw5jxy5oyz5t|}5y}!O6O!O!P7g!Q![6U![!]7x!_!`7}!b!c8S!c!d8q!d!g9[!g!hCZ!h!iHd!i!k9[!k!l!/v!l!o9[!o!p!Id!p!q9[!q!r!Mm!r!s9[!s!t#!u!t!u9[!u!v#%d!v!w9[!w!x#0n!x!y#3]!y!}9[!}#O#=[#P#Q#=a#R#S9[#T#Y9[#Y#Z#=f#Z#b9[#b#c#@Q#c#h9[#h#i#BU#i#o9[#o#p#CY#p#q#C_#q#r#Cd#y#z$n$f$g$n#BY#BZ$n$IS$I_$n$I|$JO$n$JT$JU$n$KV$KW$n&FU&FV$n~$sY#h~X^$npq$n#y#z$n$f$g$n#BY#BZ$n$IS$I_$n$I|$JO$n$JT$JU$n$KV$KW$n&FU&FV$n~%hO#q~~%kVOY&QZ]&Q^r&Qrs(as#O&Q#O#P&o#P~&Q~&TVOY&QZ]&Q^r&Qrs&js#O&Q#O#P&o#P~&Q~&oOc~~&rXrs&Q!P!Q&Q#O#P&Q#U#V&Q#Y#Z&Q#b#c&Q#f#g&Q#h#i&Q#i#j'_~'bR!Q!['k!c!i'k#T#Z'k~'nR!Q!['w!c!i'w#T#Z'w~'zR!Q![(T!c!i(T#T#Z(T~(WR!Q![&Q!c!i&Q#T#Z&Q~(fPc~rs(i~(lXOY(iYZ(iZ](i]^)X^r(irs)_s#O(i#O#P)w#P~(i~)[PYZ(i~)bROr(irs)ks~(i~)nROr(irs&js~(i~)zXrs*g!P!Q(i#O#P(i#U#V(i#Y#Z(i#b#c(i#f#g(i#h#i(i#i#j3n~*jXOY(iYZ(iZ](i]^)X^r(irs+Vs#O(i#O#P)w#P~(i~+YROr(irs+cs~(i~+fXOY(iYZ(iZ](i]^(i^r(irs,Rs#O(i#O#P,a#P~(i~,WRc~Or(irs)ks~(i~,dfOY(iYZ(iZ](i]^)X^r(irs-xs!P(i!P!Q(i!Q#O(i#O#P,a#P#U(i#U#V(i#V#Y(i#Y#Z(i#Z#b(i#b#c(i#c#f(i#f#g(i#g#h(i#h#i(i#i#j/f#j~(i~-{XOY(iYZ(iZ](i]^(i^r(irs.hs#O(i#O#P,a#P~(i~.kROr(irs.ts~(i~.yXc~OY(iYZ(iZ](i]^(i^r(irs,Rs#O(i#O#P,a#P~(i~/i_OY(iYZ(iZ](i]^)X^r(irs)_s!Q(i!Q![0h![!c(i!c!i0h!i#O(i#O#P)w#P#T(i#T#Z0h#Z~(i~0k_OY(iYZ(iZ](i]^)X^r(irs)_s!Q(i!Q![1j![!c(i!c!i1j!i#O(i#O#P)w#P#T(i#T#Z1j#Z~(i~1m_OY(iYZ(iZ](i]^)X^r(irs)_s!Q(i!Q![2l![!c(i!c!i2l!i#O(i#O#P)w#P#T(i#T#Z2l#Z~(i~2o_OY(iYZ(iZ](i]^)X^r(irs)_s!Q(i!Q![(i![!c(i!c!i(i!i#O(i#O#P)w#P#T(i#T#Z(i#Z~(i~3qR!Q![3z!c!i3z#T#Z3z~3}R!Q![4W!c!i4W#T#Z4W~4ZR!Q![4d!c!i4d#T#Z4d~4gR!Q![(i!c!i(i#T#Z(i~4uQP~OY4pZ~4p~5OR!c!}5X#R#S5X#T#o5X~5^SY~!Q![5X!c!}5X#R#S5X#T#o5X~5oO#y~~5tOV~~5yOU~~6OO#t~~6RP!Q![6U~6ZSa~!O!P6g!Q![6U!g!h6{#X#Y6{~6jP!Q![6m~6rRb~!Q![6m!g!h6{#X#Y6{~7OR{|7X}!O7X!Q![7_~7[P!Q![7_~7dPb~!Q![7_~7jP!O!P7m~7pP!O!P7s~7xO#v~~7}O#o~~8SO#r~~8VR!c!}8`#R#S8`#T#o8`~8eSm~!Q![8`!c!}8`#R#S8`#T#o8`V8xU#kPfQ!Q![9[!c!t9[!t!u9o!u!}9[#R#S9[#T#o9[R9cS#kPfQ!Q![9[!c!}9[#R#S9[#T#o9[V9vU#kPfQ!Q![9[!c!i9[!i!j:Y!j!}9[#R#S9[#T#o9[V:aU#kPfQ!Q![9[!c!w9[!w!x:s!x!}9[#R#S9[#T#o9[V:zU#kPfQ!Q![9[!c!o9[!o!p;^!p!}9[#R#S9[#T#o9[V;eU#kPfQ!Q![9[!c!g9[!g!h;w!h!}9[#R#S9[#T#o9[V<OU#kPfQ!Q![9[!c!p9[!p!q<b!q!}9[#R#S9[#T#o9[V<iU#kPfQ!Q![9[!c!v9[!v!w<{!w!}9[#R#S9[#T#o9[V=SS#kPfQ!Q![9[!c!}9[#R#S=`#T#o9[V=gU#kPfQ!Q![9[!c!f9[!f!g=y!g!}9[#R#S9[#T#o9[V>QU#kPfQ!Q![9[!c!g9[!g!h>d!h!}9[#R#S9[#T#o9[V>kU#kPfQ!Q![9[!c!h9[!h!i>}!i!}9[#R#S9[#T#o9[V?UU#kPfQ!Q![9[!c!k9[!k!l?h!l!}9[#R#S9[#T#o9[V?oU#kPfQ!Q![9[!c!p9[!p!q@R!q!}9[#R#S9[#T#o9[V@YU#kPfQ!Q![9[!c!k9[!k!l@l!l!}9[#R#S9[#T#o9[V@sU#kPfQ!Q![9[!c!v9[!v!wAV!w!}9[#R#S9[#T#o9[VA^U#kPfQ!Q![9[!c!k9[!k!lAp!l!}9[#R#S9[#T#o9[VAwU#kPfQ!Q![9[!c!q9[!q!rBZ!r!}9[#R#S9[#T#o9[VBbU#kPfQ!Q![9[!c!p9[!p!qBt!q!}9[#R#S9[#T#o9[VB}S$[S#kPfQ!Q![9[!c!}9[#R#S9[#T#o9[VCbU#kPfQ!Q![9[!c!p9[!p!qCt!q!}9[#R#S9[#T#o9[VC{U#kPfQ!Q![9[!c!w9[!w!xD_!x!}9[#R#S9[#T#o9[VDfU#kPfQ!Q![9[!c!o9[!o!pDx!p!}9[#R#S9[#T#o9[VERS$_S#kPfQ!Q![9[!c!}9[#R#SE_#T#o9[VEfU#kPfQ!Q![9[!c!x9[!x!yEx!y!}9[#R#S9[#T#o9[VFPT#kPfQ!Q![9[!c!dF`!d!}9[#R#S9[#T#o9[VFgU#kPfQ!Q![9[!c!n9[!n!oFy!o!}9[#R#S9[#T#o9[VGQU#kPfQ!Q![9[!c!w9[!w!xGd!x!}9[#R#S9[#T#o9[VGkU#kPfQ!Q![9[!c!g9[!g!hG}!h!}9[#R#S9[#T#o9[VHWS$`S#kPfQ!Q![9[!c!}9[#R#S9[#T#o9[VHkW#kPfQ!Q![9[!c!k9[!k!lIT!l!t9[!t!u!#S!u!}9[#R#S9[#T#o9[VI[U#kPfQ!Q![9[!c!g9[!g!hIn!h!}9[#R#S9[#T#o9[VIuU#kPfQ!Q![9[!c!n9[!n!oJX!o!}9[#R#S9[#T#o9[VJ`U#kPfQ!Q![9[!c!f9[!f!gJr!g!}9[#R#S9[#T#o9[VJ{S$RS#kPfQ!Q![9[!c!}9[#R#SKX#T#o9[VK`U#kPfQ!Q![9[!c!f9[!f!gKr!g!}9[#R#S9[#T#o9[VKyU#kPfQ!Q![9[!c!g9[!g!hL]!h!}9[#R#S9[#T#o9[VLdU#kPfQ!Q![9[!c!h9[!h!iLv!i!}9[#R#S9[#T#o9[VL}U#kPfQ!Q![9[!c!k9[!k!lMa!l!}9[#R#S9[#T#o9[VMhU#kPfQ!Q![9[!c!p9[!p!qMz!q!}9[#R#S9[#T#o9[VNRU#kPfQ!Q![9[!c!k9[!k!lNe!l!}9[#R#S9[#T#o9[VNlU#kPfQ!Q![9[!c!v9[!v!w! O!w!}9[#R#S9[#T#o9[V! VU#kPfQ!Q![9[!c!k9[!k!l! i!l!}9[#R#S9[#T#o9[V! pU#kPfQ!Q![9[!c!q9[!q!r!!S!r!}9[#R#S9[#T#o9[V!!ZU#kPfQ!Q![9[!c!p9[!p!q!!m!q!}9[#R#S9[#T#o9[V!!vS$ZS#kPfQ!Q![9[!c!}9[#R#S9[#T#o9[V!#ZT#kPfQ!Q![9[!c!d!#j!d!}9[#R#S9[#T#o9[V!#qU#kPfQ!Q![9[!c!i9[!i!j!$T!j!}9[#R#S9[#T#o9[V!$[U#kPfQ!Q![9[!c!o9[!o!p!$n!p!}9[#R#S9[#T#o9[V!$uU#kPfQ!Q![9[!c!g9[!g!h!%X!h!}9[#R#S9[#T#o9[V!%`U#kPfQ!Q![9[!c!p9[!p!q!%r!q!}9[#R#S9[#T#o9[V!%yU#kPfQ!Q![9[!c!v9[!v!w!&]!w!}9[#R#S9[#T#o9[V!&dS#kPfQ!Q![9[!c!}9[#R#S!&p#T#o9[V!&wW#kPfQ!Q![9[!c!f9[!f!g!'a!g!u9[!u!v!,q!v!}9[#R#S9[#T#o9[V!'hU#kPfQ!Q![9[!c!g9[!g!h!'z!h!}9[#R#S9[#T#o9[V!(RU#kPfQ!Q![9[!c!h9[!h!i!(e!i!}9[#R#S9[#T#o9[V!(lU#kPfQ!Q![9[!c!k9[!k!l!)O!l!}9[#R#S9[#T#o9[V!)VU#kPfQ!Q![9[!c!p9[!p!q!)i!q!}9[#R#S9[#T#o9[V!)pU#kPfQ!Q![9[!c!k9[!k!l!*S!l!}9[#R#S9[#T#o9[V!*ZU#kPfQ!Q![9[!c!v9[!v!w!*m!w!}9[#R#S9[#T#o9[V!*tU#kPfQ!Q![9[!c!k9[!k!l!+W!l!}9[#R#S9[#T#o9[V!+_U#kPfQ!Q![9[!c!q9[!q!r!+q!r!}9[#R#S9[#T#o9[V!+xU#kPfQ!Q![9[!c!p9[!p!q!,[!q!}9[#R#S9[#T#o9[V!,eS$SS#kPfQ!Q![9[!c!}9[#R#S9[#T#o9[V!,xU#kPfQ!Q![9[!c!r9[!r!s!-[!s!}9[#R#S9[#T#o9[V!-cU#kPfQ!Q![9[!c!t9[!t!u!-u!u!}9[#R#S9[#T#o9[V!-|U#kPfQ!Q![9[!c!g9[!g!h!.`!h!}9[#R#S9[#T#o9[V!.gT#kPfQ!Q![9[!c!d!.v!d!}9[#R#S9[#T#o9[V!.}U#kPfQ!Q![9[!c!f9[!f!g!/a!g!}9[#R#S9[#T#o9[V!/jS$TS#kPfQ!Q![9[!c!}9[#R#S9[#T#o9[V!/}U#kPfQ!Q![9[!c!p9[!p!q!0a!q!}9[#R#S9[#T#o9[V!0hY#kPfQ!Q![9[!c!n9[!n!o!1W!o!r9[!r!s!7|!s!v9[!v!w!Et!w!}9[#R#S9[#T#o9[V!1_U#kPfQ!Q![9[!c!k9[!k!l!1q!l!}9[#R#S9[#T#o9[V!1xU#kPfQ!Q![9[!c!p9[!p!q!2[!q!}9[#R#S9[#T#o9[V!2cU#kPfQ!Q![9[!c!g9[!g!h!2u!h!}9[#R#S9[#T#o9[V!2|S#kPfQ!Q![9[!c!}9[#R#S!3Y#T#o9[V!3aU#kPfQ!Q![9[!c!h9[!h!i!3s!i!}9[#R#S9[#T#o9[V!3zU#kPfQ!Q![9[!c!t9[!t!u!4^!u!}9[#R#S9[#T#o9[V!4eT#kPfQ!Q![9[!c!d!4t!d!}9[#R#S9[#T#o9[V!4{U#kPfQ!Q![9[!c!i9[!i!j!5_!j!}9[#R#S9[#T#o9[V!5fU#kPfQ!Q![9[!c!o9[!o!p!5x!p!}9[#R#S9[#T#o9[V!6PU#kPfQ!Q![9[!c!g9[!g!h!6c!h!}9[#R#S9[#T#o9[V!6jU#kPfQ!Q![9[!c!p9[!p!q!6|!q!}9[#R#S9[#T#o9[V!7TU#kPfQ!Q![9[!c!v9[!v!w!7g!w!}9[#R#S9[#T#o9[V!7pS$US#kPfQ!Q![9[!c!}9[#R#S9[#T#o9[V!8TU#kPfQ!Q![9[!c!w9[!w!x!8g!x!}9[#R#S9[#T#o9[V!8nU#kPfQ!Q![9[!c!v9[!v!w!9Q!w!}9[#R#S9[#T#o9[V!9XS#kPfQ!Q![9[!c!}9[#R#S!9e#T#o9[V!9lW#kPfQ!Q![9[!c!h9[!h!i!:U!i!q9[!q!r!Bl!r!}9[#R#S9[#T#o9[V!:]U#kPfQ!Q![9[!c!k9[!k!l!:o!l!}9[#R#S9[#T#o9[V!:vU#kPfQ!Q![9[!c!g9[!g!h!;Y!h!}9[#R#S9[#T#o9[V!;aU#kPfQ!Q![9[!c!n9[!n!o!;s!o!}9[#R#S9[#T#o9[V!;zU#kPfQ!Q![9[!c!f9[!f!g!<^!g!}9[#R#S9[#T#o9[V!<eS#kPfQ!Q![9[!c!}9[#R#S!<q#T#o9[V!<xU#kPfQ!Q![9[!c!f9[!f!g!=[!g!}9[#R#S9[#T#o9[V!=cU#kPfQ!Q![9[!c!g9[!g!h!=u!h!}9[#R#S9[#T#o9[V!=|U#kPfQ!Q![9[!c!h9[!h!i!>`!i!}9[#R#S9[#T#o9[V!>gU#kPfQ!Q![9[!c!k9[!k!l!>y!l!}9[#R#S9[#T#o9[V!?QU#kPfQ!Q![9[!c!p9[!p!q!?d!q!}9[#R#S9[#T#o9[V!?kU#kPfQ!Q![9[!c!k9[!k!l!?}!l!}9[#R#S9[#T#o9[V!@UU#kPfQ!Q![9[!c!v9[!v!w!@h!w!}9[#R#S9[#T#o9[V!@oU#kPfQ!Q![9[!c!k9[!k!l!AR!l!}9[#R#S9[#T#o9[V!AYU#kPfQ!Q![9[!c!q9[!q!r!Al!r!}9[#R#S9[#T#o9[V!AsU#kPfQ!Q![9[!c!p9[!p!q!BV!q!}9[#R#S9[#T#o9[V!B`S$bS#kPfQ!Q![9[!c!}9[#R#S9[#T#o9[V!BsU#kPfQ!Q![9[!c!d9[!d!e!CV!e!}9[#R#S9[#T#o9[V!C^U#kPfQ!Q![9[!c!l9[!l!m!Cp!m!}9[#R#S9[#T#o9[V!CwU#kPfQ!Q![9[!c!g9[!g!h!DZ!h!}9[#R#S9[#T#o9[V!DbU#kPfQ!Q![9[!c!e9[!e!f!Dt!f!}9[#R#S9[#T#o9[V!D{U#kPfQ!Q![9[!c!v9[!v!w!E_!w!}9[#R#S9[#T#o9[V!EhS$aS#kPfQ!Q![9[!c!}9[#R#S9[#T#o9[V!E{U#kPfQ!Q![9[!c!g9[!g!h!F_!h!}9[#R#S9[#T#o9[V!FfU#kPfQ!Q![9[!c!t9[!t!u!Fx!u!}9[#R#S9[#T#o9[V!GPU#kPfQ!Q![9[!c!h9[!h!i!Gc!i!}9[#R#S9[#T#o9[V!GjT#kPfQ!Q![9[!c!d!Gy!d!}9[#R#S9[#T#o9[V!HQU#kPfQ!Q![9[!c!e9[!e!f!Hd!f!}9[#R#S9[#T#o9[V!HkU#kPfQ!Q![9[!c!g9[!g!h!H}!h!}9[#R#S9[#T#o9[V!IWS$]S#kPfQ!Q![9[!c!}9[#R#S9[#T#o9[V!IkU#kPfQ!Q![9[!c!w9[!w!x!I}!x!}9[#R#S9[#T#o9[V!JUU#kPfQ!Q![9[!c!v9[!v!w!Jh!w!}9[#R#S9[#T#o9[V!JoT#kPfQ!Q![9[!c!d!KO!d!}9[#R#S9[#T#o9[V!KVU#kPfQ!Q![9[!c!v9[!v!w!Ki!w!}9[#R#S9[#T#o9[V!KpU#kPfQ!Q![9[!c!k9[!k!l!LS!l!}9[#R#S9[#T#o9[V!LZU#kPfQ!Q![9[!c!q9[!q!r!Lm!r!}9[#R#S9[#T#o9[V!LtU#kPfQ!Q![9[!c!p9[!p!q!MW!q!}9[#R#S9[#T#o9[V!MaS$PS#kPfQ!Q![9[!c!}9[#R#S9[#T#o9[V!MtU#kPfQ!Q![9[!c!d9[!d!e!NW!e!}9[#R#S9[#T#o9[V!N_U#kPfQ!Q![9[!c!l9[!l!m!Nq!m!}9[#R#S9[#T#o9[V!NxU#kPfQ!Q![9[!c!g9[!g!h# [!h!}9[#R#S9[#T#o9[V# cU#kPfQ!Q![9[!c!e9[!e!f# u!f!}9[#R#S9[#T#o9[V# |U#kPfQ!Q![9[!c!v9[!v!w#!`!w!}9[#R#S9[#T#o9[V#!iS$YS#kPfQ!Q![9[!c!}9[#R#S9[#T#o9[V#!|U#kPfQ!Q![9[!c!w9[!w!x##`!x!}9[#R#S9[#T#o9[V##gU#kPfQ!Q![9[!c!g9[!g!h##y!h!}9[#R#S9[#T#o9[V#$QU#kPfQ!Q![9[!c!t9[!t!u#$d!u!}9[#R#S9[#T#o9[V#$kU#kPfQ!Q![9[!c!{9[!{!|#$}!|!}9[#R#S9[#T#o9[V#%WS$OS#kPfQ!Q![9[!c!}9[#R#S9[#T#o9[V#%kW#kPfQ!Q![9[!c!e9[!e!f#&T!f!w9[!w!x#*s!x!}9[#R#S9[#T#o9[V#&[V#kPfQ!Q![9[!c!d#&q!d!j9[!j!k#(r!k!}9[#R#S9[#T#o9[V#&xU#kPfQ!Q![9[!c!n9[!n!o#'[!o!}9[#R#S9[#T#o9[V#'cT#kPfQ!Q![9[!c!d#'r!d!}9[#R#S9[#T#o9[V#'yU#kPfQ!Q![9[!c!t9[!t!u#(]!u!}9[#R#S9[#T#o9[V#(fS$XS#kPfQ!Q![9[!c!}9[#R#S9[#T#o9[V#(yU#kPfQ!Q![9[!c!g9[!g!h#)]!h!}9[#R#S9[#T#o9[V#)dU#kPfQ!Q![9[!c!o9[!o!p#)v!p!}9[#R#S9[#T#o9[V#)}T#kPfQ!Q![9[!c!d#*^!d!}9[#R#S9[#T#o9[V#*gS$WS#kPfQ!Q![9[!c!}9[#R#S9[#T#o9[V#*zU#kPfQ!Q![9[!c!d9[!d!e#+^!e!}9[#R#S9[#T#o9[V#+eU#kPfQ!Q![9[!c!u9[!u!v#+w!v!}9[#R#S9[#T#o9[V#,OU#kPfQ!Q![9[!c!e9[!e!f#,b!f!}9[#R#S9[#T#o9[V#,iU#kPfQ!Q![9[!c!t9[!t!u#,{!u!}9[#R#S9[#T#o9[V#-SU#kPfQ!Q![9[!c!k9[!k!l#-f!l!}9[#R#S9[#T#o9[V#-mU#kPfQ!Q![9[!c!r9[!r!s#.P!s!}9[#R#S9[#T#o9[V#.WU#kPfQ!Q![9[!c!v9[!v!w#.j!w!}9[#R#S9[#T#o9[V#.qU#kPfQ!Q![9[!c!k9[!k!l#/T!l!}9[#R#S9[#T#o9[V#/[U#kPfQ!Q![9[!c!q9[!q!r#/n!r!}9[#R#S9[#T#o9[V#/uU#kPfQ!Q![9[!c!p9[!p!q#0X!q!}9[#R#S9[#T#o9[V#0bS$QS#kPfQ!Q![9[!c!}9[#R#S9[#T#o9[V#0uU#kPfQ!Q![9[!c!p9[!p!q#1X!q!}9[#R#S9[#T#o9[V#1`U#kPfQ!Q![9[!c!k9[!k!l#1r!l!}9[#R#S9[#T#o9[V#1yU#kPfQ!Q![9[!c!q9[!q!r#2]!r!}9[#R#S9[#T#o9[V#2dU#kPfQ!Q![9[!c!p9[!p!q#2v!q!}9[#R#S9[#T#o9[V#3PS$^S#kPfQ!Q![9[!c!}9[#R#S9[#T#o9[V#3dT#kPfQ!Q![9[!c!d#3s!d!}9[#R#S9[#T#o9[V#3zU#kPfQ!Q![9[!c!t9[!t!u#4^!u!}9[#R#S9[#T#o9[V#4eU#kPfQ!Q![9[!c!k9[!k!l#4w!l!}9[#R#S9[#T#o9[V#5OT#kPfQ!Q![9[!c!d#5_!d!}9[#R#S9[#T#o9[V#5fU#kPfQ!Q![9[!c!d9[!d!e#5x!e!}9[#R#S9[#T#o9[V#6PU#kPfQ!Q![9[!c!n9[!n!o#6c!o!}9[#R#S9[#T#o9[V#6jU#kPfQ!Q![9[!c!g9[!g!h#6|!h!}9[#R#S9[#T#o9[V#7TS#kPfQ!Q![9[!c!}9[#R#S#7a#T#o9[V#7hU#kPfQ!Q![9[!c!f9[!f!g#7z!g!}9[#R#S9[#T#o9[V#8RU#kPfQ!Q![9[!c!g9[!g!h#8e!h!}9[#R#S9[#T#o9[V#8lU#kPfQ!Q![9[!c!h9[!h!i#9O!i!}9[#R#S9[#T#o9[V#9VU#kPfQ!Q![9[!c!k9[!k!l#9i!l!}9[#R#S9[#T#o9[V#9pU#kPfQ!Q![9[!c!p9[!p!q#:S!q!}9[#R#S9[#T#o9[V#:ZU#kPfQ!Q![9[!c!k9[!k!l#:m!l!}9[#R#S9[#T#o9[V#:tU#kPfQ!Q![9[!c!v9[!v!w#;W!w!}9[#R#S9[#T#o9[V#;_U#kPfQ!Q![9[!c!k9[!k!l#;q!l!}9[#R#S9[#T#o9[V#;xU#kPfQ!Q![9[!c!q9[!q!r#<[!r!}9[#R#S9[#T#o9[V#<cU#kPfQ!Q![9[!c!p9[!p!q#<u!q!}9[#R#S9[#T#o9[V#=OS$VS#kPfQ!Q![9[!c!}9[#R#S9[#T#o9[~#=aO]~~#=fO[~R#=mT#kPfQ!Q![9[!c!}9[#R#S9[#T#U#=|#U#o9[R#>TU#kPfQ!Q![9[!c!}9[#R#S9[#T#`9[#`#a#>g#a#o9[R#>nU#kPfQ!Q![9[!c!}9[#R#S9[#T#g9[#g#h#?Q#h#o9[R#?XU#kPfQ!Q![9[!c!}9[#R#S9[#T#X9[#X#Y#?k#Y#o9[R#?tS#kPdQfQ!Q![9[!c!}9[#R#S9[#T#o9[R#@XU#kPfQ!Q![9[!c!}9[#R#S9[#T#i9[#i#j#@k#j#o9[R#@rU#kPfQ!Q![9[!c!}9[#R#S9[#T#`9[#`#a#AU#a#o9[R#A]U#kPfQ!Q![9[!c!}9[#R#S9[#T#`9[#`#a#Ao#a#o9[R#AxS#kPeQfQ!Q![9[!c!}9[#R#S9[#T#o9[R#B]U#kPfQ!Q![9[!c!}9[#R#S9[#T#f9[#f#g#Bo#g#o9[R#BvU#kPfQ!Q![9[!c!}9[#R#S9[#T#i9[#i#j#?Q#j#o9[~#C_Oi~~#CdO#{~~#CiOh~",tokenizers:[0,1,2],topRules:{Document:[0,2]},specialized:[{term:119,get:e=>eC[e]||-1}],tokenPrec:2989}),zf="RootTypeDefinition InputFieldsDefinition EnumValuesDefinition FieldsDefinition SelectionSet { }",nC="scalar type interface union enum input implements fragment extend schema directive on repeatable",sC="( ) { } : [ ]",Xx=NT.define({parser:tC.configure({props:[DT({Variable:Ot.variableName,BooleanValue:Ot.bool,Description:Ot.string,StringValue:Ot.string,Comment:Ot.lineComment,IntValue:Ot.integer,FloatValue:Ot.float,EnumValue:Ot.special(Ot.name),NullValue:Ot.null,DirectiveName:Ot.modifier,[nC]:Ot.keyword,OperationType:Ot.definitionKeyword,FieldName:Ot.propertyName,Field:Ot.propertyName,ArgumentAttributeName:Ot.attributeName,Name:Ot.atom,"( )":Ot.paren,"{ }":Ot.brace,",":Ot.separator,[sC]:Ot.punctuation}),RT.add({[zf]:AT({closing:"}",align:!0})}),PT.add({[zf]:$T})]}),languageData:{commentTokens:{line:"#"},indentOnInput:/^\s*(\{|\})$/}});function iC(){return new _T(Xx)}const rC=/^[a-zA-Z0-9_@(]$/,oC=Xx.data.of({autocomplete(e){const t=gh(e.state),n=mh(e.state);if(!t)return null;const s=e.matchBefore(/\w*/);if(!s)return null;const r=s.text.split("").pop();if(!rC.test(r)&&!e.explicit)return null;const o=e.state.doc.toString(),a=Gx(e.state.doc,e.pos),c=OO(t,o,a,void 0,void 0,n?.autocompleteOptions);return c.length===0?null:{from:s.from,options:c.map(l=>({label:l.label,detail:l.detail||"",info(u){if(n?.onCompletionInfoRender)return n.onCompletionInfoRender(l,e,u);if(l.documentation||l.isDeprecated&&l.deprecationReason){const d=document.createElement("div");return d.textContent=l.documentation||l.deprecationReason||"",d}}}))}}}),aC=MT.domEventHandlers({click(e,t){var n,s,r;const o=gh(t.state);if(!o)return;const a=t.state.selection.main.head,c=Gx(t.state.doc,a),l=Fx(t.state.doc.toString(),c),u=Qx(o,l.state),d=mh(t.state);d?.onShowInDocs&&XO(e)&&d.onShowInDocs((n=u.fieldDef)===null||n===void 0?void 0:n.name,(s=u.type)===null||s===void 0?void 0:s.toString(),(r=u.parentType)===null||r===void 0?void 0:r.toString())}}),cC=["error","warning","info"],lC=LT(e=>{const t=gh(e.state),n=mh(e.state);if(!t)return[];const s=Ex(t);if(s.length){if(!n?.showErrorOnInvalidSchema)return[];const o=s.map(a=>a.message);return[{from:0,to:e.state.doc.length,severity:"error",message:o.join(`
`),actions:[]}]}return zO(e.state.doc.toString(),t).map(o=>{if(!o.severity||!o.source)return null;const a=Uf(e.state.doc,new Mu(o.range.start.line,o.range.start.character)),c=Math.max(0,Math.min(a,e.state.doc.length)),l=Uf(e.state.doc,new Mu(o.range.end.line,o.range.end.character-1)),u=Math.min(Math.max(c+1,l),e.state.doc.length);return{from:c,to:c===u?u+1:u,severity:cC[o.severity-1],message:o.message,actions:[]}}).filter(o=>!!o)},{needsRefresh(e){return e.startState.field(uc)!==e.state.field(uc)||e.startState.field(dc)!==e.state.field(dc)}});function uC(e,t){return[iC(),oC,lC,aC,KO(e,t)]}const dC=[{type:"variable",icon:db,color:"#ffde00"},{type:"function",icon:or,color:"#ff9b67"},{type:"class",icon:qn,color:"#FF00A0"}];function hC(){const t=`:root {
${dC.map(r=>{const o=btoa(`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="${r.icon}" fill="${r.color}" stroke="${r.color}" stroke-width="0.75"></path></svg>`);return`	--surrealist-editor-icon-${r.type}: url('data:image/svg+xml;base64,${o}')`}).join(`;
`)}}`,n=document.createElement("style"),s=document.createTextNode(t);n.setAttribute("type","text/css"),n.setAttribute("media","screen"),n.setAttribute("class","surrealist-editor-icons"),n.append(s),document.head.append(n)}He.use({gfm:!0,renderer:{code({text:e,lang:t}){const{colorScheme:n}=Ye.getState(),{syntaxTheme:s}=Se.getState().settings.appearance;return t?hb(e,t.toLowerCase(),n,s):e}}});const Wx="2.0.0-beta.1",pC="_save-box_bpe3r_1",fC="_accordion-item_bpe3r_5",gC="_accordion-label_bpe3r_13",mC="_title_bpe3r_17",bC="_kind_bpe3r_22",Aa={saveBox:pC,accordionItem:fC,accordionLabel:gC,title:mC,kind:bC};function Vr({children:e,icon:t}){return i.jsx(vn.Control,{children:i.jsxs(U,{gap:"sm",children:[i.jsx(E,{path:t,size:.85}),i.jsx(_,{fw:600,size:"lg",children:e})]})})}function hi(e,t){return` FOR ${e} ${t===!0?"FULL":t===!1?"NONE":`WHERE ${t}`}`}function xC({previous:e,current:t,useOverwrite:n}){const s=[],r=t.schema.name,o=Ia(t.fields,h=>h.name),a=Ia(t.indexes,h=>h.name),c=Ia(t.events,h=>h.name),l=t.schema.kind.kind==="RELATION",u=t.schema.kind.in?.map(h=>it(h))?.join("|")??"",d=t.schema.kind.out?.map(h=>it(h))?.join("|")??"";if(!Da(e.schema,t.schema)){let h="DEFINE TABLE";n&&(h+=" OVERWRITE"),h+=` ${it(t.schema.name)}`,t.schema.drop&&(h+=" DROP"),t.schema.full?h+=" SCHEMAFULL":h+=" SCHEMALESS",h+=` TYPE ${t.schema.kind.kind}`,l&&u&&(h+=` IN ${u}`),l&&d&&(h+=` OUT ${d}`),l&&t.schema.kind.enforced&&(h+=" ENFORCED"),t.schema.view&&(h+=` ${t.schema.view}`),t.schema.changefeed?.expiry&&(h+=` CHANGEFEED ${t.schema.changefeed.expiry}`,t.schema.changefeed.store_original&&(h+=" INCLUDE ORIGINAL")),h+=" PERMISSIONS",h+=hi("create",t.schema.permissions.create),h+=hi("select",t.schema.permissions.select),h+=hi("update",t.schema.permissions.update),h+=hi("delete",t.schema.permissions.delete),s.push(h)}for(const h of e.fields)o[h.name]||s.push(`REMOVE FIELD ${h.name} ON TABLE ${it(r)}`);for(const h of t.fields){let p="DEFINE FIELD";n&&(p+=" OVERWRITE"),p+=` ${h.name} ON TABLE ${it(r)}`,h.flex&&(p+=" FLEXIBLE"),h.kind&&(l&&h.name==="in"?p+=` TYPE record<${u}>`:l&&h.name==="out"?p+=` TYPE record<${d}>`:p+=` TYPE ${h.kind}`),h.value&&(p+=` VALUE ${h.value}`),h.assert&&(p+=` ASSERT ${h.assert}`),h.default&&(p+=` DEFAULT ${h.default}`),h.readonly&&(p+=" READONLY"),p+=" PERMISSIONS",p+=hi("create",h.permissions.create),p+=hi("select",h.permissions.select),p+=hi("update",h.permissions.update),s.push(p)}for(const h of e.indexes)a[h.name]||s.push(`REMOVE INDEX ${h.name} ON TABLE ${it(r)}`);for(const h of t.indexes){let p="DEFINE INDEX";n&&(p+=" OVERWRITE"),p+=` ${h.name} ON TABLE ${it(r)} FIELDS ${h.cols} ${h.index}`,s.push(p)}for(const h of e.events)c[h.name]||s.push(`REMOVE EVENT ${h.name} ON TABLE ${it(r)}`);for(const h of t.events){let p="DEFINE EVENT";n&&(p+=" OVERWRITE"),p+=` ${h.name} ON TABLE ${it(r)} WHEN ${h.when} THEN ${h.then.map(f=>`{${f}}`).join(", ")}`,s.push(p)}fe.log("Designer","Applying queries:");for(const h of s)fe.log("Designer",`- ${h}`);return["BEGIN TRANSACTION",...s,"COMMIT TRANSACTION"].join(`;
`)}function yC(e){return!!(e.schema.name&&e.schema.permissions.create!==""&&e.schema.permissions.select!==""&&e.schema.permissions.update!==""&&e.schema.permissions.delete!==""&&(e.schema.kind.kind!=="RELATION"||e.schema.kind.in&&e.schema.kind.out)&&e.fields.every(n=>n.name&&n.permissions.create!==""&&n.permissions.select!==""&&n.permissions.update!==""&&n.permissions.delete!=="")&&e.indexes.every(n=>n.name&&n.cols)&&e.events.every(n=>n.name&&n.when&&n.then[0].length>0))}function vC({data:e,setData:t}){return i.jsxs(vn.Item,{value:"changefeed",children:[i.jsx(Vr,{icon:pb,children:"Changefeed"}),i.jsx(vn.Panel,{children:i.jsx(B,{children:i.jsx(le,{label:"Expiry duration",placeholder:"7d",spellCheck:!1,value:e.schema.changefeed?.expiry||"",onChange:n=>t(s=>{s.schema.changefeed={expiry:n.currentTarget.value,store_original:e.schema.changefeed?.store_original||!1}})})})})]})}function nt(e=!1,t){const{onOpen:n,onClose:s}={},[r,o]=v.useState(e),a=L(()=>{o(d=>d||(n?.(),!0))}),c=L(()=>{o(d=>d&&(s?.(),!1))}),l=L(()=>{r?c():a()}),[u]=v.useState({open:a,close:c,toggle:l,set:o});return[r,u]}function bh({name:e,missing:t,value:n,factory:s,children:r,onChange:o,display:a}){const[c,l]=nt(!1),[u,d]=v.useState(!1),[h,p]=rs(null),f=L(x=>{p(RS(x)),l.open(),d(!1)}),g=L(()=>{l.close(),h&&o(u?[...n,h]:AS(n,h,x=>x.name===h.name))}),m=L((x,T)=>{x.stopPropagation(),o(n.filter(w=>w!==T))}),b=L(()=>{p(s()),l.open(),d(!0)});return i.jsxs(i.Fragment,{children:[n.length>0?i.jsx(G,{children:n.map(x=>i.jsx(X,{px:"xs",fullWidth:!0,color:"slate",variant:"subtle",onClick:()=>f(x),styles:{label:{flex:1}},leftSection:i.jsx(E,{path:PS,c:"slate.4"}),rightSection:i.jsx(de,{role:"button",component:"div",onClick:T=>m(T,x),color:"pink.9",variant:"transparent","aria-label":"Remove item",children:i.jsx(E,{path:en})}),children:i.jsx(_,{c:"bright",fw:500,ff:"monospace",component:"div",children:a?.(x)??x.name})},x.name))}):i.jsx(_,{ta:"center",children:t}),i.jsxs(X,{mt:"md",size:"xs",fullWidth:!0,variant:"gradient",rightSection:i.jsx(E,{path:Ie}),onClick:b,children:["Add ",e]}),i.jsx(Je,{opened:c,onClose:l.close,trapFocus:!1,title:i.jsxs(ve,{children:[u?"Creating":"Editing"," ",e]}),children:i.jsxs(Kt,{onSubmit:g,children:[i.jsx(B,{children:h&&r(h,p,u)}),i.jsxs(U,{mt:"xl",children:[i.jsx(X,{flex:1,color:"slate",variant:"light",onClick:l.close,children:"Close"}),i.jsx(X,{flex:1,variant:"gradient",disabled:!h?.name,type:"submit",children:"Save"})]})]})})]})}function wC({data:e,setData:t}){const n=L(()=>({name:"",when:"",then:[""]})),s=L(r=>{t(o=>{o.events=r})});return i.jsxs(vn.Item,{value:"events",children:[i.jsx(Vr,{icon:Cd,children:"Events"}),i.jsx(vn.Panel,{children:i.jsx(bh,{value:e.events,missing:"No schema events defined yet",name:"event",factory:n,onChange:s,children:(r,o,a)=>i.jsxs(i.Fragment,{children:[i.jsx(le,{autoFocus:!0,required:!0,label:"Event name",placeholder:"event_name",disabled:!a,value:r.name,spellCheck:!1,onChange:c=>o(l=>{l.name=c.target.value})}),i.jsx(Zt,{required:!0,label:"Event condition",value:r.when,onChange:c=>o(l=>{l.when=c})}),i.jsx(Zt,{mt:"sm",required:!0,label:"Event handler",multiline:!0,value:r.then[0],onChange:c=>o(l=>{l.then[0]=c})})]})})})]})}function SC({data:e,setData:t}){const n=L(()=>({name:"",assert:"",flex:!1,readonly:!1,kind:"",value:"",default:"",permissions:{create:!0,select:!0,update:!0,delete:!0}})),s=L(o=>i.jsxs(on,{children:[o.name,o.kind&&i.jsxs(i.Fragment,{children:[i.jsx(_,{c:"slate",mr:"xs",children:":"}),i.jsx(_,{className:Aa.kind,children:o.kind})]})]})),r=L(o=>{t(a=>{a.fields=o})});return i.jsxs(vn.Item,{value:"fields",children:[i.jsx(Vr,{icon:_c,children:"Fields"}),i.jsx(vn.Panel,{children:i.jsx(bh,{value:e.fields,missing:"No schema fields defined yet",name:"field",onChange:r,factory:n,display:s,children:(o,a,c)=>i.jsxs(i.Fragment,{children:[i.jsx(le,{required:!0,autoFocus:!0,label:"Field name",placeholder:"field_name",disabled:!c,spellCheck:!1,value:o.name,onChange:l=>a(u=>{u.name=l.target.value})}),i.jsx(Lt,{label:"Flexible",checked:o.flex,onChange:l=>a(u=>{u.flex=l.target.checked})}),i.jsx(Lt,{label:"Readonly",checked:o.readonly,onChange:l=>a(u=>{u.readonly=l.target.checked})}),i.jsx(iu,{label:"Field kind",value:o.kind||"",onChange:l=>a(u=>{u.kind=l||""})}),i.jsx(Zt,{label:"Field value",value:o.value||"",onChange:l=>a(u=>{u.value=l})}),i.jsx(Zt,{label:"Field assertion",value:o.assert||"",onChange:l=>a(u=>{u.assert=l})}),i.jsx(Zt,{label:"Default value",value:o.default||"",onChange:l=>a(u=>{u.default=l})}),i.jsx(_s,{label:"Create access",value:o.permissions.create,onChange:l=>a(u=>{u.permissions.create=l})}),i.jsx(_s,{label:"Select access",value:o.permissions.select,onChange:l=>a(u=>{u.permissions.select=l})}),i.jsx(_s,{label:"Update access",value:o.permissions.update,onChange:l=>a(u=>{u.permissions.update=l})})]})})})]})}const jC=[{label:"Any",value:"ANY"},{label:"Normal",value:"NORMAL"},{label:"Relation",value:"RELATION"}];function TC({data:e,setData:t}){const n=qi();return i.jsxs(vn.Item,{value:"general",children:[i.jsx(Vr,{icon:Vo,children:"General"}),i.jsx(vn.Panel,{children:i.jsxs(B,{children:[i.jsx(Lt,{label:"Enforce schema",checked:e.schema.full,onChange:s=>t(r=>{r.schema.full=s.target.checked})}),i.jsx(Lt,{label:"Drop writes to this table",checked:e.schema.drop,onChange:s=>t(r=>{r.schema.drop=s.target.checked})}),i.jsx(yt,{data:jC,label:"Table type",value:e.schema.kind.kind,onChange:s=>t(r=>{r.schema.kind.kind=s})}),e.schema.kind.kind==="RELATION"&&i.jsxs(i.Fragment,{children:[i.jsx(go,{data:n,label:"Incoming tables",searchable:!0,value:e.schema.kind.in||[],onChange:s=>t(r=>{r.schema.kind.in=s})}),i.jsx(go,{data:n,label:"Outgoing tables",searchable:!0,value:e.schema.kind.out||[],onChange:s=>t(r=>{r.schema.kind.out=s})}),i.jsx(Lt,{label:"Enforce record existence",checked:e.schema.kind.enforced??!1,onChange:s=>t(r=>{r.schema.kind.enforced=s.target.checked})})]})]})})]})}function EC({data:e,setData:t}){const n=Qe(),s=L(()=>({name:"",cols:"",index:""})),r=L(a=>i.jsxs(on,{children:[a.name,a.cols&&i.jsxs(_,{c:n?"slate.5":"slate.3",ml:"xs",children:["(",a.cols,")"]})]})),o=L(a=>{t(c=>{c.indexes=a})});return i.jsxs(vn.Item,{value:"indexes",children:[i.jsx(Vr,{icon:fb,children:"Indexes"}),i.jsx(vn.Panel,{children:i.jsx(bh,{value:e.indexes,missing:"No schema indexes defined yet",name:"index",factory:s,onChange:o,display:r,children:(a,c,l)=>i.jsxs(i.Fragment,{children:[i.jsx(le,{required:!0,autoFocus:!0,label:"Index name",placeholder:"index_name",disabled:!l,value:a.name,spellCheck:!1,onChange:u=>c(d=>{d.name=u.target.value})}),i.jsx(Zt,{required:!0,label:"Indexed fields",value:a.cols,onChange:u=>c(d=>{d.cols=u})}),i.jsx(Zt,{label:"Index type",placeholder:"UNIQUE",value:a.index,onChange:u=>c(d=>{d.index=u})})]})})})]})}function kC({data:e,setData:t}){return i.jsxs(vn.Item,{value:"permissions",children:[i.jsx(Vr,{icon:Ha,children:"Permissions"}),i.jsx(vn.Panel,{children:i.jsxs(B,{children:[i.jsx(_s,{label:"Create access",value:e.schema.permissions.create,onChange:n=>t(s=>{s.schema.permissions.create=n})}),i.jsx(_s,{label:"Select access",value:e.schema.permissions.select,onChange:n=>t(s=>{s.schema.permissions.select=n})}),i.jsx(_s,{label:"Update access",value:e.schema.permissions.update,onChange:n=>t(s=>{s.schema.permissions.update=n})}),i.jsx(_s,{label:"Delete access",value:e.schema.permissions.delete,onChange:n=>t(s=>{s.schema.permissions.delete=n})})]})})]})}function OC({opened:e,value:t,onChange:n,handle:s,errors:r,onClose:o}){const{setOpenDesignerPanels:a}=Se.getState(),c=Qe(),[l,u]=v.useState(650),d=Se(f=>f.openDesignerPanels),h=_n({message:"You are about to remove this table and all data contained within it. This action cannot be undone.",confirmText:"Remove",onConfirm:async()=>{o(!0),await qt(`REMOVE TABLE ${it(t.schema.name)}`),await It({tables:[t.schema.name]})}}),p=t.schema.kind.kind==="RELATION";return i.jsxs(Ar,{opened:e,onClose:o,position:"right",trapFocus:!1,size:l,styles:{body:{height:"100%",display:"flex",flexDirection:"column"}},children:[i.jsx(Jm,{minSize:500,maxSize:1500,onResize:u}),i.jsxs(U,{mb:"md",gap:"sm",children:[i.jsxs(ve,{children:[i.jsx(E,{left:!0,path:xr,size:"sm"}),"Table designer"]}),i.jsx(je,{}),s.isChanged&&(s.isSaveable?i.jsx(Ft,{color:"blue",variant:"light",children:"Unsaved changes"}):i.jsx(Ft,{color:"pink.7",variant:"light",children:"Missing required fields"})),i.jsx(Me,{label:"Remove table",children:i.jsx(de,{onClick:h,color:"pink.7","aria-label":"Remove table",children:i.jsx(E,{path:ts})})}),i.jsx(de,{onClick:()=>o(!1),disabled:s.isChanged,"aria-label":"Close designer drawer",children:i.jsx(E,{path:en})})]}),i.jsx(De,{bg:c?"white":"slate.9",p:"sm",ff:"monospace",mb:"md",children:i.jsxs(U,{gap:"sm",children:[i.jsx(E,{path:p?li:qn}),t.schema.name]})}),i.jsxs(Fe,{mt:"sm",flex:"1 1 0",children:[r.map(f=>i.jsx(et,{icon:i.jsx(E,{path:Jt}),color:"red.5",mb:"xl",style:{whiteSpace:"pre-wrap"},children:f},f)),i.jsxs(vn,{multiple:!0,value:d,onChange:a,variant:"separated",classNames:{item:Aa.accordionItem,label:Aa.accordionLabel},children:[i.jsx(TC,{data:t,setData:n}),i.jsx(kC,{data:t,setData:n}),i.jsx(vC,{data:t,setData:n}),i.jsx(SC,{data:t,setData:n}),i.jsx(EC,{data:t,setData:n}),i.jsx(wC,{data:t,setData:n})]})]}),i.jsx(G,{mt:"lg",children:i.jsx(jd,{handle:s,inline:!0,inlineProps:{className:Aa.saveBox}})})]})}const Zx=v.createContext(null),CC={schema:{name:"",drop:!1,full:!1,kind:{kind:"ANY"},permissions:{select:!0,create:!0,update:!0,delete:!0}},fields:[],indexes:[],events:[]};function Jx(){return v.useContext(Zx)??{active:null,isDesigning:!1,design:()=>{},stopDesign:()=>{}}}function _C({children:e}){const t=Uo(),[n,s]=Cn(),[r,o]=v.useState([]),[a,c]=rs(CC),[l]=Nc(Wx),u=L(f=>{const g=t.find(m=>m.schema.name===f);if(!g)throw new Error(`Could not find table ${f}`);c(g),o([]),p.track(),s.open(),oi.capture("open_table_designer")}),d=L(f=>{p.isChanged&&!f||s.close()}),h=v.useMemo(()=>a?yC(a):!0,[a]),p=Td({valid:h,track:{data:a},onSave:async({data:f})=>{if(!f)throw new Error("Could not determine previous state");const g=xC({previous:f,current:a,useOverwrite:l});try{const b=(await qt(g)).flatMap(x=>x.success?[]:[x.result.replace("There was a problem with the database: ","")]);if(o(b),b.length>0)return!1;It({tables:[a.schema.name]}),s.close()}catch(m){Rt({title:"Failed to apply schema",subtitle:m.message})}},onRevert({data:f}){c(f),o([])}});return i.jsxs(Zx.Provider,{value:{design:u,isDesigning:n,stopDesign:s.close,active:a.schema.name},children:[e,i.jsx(OC,{opened:n,onClose:d,errors:r,handle:p,onChange:c,value:a})]})}const NC="_root_2a8id_1",IC="_wrapper_2a8id_7",DC="_titlebar_2a8id_20",RC="_toolbar_2a8id_37",AC="_sidebar_2a8id_48",PC="_sidebar-fill_2a8id_54",$C="_sidebar-collapsed_2a8id_57",LC="_sidebar-hoverable_2a8id_60",MC="_inner_2a8id_71",gs={root:NC,wrapper:IC,titlebar:DC,toolbar:RC,sidebar:AC,sidebarFill:PC,sidebarCollapsed:$C,sidebarHoverable:LC,inner:MC},Xc="/assets/gradient-glow-Dzk4Z2Z2.webp",FC="_cloud-content_ppop5_1",qC="_cloud-sidebar_ppop5_10",QC="_open-navigation_ppop5_23",VC="_splash-image-container_ppop5_28",UC="_splash-image_ppop5_28",zC="_onboarding-dialog_ppop5_47",ni={cloudContent:FC,cloudSidebar:qC,openNavigation:QC,splashImageContainer:VC,splashImage:UC,onboardingDialog:zC};function hc(e){return L(t=>{e(t.target.checked)})}const Kx="/assets/cloud-logo-CN6vUyCB.svg",BC="/assets/picto-community-uS6pdfb6.svg",HC="/assets/picto-documentation-aFKKw5EY.svg",GC="/assets/picto-tutorial-BVu3sL7Y.svg",ey="/assets/cloud-logo-DlBiDbZm.svg",YC="/assets/picto-community-DZ2Fgjkt.svg",XC="/assets/picto-documentation-DuWxlkuj.svg",WC="/assets/picto-tutorial-DCM0Lph7.svg";function ZC(){wn({size:525,children:i.jsx(JC,{}),classNames:{content:ni.onboardingDialog},styles:{root:{"--image":`url(${Xc})`}}})}function JC(){const e=er({light:ey,dark:Kx});er({dark:GC,light:WC});const t=er({dark:HC,light:XC}),n=er({dark:BC,light:YC});return i.jsxs(B,{gap:"xl",children:[i.jsx(Vt,{src:e,mx:"auto",my:28,maw:400}),i.jsx(_,{fz:"lg",c:"bright",children:"Welcome to Surreal Cloud! We are excited to have you on board. Before you get started, feel free to explore our documentation to learn more about our features and capabilities."}),i.jsxs(B,{mt:"xl",children:[i.jsx(Bf,{image:t,title:"Cloud Documentation",href:"https://surrealdb.com/docs/cloud"}),i.jsx(Bf,{image:n,title:"Community Support",href:"https://surrealdb.com/community"})]}),i.jsx(X,{mt:"xl",fullWidth:!0,color:"slate",variant:"gradient",rightSection:i.jsx(E,{path:bt}),onClick:()=>{Jn(),localStorage.setItem("surrealist:onboarded","true")},children:"Get started"})]})}function Bf({image:e,title:t,href:n}){const s=Qe();return i.jsx(Pt,{href:n,underline:!1,children:i.jsx(De,{px:"md",py:"xl",radius:"md",bg:s?"slate.0":"slate.9",children:i.jsxs(U,{children:[i.jsx(Vt,{src:e,w:32,h:32}),i.jsx(_,{c:"bright",fz:"lg",fw:500,children:t}),i.jsx(je,{}),i.jsx(E,{path:bt,size:"xl",c:"slate"})]})})})}const Hf=[1,2];function KC(e){wn({size:525,closeOnEscape:!1,closeOnClickOutside:!1,title:i.jsx(ve,{children:"Tell us about yourself"}),children:i.jsx(e_,{questions:e}),classNames:{content:ni.onboardingDialog},styles:{root:{"--image":`url(${Xc})`}}})}function e_({questions:e}){const[t,n]=rs({}),s=L(()=>{gt("/user/form",{method:"POST",body:JSON.stringify(t)}),Jn(),ZC()}),r=Hf.every(o=>t[o]);return i.jsxs(i.Fragment,{children:[i.jsx(J0,{fallback:i.jsx(et,{color:"red.5",icon:i.jsx(E,{path:_d}),children:"An error occurred while rendering this form. Please continue to the next step."}),children:i.jsxs(B,{gap:"lg",children:[i.jsx(_,{fz:"lg",mb:"md",children:"We would love to know more about you and your use case!"}),e.map(o=>{if(o.type==="text")return i.jsx(le,{label:o.question,required:Hf.includes(o.id),value:t[o.id]||"",onChange:a=>n(c=>{c[o.id]=a.target.value})},o.id);if(o.type==="option"){const a=o.data.options.sort((c,l)=>c.order-l.order).map(c=>({label:c.text,value:c.value}));return i.jsx(yt,{label:o.question,data:a,value:t[o.id]||null,onChange:c=>n(l=>{l[o.id]=c})},o.id)}})]})}),i.jsxs(U,{mt:"xl",wrap:"nowrap",children:[i.jsxs(_,{c:"slate",fz:"sm",children:["This information will help us understand your needs",i.jsx("br",{}),"and provide you with the best possible experience."]}),i.jsx(je,{}),i.jsx(X,{variant:"gradient",rightSection:i.jsx(E,{path:bt}),onClick:s,disabled:!r,style:{flexShrink:0},children:"Continue"})]})]})}async function t_(){const e=await gt("/tc-pp");wn({size:"lg",closeOnEscape:!1,closeOnClickOutside:!1,title:i.jsx(ve,{children:"Terms and Conditions"}),children:i.jsx(n_,{conditions:e}),classNames:{content:ni.onboardingDialog},styles:{root:{"--image":`url(${Xc})`}}})}function n_({conditions:e}){const[t,n]=v.useState(!1),[s,r]=v.useState(!1),[o,a]=v.useState(!1),c=hc(n),l=hc(r),u=L(()=>{Jn(),si()}),d=L(async()=>{a(!0);try{await gt("/user/terms-accepted",{method:"PATCH",body:JSON.stringify({use:t,marketing:s})});const h=await gt("/user/form");Jn(),KC(h)}catch(h){Rt({title:"Failed to accept terms",subtitle:h.message})}finally{a(!1)}});return i.jsxs(B,{children:[i.jsx(_,{fz:"lg",children:"Please accept our terms and conditions before getting started with Surreal Cloud."}),i.jsx(Lt,{mt:"xl",checked:t,onChange:c,label:i.jsxs(i.Fragment,{children:[i.jsx(_,{span:!0,children:"I have read and agree to the "}),e.map((h,p)=>i.jsxs(v.Fragment,{children:[i.jsx(Pt,{href:h.url,inline:!0,children:h.name},p),p<e.length-1&&i.jsx(_,{span:!0,children:", "})]},p)),"."]})}),i.jsx(Lt,{checked:s,onChange:l,label:"By subscribing to SurrealDB, you will receive carefully curated content, information on new products and features plus details of educational events where you can engage with our team and community."}),i.jsxs(U,{mt:"xl",children:[i.jsx(X,{color:"slate",variant:"light",onClick:u,children:"Decline"}),i.jsx(je,{}),i.jsx(X,{variant:"gradient",disabled:!t,loading:o,rightSection:i.jsx(E,{path:tn}),onClick:d,children:"Accept & continue"})]})]})}async function ty(){if(await qo(50),!Ic.get("cloud_killswitch"))return!0;const e=await gt("/version");return Gd("3.1.7",e.ui_version)>=0}const Wc=void 0,Gf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",Zc=void 0;window.resetCloudState=()=>{const{setActiveCloudOrg:e}=Se.getState();si(),e("")};function Yf(){return we.getState().authState}async function Jc(){const{setIsSupported:e}=we.getState(),{authBase:t}=Dc();if(!await ty()){e(!1);return}for(;Yf()==="unknown";)await qo(100);if(Yf()!=="unauthenticated")return;const s=fe.id+iy(50),r=await r_();localStorage.setItem(Zl,r.verifier),localStorage.setItem(Jl,s);const o=new URLSearchParams({client_id:Wc,redirect_uri:Zc,response_type:"code",provider:"authkit",code_challenge_method:"S256",code_challenge:r.challenge,scope:"openid profile email offline_access",state:s,audience:"https://surrealdb.us.auth0.com/api/v2/"});fe.openUrl(`${t}/authorize?${o.toString()}`,"internal")}async function Xf(e,t){try{const{setLoading:n}=we.getState(),{authBase:s}=Dc();fe.log("Cloud","Verifying authentication details");const r=localStorage.getItem(Zl),o=localStorage.getItem(Jl);if(localStorage.removeItem(Zl),localStorage.removeItem(Jl),t!==o)throw new Error("Invalid authentication state");if(!r)throw new Error("Invalid authentication verifier");n();const c=await(await fe.fetch(`${s}/oauth/token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:Wc,redirect_uri:Zc,grant_type:"authorization_code",code_verifier:r,code:e})})).json();if(!c||c.error)throw new Error(`Invalid authentication response: ${c.error}`);localStorage.setItem(fo,c.refresh_token),sy(c.access_token)}catch(n){console.error("Failed to verify authentication",n),si(),Rt({title:"Authentication failed",subtitle:"An error occurred while verifying the authentication details"})}}async function ny(){const{setIsSupported:e,setLoading:t,setSessionExpired:n}=we.getState(),{authBase:s}=Dc();if(!await ty()){si(),e(!1);return}try{const o=localStorage.getItem(fo);if(fe.log("Cloud","Refreshing cloud access token"),!o){si();return}t();const c=await(await fe.fetch(`${s}/oauth/token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:Wc,redirect_uri:Zc,grant_type:"refresh_token",refresh_token:o})})).json();if(!c||c.error)throw new Error(`Invalid authentication response: ${c.error}`);localStorage.setItem(fo,c.refresh_token),sy(c.access_token)}catch(o){console.error("Failed to refresh access token",o),si(),n(!0)}}async function sy(e){try{const{setSessionToken:t,setSessionExpired:n}=we.getState(),s=sessionStorage.getItem(Kl);fe.log("Cloud","Acquiring cloud session");let r="/signin";s&&(r+=`?referral=${s}`);const o=await gt(r,{method:"POST",body:JSON.stringify(e)});t(o.token),await Nd(),fe.log("Cloud","Session acquired"),sessionStorage.removeItem(Kl),LS.dispatch(null),n(!1),o.terms_accepted_at||t_()}catch(t){console.error("Failed to acquire session",t),si(),Rt({title:"Failed to authenticate",subtitle:"Please try signing into Surreal Cloud again"})}}function si(){const{clearSession:e}=we.getState(),t=!!localStorage.getItem(fo);fe.log("Cloud","Invalidating active session"),localStorage.removeItem(fo),e(),t&&$S.dispatch(null)}function s_(){const{authBase:e}=Dc(),t=new URLSearchParams({client_id:Wc,returnTo:`${Zc}?action=logout&target=${fe.id}`});fe.openUrl(`${e}/v2/logout?${t.toString()}`,"internal")}function i_(){const{sessionToken:e}=we.getState();if(!e)return;const t=e.split(".");if(t.length!==3)throw new Error("Invalid JWT token");const n=JSON.parse(atob(t[1])).exp;if(!n)return;const s=Date.now()/1e3;n-s<300&&ny()}function iy(e){let t="";for(let n=0;n<e;n++){const s=Math.floor(Math.random()*Gf.length);t+=Gf[s]}return t}async function r_(){const e=iy(50),t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(n),r=btoa(String.fromCodePoint(...s)).replaceAll("=","").replaceAll("+","-").replaceAll("/","_");return{verifier:e,challenge:r}}function ta(){return ws()[0].cloud_enabled}function Kc(){return Oc(/^\/cloud\/?.*$/)[0]}function as(){const e=we(n=>n.organizations),t=Se(n=>n.activeCloudOrg);return e.find(n=>n.id===t)}function o_(){return we(e=>e.authState==="authenticated")}function ry(){const e=as(),t=we(s=>s.regions),n=new Set(e?.plan?.regions??[]);return t.filter(s=>n.has(s.slug))}function Yi(){return as()?.plan.instance_types??[]}function a_(){return we(e=>e.instanceVersions)}function c_(){v.useLayoutEffect(()=>{const e=sessionStorage.getItem(Kh),t=sessionStorage.getItem(ep);e&&t?(sessionStorage.removeItem(Kh),sessionStorage.removeItem(ep),Xf(e,t)):ny(),setInterval(i_,1e3*60*3)},[]),Pe("cloud-auth",e=>{const{code:t,state:n}=e;if(!t||!n){fe.warn("Cloud","Invalid cloud callback payload");return}Xf(t,n)}),Pe("cloud-signin",()=>{Jc()}),Pe("cloud-signout",()=>{si()}),Pe("cloud-activate",()=>{Ic.set("cloud_access",!0)})}var pn,Le,$o,nn,yi,pr,Zs,ps,Lo,fr,gr,vi,wi,Js,mr,Ge,so,Fu,qu,Qu,Vu,Uu,zu,Bu,oy,Ym,l_=(Ym=class extends Km{constructor(t,n){super();jt(this,Ge);jt(this,pn);jt(this,Le);jt(this,$o);jt(this,nn);jt(this,yi);jt(this,pr);jt(this,Zs);jt(this,ps);jt(this,Lo);jt(this,fr);jt(this,gr);jt(this,vi);jt(this,wi);jt(this,Js);jt(this,mr,new Set);this.options=n,Be(this,pn,t),Be(this,ps,null),Be(this,Zs,sp()),this.options.experimental_prefetchInRender||J(this,Zs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(J(this,Le).addObserver(this),Wf(J(this,Le),this.options)?ct(this,Ge,so).call(this):this.updateResult(),ct(this,Ge,Vu).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Hu(J(this,Le),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Hu(J(this,Le),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ct(this,Ge,Uu).call(this),ct(this,Ge,zu).call(this),J(this,Le).removeObserver(this)}setOptions(t,n){const s=this.options,r=J(this,Le);if(this.options=J(this,pn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof fs(this.options.enabled,J(this,Le))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ct(this,Ge,Bu).call(this),J(this,Le).setOptions(this.options),s._defaulted&&!Ba(this.options,s)&&J(this,pn).getQueryCache().notify({type:"observerOptionsUpdated",query:J(this,Le),observer:this});const o=this.hasListeners();o&&Zf(J(this,Le),r,this.options,s)&&ct(this,Ge,so).call(this),this.updateResult(n),o&&(J(this,Le)!==r||fs(this.options.enabled,J(this,Le))!==fs(s.enabled,J(this,Le))||Na(this.options.staleTime,J(this,Le))!==Na(s.staleTime,J(this,Le)))&&ct(this,Ge,Fu).call(this);const a=ct(this,Ge,qu).call(this);o&&(J(this,Le)!==r||fs(this.options.enabled,J(this,Le))!==fs(s.enabled,J(this,Le))||a!==J(this,Js))&&ct(this,Ge,Qu).call(this,a)}getOptimisticResult(t){const n=J(this,pn).getQueryCache().build(J(this,pn),t),s=this.createResult(n,t);return d_(this,s)&&(Be(this,nn,s),Be(this,pr,this.options),Be(this,yi,J(this,Le).state)),s}getCurrentResult(){return J(this,nn)}trackResult(t,n){const s={};return Object.keys(t).forEach(r=>{Object.defineProperty(s,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),n?.(r),t[r])})}),s}trackProp(t){J(this,mr).add(t)}getCurrentQuery(){return J(this,Le)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=J(this,pn).defaultQueryOptions(t),s=J(this,pn).getQueryCache().build(J(this,pn),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return ct(this,Ge,so).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),J(this,nn)))}createResult(t,n){const s=J(this,Le),r=this.options,o=J(this,nn),a=J(this,yi),c=J(this,pr),u=t!==s?t.state:J(this,$o),{state:d}=t;let h={...d},p=!1,f;if(n._optimisticResults){const S=this.hasListeners(),y=!S&&Wf(t,n),k=S&&Zf(t,s,n,r);(y||k)&&(h={...h,...nS(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:m,status:b}=h;if(n.select&&h.data!==void 0)if(o&&h.data===a?.data&&n.select===J(this,Lo))f=J(this,fr);else try{Be(this,Lo,n.select),f=n.select(h.data),f=rp(o?.data,f,n),Be(this,fr,f),Be(this,ps,null)}catch(S){Be(this,ps,S)}else f=h.data;if(n.placeholderData!==void 0&&f===void 0&&b==="pending"){let S;if(o?.isPlaceholderData&&n.placeholderData===c?.placeholderData)S=o.data;else if(S=typeof n.placeholderData=="function"?n.placeholderData(J(this,gr)?.state.data,J(this,gr)):n.placeholderData,n.select&&S!==void 0)try{S=n.select(S),Be(this,ps,null)}catch(y){Be(this,ps,y)}S!==void 0&&(b="success",f=rp(o?.data,S,n),p=!0)}J(this,ps)&&(g=J(this,ps),f=J(this,fr),m=Date.now(),b="error");const x=h.fetchStatus==="fetching",T=b==="pending",w=b==="error",j=T&&x,N=f!==void 0,C={status:b,fetchStatus:h.fetchStatus,isPending:T,isSuccess:b==="success",isError:w,isInitialLoading:j,isLoading:j,data:f,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:m,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!T,isLoadingError:w&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:w&&N,isStale:xh(t,n),refetch:this.refetch,promise:J(this,Zs)};if(this.options.experimental_prefetchInRender){const S=P=>{C.status==="error"?P.reject(C.error):C.data!==void 0&&P.resolve(C.data)},y=()=>{const P=Be(this,Zs,C.promise=sp());S(P)},k=J(this,Zs);switch(k.status){case"pending":t.queryHash===s.queryHash&&S(k);break;case"fulfilled":(C.status==="error"||C.data!==k.value)&&y();break;case"rejected":(C.status!=="error"||C.error!==k.reason)&&y();break}}return C}updateResult(t){const n=J(this,nn),s=this.createResult(J(this,Le),this.options);if(Be(this,yi,J(this,Le).state),Be(this,pr,this.options),J(this,yi).data!==void 0&&Be(this,gr,J(this,Le)),Ba(s,n))return;Be(this,nn,s);const r={},o=()=>{if(!n)return!0;const{notifyOnChangeProps:a}=this.options,c=typeof a=="function"?a():a;if(c==="all"||!c&&!J(this,mr).size)return!0;const l=new Set(c??J(this,mr));return this.options.throwOnError&&l.add("error"),Object.keys(J(this,nn)).some(u=>{const d=u;return J(this,nn)[d]!==n[d]&&l.has(d)})};t?.listeners!==!1&&o()&&(r.listeners=!0),ct(this,Ge,oy).call(this,{...r,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ct(this,Ge,Vu).call(this)}},pn=new WeakMap,Le=new WeakMap,$o=new WeakMap,nn=new WeakMap,yi=new WeakMap,pr=new WeakMap,Zs=new WeakMap,ps=new WeakMap,Lo=new WeakMap,fr=new WeakMap,gr=new WeakMap,vi=new WeakMap,wi=new WeakMap,Js=new WeakMap,mr=new WeakMap,Ge=new WeakSet,so=function(t){ct(this,Ge,Bu).call(this);let n=J(this,Le).fetch(this.options,t);return t?.throwOnError||(n=n.catch(K0)),n},Fu=function(){ct(this,Ge,Uu).call(this);const t=Na(this.options.staleTime,J(this,Le));if(tu||J(this,nn).isStale||!ip(t))return;const s=eS(J(this,nn).dataUpdatedAt,t)+1;Be(this,vi,setTimeout(()=>{J(this,nn).isStale||this.updateResult()},s))},qu=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(J(this,Le)):this.options.refetchInterval)??!1},Qu=function(t){ct(this,Ge,zu).call(this),Be(this,Js,t),!(tu||fs(this.options.enabled,J(this,Le))===!1||!ip(J(this,Js))||J(this,Js)===0)&&Be(this,wi,setInterval(()=>{(this.options.refetchIntervalInBackground||tS.isFocused())&&ct(this,Ge,so).call(this)},J(this,Js)))},Vu=function(){ct(this,Ge,Fu).call(this),ct(this,Ge,Qu).call(this,ct(this,Ge,qu).call(this))},Uu=function(){J(this,vi)&&(clearTimeout(J(this,vi)),Be(this,vi,void 0))},zu=function(){J(this,wi)&&(clearInterval(J(this,wi)),Be(this,wi,void 0))},Bu=function(){const t=J(this,pn).getQueryCache().build(J(this,pn),this.options);if(t===J(this,Le))return;const n=J(this,Le);Be(this,Le,t),Be(this,$o,t.state),this.hasListeners()&&(n?.removeObserver(this),t.addObserver(this))},oy=function(t){Cc.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(J(this,nn))}),J(this,pn).getQueryCache().notify({query:J(this,Le),type:"observerResultsUpdated"})})},Ym);function u_(e,t){return fs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Wf(e,t){return u_(e,t)||e.state.data!==void 0&&Hu(e,t,t.refetchOnMount)}function Hu(e,t,n){if(fs(t.enabled,e)!==!1){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&xh(e,t)}return!1}function Zf(e,t,n,s){return(e!==t||fs(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&xh(e,n)}function xh(e,t){return fs(t.enabled,e)!==!1&&e.isStaleByTime(Na(t.staleTime,e))}function d_(e,t){return!Ba(e.getCurrentResult(),t)}var Ks,ei,fn,Cs,$s,Pa,Gu,Xm,h_=(Xm=class extends Km{constructor(t,n){super();jt(this,$s);jt(this,Ks);jt(this,ei);jt(this,fn);jt(this,Cs);Be(this,Ks,t),this.setOptions(n),this.bindMethods(),ct(this,$s,Pa).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=J(this,Ks).defaultMutationOptions(t),Ba(this.options,n)||J(this,Ks).getMutationCache().notify({type:"observerOptionsUpdated",mutation:J(this,fn),observer:this}),n?.mutationKey&&this.options.mutationKey&&op(n.mutationKey)!==op(this.options.mutationKey)?this.reset():J(this,fn)?.state.status==="pending"&&J(this,fn).setOptions(this.options)}onUnsubscribe(){this.hasListeners()||J(this,fn)?.removeObserver(this)}onMutationUpdate(t){ct(this,$s,Pa).call(this),ct(this,$s,Gu).call(this,t)}getCurrentResult(){return J(this,ei)}reset(){J(this,fn)?.removeObserver(this),Be(this,fn,void 0),ct(this,$s,Pa).call(this),ct(this,$s,Gu).call(this)}mutate(t,n){return Be(this,Cs,n),J(this,fn)?.removeObserver(this),Be(this,fn,J(this,Ks).getMutationCache().build(J(this,Ks),this.options)),J(this,fn).addObserver(this),J(this,fn).execute(t)}},Ks=new WeakMap,ei=new WeakMap,fn=new WeakMap,Cs=new WeakMap,$s=new WeakSet,Pa=function(){const t=J(this,fn)?.state??sS();Be(this,ei,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Gu=function(t){Cc.batch(()=>{if(J(this,Cs)&&this.hasListeners()){const n=J(this,ei).variables,s=J(this,ei).context;t?.type==="success"?(J(this,Cs).onSuccess?.(t.data,n,s),J(this,Cs).onSettled?.(t.data,null,n,s)):t?.type==="error"&&(J(this,Cs).onError?.(t.error,n,s),J(this,Cs).onSettled?.(void 0,t.error,n,s))}this.listeners.forEach(n=>{n(J(this,ei))})})},Xm),ay=v.createContext(!1),p_=()=>v.useContext(ay);ay.Provider;function f_(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var g_=v.createContext(f_()),m_=()=>v.useContext(g_);function cy(e,t){return typeof e=="function"?e(...t):!!e}function Yu(){}var b_=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},x_=e=>{v.useEffect(()=>{e.clearReset()},[e])},y_=({result:e,errorResetBoundary:t,throwOnError:n,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&cy(n,[e.error,s]),v_=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},w_=(e,t)=>e.isLoading&&e.isFetching&&!t,S_=(e,t)=>e?.suspense&&t.isPending,Jf=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function j_(e,t,n){const s=ci(),r=p_(),o=m_(),a=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",v_(a),b_(a,o),x_(o);const c=!s.getQueryCache().get(a.queryHash),[l]=v.useState(()=>new t(s,a)),u=l.getOptimisticResult(a);if(v.useSyncExternalStore(v.useCallback(d=>{const h=r?Yu:l.subscribe(Cc.batchCalls(d));return l.updateResult(),h},[l,r]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),v.useEffect(()=>{l.setOptions(a,{listeners:!1})},[a,l]),S_(a,u))throw Jf(a,l,o);if(y_({result:u,errorResetBoundary:o,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash)}))throw u.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(a,u),a.experimental_prefetchInRender&&!tu&&w_(u,r)&&(c?Jf(a,l,o):s.getQueryCache().get(a.queryHash)?.promise)?.catch(Yu).finally(()=>{l.updateResult()}),a.notifyOnChangeProps?u:l.trackResult(u)}function An(e,t){return j_(e,l_)}function ly(e,t){const n=ci(),[s]=v.useState(()=>new h_(n,e));v.useEffect(()=>{s.setOptions(e)},[s,e]);const r=v.useSyncExternalStore(v.useCallback(a=>s.subscribe(Cc.batchCalls(a)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),o=v.useCallback((a,c)=>{s.mutate(a,c).catch(Yu)},[s]);if(r.error&&cy(s.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:o,mutateAsync:r.mutate}}const uy="/assets/cloud-splash-DNVAEM8i.webp",T_={info:[Qi,"blue.3","blue.5","Info"],warning:[Jt,"orange.4","orange.6","Warning"],important:[_d,"red.5","red.6","Important"]};function E_({alert:e}){const t=Qe(),[n,s,r,o]=T_[e.message_type];return i.jsx(et,{color:t?r:s,title:o,icon:i.jsx(E,{path:n}),mb:"xs",children:e.message})}const k_="_feature-list_1b6cm_1",O_="_feature-icon_1b6cm_5",C_="_scroll-area_1b6cm_13",__="_table_1b6cm_17",Kf={featureList:k_,featureIcon:O_,scrollArea:C_,table:__},N_="_root_xbdnv_1",I_={root:N_};function an({children:e,href:t,className:n,...s}){return i.jsx(Pt,{href:t,underline:!1,className:cn(I_.root,n),...s,children:i.jsxs(U,{gap:"sm",children:[i.jsx(E,{path:Qi}),e]})})}function Ki({title:e,description:t,withMaxWidth:n,children:s}){return i.jsxs(G,{children:[i.jsx(ve,{children:e}),t&&i.jsx(_,{fz:"lg",mt:"xs",children:t}),i.jsx(B,{py:"xl",maw:n?500:void 0,children:s})]})}function dy(e){const t=we(n=>n.authState);return An({queryKey:["cloud","billing",e],enabled:!!e&&t==="authenticated",queryFn:async()=>gt(`/organizations/${e}/billing`)})}function D_(e){const t=we(n=>n.authState);return An({queryKey:["cloud","invoices",e],enabled:!!e&&t==="authenticated",queryFn:async()=>gt(`/organizations/${e}/billing/invoices`)})}function R_(e){const t=we(n=>n.authState);return An({queryKey:["cloud","payments",e],enabled:!!e&&t==="authenticated",queryFn:async()=>gt(`/organizations/${e}/payment`)})}function A_(){const e=we(n=>n.authState),t=we(n=>n.profile.username);return An({queryKey:["cloud","referral",t],enabled:e==="authenticated",queryFn:async()=>gt("/user/referrals/code")})}async function P_(){return new Promise(e=>{wn({modalId:"billing",size:"lg",onClose:e,closeOnClickOutside:!1,title:i.jsxs(U,{children:[i.jsx(E,{path:yo,size:"xl"}),i.jsx(ve,{children:"Billing Details"})]}),children:i.jsx($_,{})})})}function $_(){const e=as(),t=dy(e?.id);return t.data&&e?i.jsx(L_,{organization:e,details:t.data}):i.jsx(_,{children:"Loading..."})}function L_({organization:e,details:t}){const[n,s]=rs(t),[r,o]=v.useState(!1),a=ci(),[c,l]=v.useState(""),u=we(b=>b.billingCountries).map(b=>({value:b.code,label:b.name})),d=L(()=>{MS("billing")}),[h,p]=v.useState(!0),f=L(()=>!n.Name||!n.Email||!n.Phone||!n.Country||!n.State||!n.AddressLine1||!n.City||!n.Zipcode?!0:n.Email.length<7||n.Email.length>100?"Email must be between 7 and 100 characters":n.Zipcode.length<4||n.Zipcode.length>10?"Postal code must be between 4 and 10 characters":n.TaxIdentificationNumber&&(n.TaxIdentificationNumber.length<9||n.TaxIdentificationNumber.length>20)?"Tax Identification Number must be between 9 and 20 characters":n.Phone.length<7||n.Phone.length>20?"Phone number must be between 7 and 20 characters":!1),g=L(()=>{p(f())}),m=L(async()=>{p(!1),o(!0);try{await gt(`/organizations/${e.id}/billing`,{method:"PUT",body:JSON.stringify(FS(n,b=>!b))}),d(),Nd(),a.invalidateQueries({queryKey:["cloud","billing",e.id]})}catch(b){b instanceof qS&&l(b.reason)}finally{o(!1)}});return i.jsx(Kt,{onSubmit:m,children:i.jsxs(B,{children:[typeof h=="string"?i.jsx(et,{color:"red",title:"Invalid details",children:h}):c&&i.jsx(et,{color:"red",title:"Failed to save billing details",children:c}),i.jsx(le,{label:"Full Name",required:!0,value:n.Name,onBlur:g,onChange:b=>s(x=>{x.Name=b.target.value})}),i.jsx(le,{label:"Company Name",value:n.LegalName,onBlur:g,onChange:b=>s(x=>{x.LegalName=b.target.value})}),i.jsx(le,{label:"Tax Identification Number",value:n.TaxIdentificationNumber,onBlur:g,onChange:b=>s(x=>{x.TaxIdentificationNumber=b.target.value})}),i.jsxs(dt,{cols:{xs:1,sm:2},children:[i.jsx(le,{label:"Email",required:!0,value:n.Email,onBlur:g,onChange:b=>s(x=>{x.Email=b.target.value})}),i.jsx(le,{label:"Phone Number",required:!0,value:n.Phone,onBlur:g,onChange:b=>s(x=>{x.Phone=b.target.value})}),i.jsx(yt,{label:"Country",required:!0,searchable:!0,data:u,value:n.Country,onBlur:g,"data-1p-ignore":!0,onChange:b=>s(x=>{x.Country=b})}),i.jsx(le,{label:"State / Region",required:!0,value:n.State,onBlur:g,onChange:b=>s(x=>{x.State=b.target.value})}),i.jsx(le,{label:"Address",required:!0,value:n.AddressLine1,onBlur:g,onChange:b=>s(x=>{x.AddressLine1=b.target.value})}),i.jsx(le,{label:"Address Line 2",value:n.AddressLine2,onBlur:g,onChange:b=>s(x=>{x.AddressLine2=b.target.value})}),i.jsx(le,{label:"City",required:!0,value:n.City,onBlur:g,onChange:b=>s(x=>{x.City=b.target.value})}),i.jsx(le,{label:"Postal Code",required:!0,value:n.Zipcode,onBlur:g,onChange:b=>s(x=>{x.Zipcode=b.target.value})})]}),i.jsxs(U,{mt:"xl",children:[i.jsx(X,{color:"slate",variant:"light",onClick:d,children:"Close"}),i.jsx(je,{}),i.jsx(X,{type:"submit",variant:"gradient",disabled:!!h,loading:r,children:"Save details"})]})]})})}const M_={succeeded:{name:"Paid",color:"green"},pending:{name:"Pending",color:"orange"},failed:{name:"Failed",color:"red"}};function F_({name:e,description:t}){const n=Qe();return i.jsx(De,{p:"xl",children:i.jsxs(U,{children:[i.jsxs(G,{flex:1,children:[i.jsx(ve,{children:e}),i.jsx(_,{c:n?"slate.7":"slate.2",children:t})]}),i.jsx(X,{variant:"gradient",rightSection:i.jsx(E,{path:Vn}),onClick:()=>fe.openUrl("https://surrealdb.com/pricing"),children:"View plans"})]})})}function q_(){const e=as(),t=dy(e?.id),n=R_(e?.id),s=D_(e?.id),r=A_(),o=ci(),[a,c]=v.useState(!1),[l,u]=Ee(""),d=v.useRef(!1),h=L(async()=>{c(!0),d.current=!0;try{const x=await gt(`/organizations/${e?.id}/payment/url`);fe.openUrl(x)}finally{c(!1)}}),p=L(async()=>{try{await gt(`/organizations/${e?.id}/coupon`,{method:"POST",body:JSON.stringify(l)}),Ls({title:"Discount code applied",subtitle:"The discount code has been successfully applied"}),u("")}catch{Rt({title:"Failed to apply discount code",subtitle:"The discount code is invalid or has already been applied"})}});U0("focus",async()=>{!e||!d.current||(await gt(`/organizations/${e?.id}/payment`,{method:"PUT"}),Nd(),o.invalidateQueries({queryKey:["cloud","payments",e.id]}))});const f=n.data?.info?.card_brand??"",g=n.data?.info?.card_last4??"",m=`${Ci(f)} ending in ${g}`,b=`https://surrealist.app/cloud?referrer=${r.data}`;return i.jsx(G,{flex:1,pos:"relative",children:i.jsx(Fe,{pos:"absolute",scrollbars:"y",type:"scroll",inset:0,className:Kf.scrollArea,viewportProps:{style:{paddingBottom:75}},children:i.jsxs(B,{gap:42,mx:"auto",maw:900,children:[i.jsx(Ki,{title:"Your plan",description:"The plan active for this organization",children:i.jsx(sn,{visible:!e?.plan,children:i.jsx(F_,{name:e?.plan?.name??"",description:e?.plan?.description??""})})}),i.jsx(Ki,{title:"Billing Information",description:"Manage organization payment and billing information",children:i.jsxs(dt,{cols:{xs:1,md:2},spacing:"xl",children:[i.jsxs(De,{p:"md",children:[i.jsxs(U,{children:[i.jsx(E,{path:yo,size:"xl"}),i.jsx(_,{fz:"xl",fw:600,c:"bright",children:"Billing Details"}),i.jsx(je,{}),i.jsx(X,{color:"slate",variant:"light",onClick:P_,children:"Update"})]}),i.jsx(Ne,{my:"md"}),i.jsxs(B,{children:[i.jsxs(G,{children:[i.jsx(Ht,{children:"Name"}),i.jsx(sn,{visible:t.isPending,children:e?.billing_info?i.jsx(_,{c:"bright",fw:500,children:t.data?.Name}):i.jsx(_,{c:"slate.4",fw:500,children:"Not provided yet"})})]}),i.jsxs(G,{children:[i.jsx(Ht,{children:"Email"}),i.jsx(sn,{visible:t.isPending,children:e?.billing_info?i.jsx(_,{c:"bright",fw:500,children:t.data?.Email}):i.jsx(_,{c:"slate.4",fw:500,children:"Not provided yet"})})]})]})]}),i.jsxs(De,{p:"md",children:[i.jsxs(U,{children:[i.jsx(E,{path:QS,size:"xl"}),i.jsx(_,{fz:"xl",fw:600,c:"bright",children:"Payment Details"}),i.jsx(je,{}),i.jsx(Me,{disabled:e?.billing_info,label:"Please provide billing details first",children:i.jsx(X,{color:"slate",variant:"light",loading:a,onClick:h,disabled:!e?.billing_info,children:"Update"})})]}),i.jsx(Ne,{my:"md"}),i.jsxs(B,{mt:"md",children:[i.jsxs(G,{children:[i.jsx(Ht,{children:"Payment method"}),i.jsx(sn,{visible:n.isPending,children:e?.payment_info?i.jsx(_,{c:"bright",fw:500,children:"Credit Card"}):i.jsx(_,{c:"slate.4",fw:500,children:"Not provided yet"})})]}),i.jsxs(G,{children:[i.jsx(Ht,{children:"Card information"}),i.jsx(sn,{visible:n.isPending,children:e?.payment_info?i.jsx(_,{c:"bright",fw:500,children:m}):i.jsx(_,{c:"slate.4",fw:500,children:"Not provided yet"})})]})]})]})]})}),i.jsx(Ki,{title:"Discount Codes",description:"Apply discount codes to your organization",children:i.jsx(Kt,{onSubmit:p,children:i.jsxs(U,{maw:500,children:[i.jsx(le,{flex:1,value:l,onChange:u,placeholder:"Enter discount code"}),i.jsx(X,{type:"submit",variant:"gradient",disabled:!l,children:"Apply"})]})})}),i.jsxs(Ki,{title:"Referral",description:"The Surreal Cloud referral program allows you to invite a friend in exchange for benefits.",children:[i.jsx(sn,{visible:r.isPending,children:i.jsx(le,{flex:1,maw:420,value:b,readOnly:!0,rightSection:i.jsx(vd,{value:b,children:({copied:x,copy:T})=>i.jsx(de,{variant:x?"gradient":void 0,"aria-label":"Copy referral link",onClick:T,children:i.jsx(E,{path:x?tn:ui})})})})}),i.jsx(an,{href:"https://surrealdb.com/docs/cloud/billing-and-support/billing#referrals",children:"Learn more about the referral program"})]}),i.jsx(Ki,{title:"Invoices",description:"View and download invoices of service charges",children:s.isPending?i.jsxs(B,{children:[i.jsx(sn,{height:40}),i.jsx(sn,{height:40}),i.jsx(sn,{height:40})]}):s.data?.length?i.jsx(W,{className:Kf.table,children:i.jsx(W.Tbody,{children:s.data?.map(x=>{const T=M_[x.status];return i.jsxs(W.Tr,{children:[i.jsx(W.Td,{c:"bright",children:new Date(x.date).toLocaleDateString()}),i.jsx(W.Td,{c:T?.color??"slate",fw:600,children:T?.name??x.status}),i.jsxs(W.Td,{children:["$",(x.amount/100).toFixed(2)," USD"]}),i.jsx(W.Td,{children:i.jsx(Pt,{href:x.url,children:i.jsx(de,{children:i.jsx(E,{path:Vn})})})})]},x.id)})})}):i.jsx(et,{icon:i.jsx(E,{path:Qi}),title:"Your organization has no invoices yet",color:"blue",pr:"xl",children:"Once you have invoices, you can view and download them here"})})]})})})}const Q_="_input_w8h8r_1",V_="_message_w8h8r_8",hy={input:Q_,message:V_},U_=void 0,z_=void 0,py="https://api-prod.scoutos.com";function B_(){const{pushChatMessage:e,updateChatMessage:t,completeChatResponse:n}=we.getState(),{profile:s}=we.getState(),[r,o]=v.useState(!1),a=v.useRef(),c=H_();return v.useEffect(()=>()=>{a.current?.abort()},[]),{sendMessage:L(async u=>{o(!0);try{const{chatConversation:d}=we.getState(),h=d.slice(-3).map(m=>({content:m.content,role:m.sender}));a.current=new AbortController;const p=await fetch(`${py}/v2/copilot/${U_}/cook?copilot_id=${z_}`,{signal:a.current?.signal,method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`,Origin:window.location.origin},body:JSON.stringify({streaming:!0,inputs:{user_message:u,chat_history:h,user_avatar:s.picture,user_name:s.name}})});if(!p.ok||!p.body)throw new Error(`Request failed with status: ${p.status}`);const f=Ce(),g=p.body.getReader();e({id:f,content:"",sender:"assistant",loading:!0,thinking:"Thinking..."}),await Y_(g,(m,b)=>{switch(console.debug(`Copilot message (${m}):`,b),m){case"workflow_run_failed":{console.error("Workflow run failed:",b),t(f,x=>{x.content="I'm sorry, I encountered an error",x.loading=!1}),Rt({title:"Chat error",subtitle:"Sidekick encountered an unexpected error"});break}case"workflow_run_completed":{n(f);break}case"block_state_updated":{const{block_type:x,update_type:T,update_data:w}=b.data;switch(x){case"com.scoutos.copilot.message":{t(f,j=>{j.loading=!1,T==="partial"?j.content=j.content+w.output:T==="complete"&&(j.content=w.output)});break}case"com.scoutos.copilot_list_of_links":{T==="complete"&&t(f,j=>{j.sources=w.output});break}case"com.scoutos.copilot_thinking_text":{T==="complete"&&t(f,j=>{j.thinking=w.output.trim()});break}}break}}})}finally{o(!1)}}),isResponding:r}}function H_(){const[e,t]=v.useState(""),[n,s]=v.useState(!1),r=L(async()=>{if(!(G_(e)||n)){s(!0);try{const o=await fetch(`${py}/v1/copilot/get-ingredient`,{method:"GET",headers:{Origin:window.location.origin}});if(!o.ok)throw new Error(`Token fetch failed with status: ${o.status}`);const a=await o.json();t(a.token),fe.log("Copilot","Acquired new token")}catch(o){throw console.error("Error fetching token:",o),o}finally{s(!1)}}});return z0(r,1e3*60*4,{autoInvoke:!0}),r(),e}function G_(e){if(!e)return!1;try{const t=gb(e);return Date.now()/1e3<t.exp}catch(t){return console.error("Invalid token format:",t),!1}}async function Y_(e,t){let n="",s="";for(;;){const{done:r,value:o}=await e.read();if(r)break;const a=new TextDecoder().decode(o);for(const c of a)if(n+=c,c===`
`){const l=n.trim();if(n="",l){const u=l.indexOf(":"),d=l.slice(0,u),h=l.slice(u+2);d==="event"?s=h:d==="data"&&t(s,JSON.parse(h))}}}}const X_="data:image/webp;base64,UklGRjgKAABXRUJQVlA4WAoAAAAQAAAAQgAAQgAAQUxQSPoFAAAN8ENt27Hdtm2d5/PVpr+2im7btm3bts3YRmwrMofNqNu2Uc3/OYP3+/+KUUYeERPA/4sG2P8ZFwkEYGebAGmANcrsLJK1Jg0gmTrJ7OyQ0ASR2DIjg86YkAAj99z+9pe/wd7d8PNf7PvP//gG4YRGnRmnKOKuOzzr+kePHT129OjoClfce/vbXeQ/3v2NnI1NpTNgI0D2PvMxR44cMYEw8wq3f/aBt/4nTibYaTNT9NEvPXzokCRJQgLd/pW/fPvPwMpOj4Hg2PX+gwcPChnbNx798g+8m4g4zQLqdd9x4EBSI8OQhFj66tU79kFAp8n0Ni/66z4MyYwxkSmCkU+/zzP/CpGdmgnDez7pLwdrDdCYcxU6wRDgeq969r4I6FTElMs//8+GWSamEQhBAlzvpc+miFM1kHH5N/5pH4BJYxrrzQAz4Fb3eT0UtD1E5Hl/+L0gUwNzTTSmkoHBk3/4vwXZdgzRh5z8nUmYkCWYkCQJCbzxLQcqs60EFJ79W5IkpxhjGmYmyTLhsvf8KExiuw1jPP7Xv26QoRGYOTUzbI2BT/jiPoi2gwx59K8y1iYGmMRaY0tp10M/MRe21ch84M9/Cy4yyXAKrqkRkgT2uC8dgJxsaSr3+fkcBQhOxhw1ygDTKTEmhu684vej6RZiuPvKPzUEIjGwRgiECTAHSfDALzE1WggNuOmPAVsMMgxJAjAAAwzgzv9VFFuL3vCHZgBmGIbhGgyZw4lAXLj3txRbislVfhiAEMgUJAkXc1AjpGzEdX5AMm2BmBsHAIxGwYhYK5AEhsSYY455ud/ilAAk0Yv9FhqBCSTLhGgkkITMEbDrSDldGDbogoPoBCSWBowJYCwlAMO43O8gY62ZzHAq1AgzzDnCwCQarRFykLG+AYwTkhCS6dTMJCFDSKpRenQDYmnWgApkaiBx/g5Oo8GJE4V5ZCdkBDScwqYQEpL5zb+roG3ZYNzppgL0x0vSCCAtwRkGmAF9f/eEAHIRInLwWi1Wv79kTkZgKTmTDKe4uMjPnJVkiwGkXuIYJqsfX14JIQ2EGSCNAvAyvyBgNgIMcIBX/7E4+c2uPaUZ65NCgCShq/7qkJOsEWQKevHLfRMa/uDKO0CILZ1OmSaAgd3lH4IyMk1Qr/HDQXbOP18VyUbrQiKzxVLu/LU/lkUCDUAucZv/AvAPB66SgLF+FBMzzDWTjce8nxmQmeSwB//HXxY7/vFa5xujbSQUAo25ELvmdT9tEWtFevhv/pvAY/97ddGQ9QluCnNAJjVqPHjXRzBa0yqetO/fSDj3i9fbSaIBhgTTwBbGKIz7POA1fwgDlEs8+7//heXq63+4xqqBKZAk4CYYNibrhS7xmu/82zch7fr3veI/fRuwcfwfr7ezVTBYn5CEEzPMhFje+a7X+Mkf7UqX+NE//u+OgNz45PUuszIGGGDGcgISGknmQi646iXyp787hFPDjX/w2ueHI9kywSisQTGYmmEJNJK1yc5/+t11diIotkiDZBoSQhhLM8DINaz2fPrwDXY1UhADcMrSTTCZIwDJAAyTJDz3nHde9oa7h3MVKrFMyDiyUY2wMUeEmbg5yDBcXfjrD93xsrsYjVS2NEjiqzfblIk5R0ICgYEAq41jH/3LbXbvwkRN1yVB9m933XE8SSBpBI0aAazO2/jFf3/lLpe44IKQBYPtR/zhc8/ZfWwTSAgDTGA1dpz/0x9889B1rtWukQtBaQsjiOO/+cR1r3bxgZmxzfjTn37/44td7jKXb+PcAlGU2DqJqMPHfvLn/awQcxEE0917LrzYOSfPPW9ljMVI0baijKiTB49jOGWNAYx0xzmrc0igYQPR2GbaksqEOSIhkQwI0JCRgxzJtktaQkwYZYaZTkCEUEYKim0PCloSAeLmIJaCgYjAGFPNOOVgsiDIwMlICExDE42BOjnlbBoV6wPJTMwpg0TQME49wxlsEUJCGCCMTdUUZHJaI5kYQUgYEoJzkAkDjNOcUZAR4hRzyjY1iTMZy8xIQqZgawSTszSWAYQTwBZBZwBWUDggGAQAADAVAJ0BKkMAQwA+3VqnT6ikoyIs1NzJEBuJaQAV5L2Cf4Po1PS59PEaOYUx+Ifjc/zngYeaeo9/WP+Z6fv/F/jPOb9M+wH/Mv656Snr6/cP2Kv1TRuPU2TL4DehqMhuZe5I/JgVBzKwDA1NFBB7oRlYjtahzFU98QQuOs5v43vzskrGi4+C8u4+dhqsVBkoZUh3EZsPxeispXCpn++wtZCecuGISxDQb98zvayp6d4kCAAA/uibh+PxexOHUVnghOzYXULkncoB/L/Xf13zbbDNAovDMWEDj8v7UsXk3c+lLHohFHIrMyk1AZyZ46wjNJTIdOUfktNX19uwEpO61Huya/FWejCColNL9T4w6irjPTfvWoYStoWmJYsGRphui55+w8wjJHIUQI30GlmWEFjO+zLIpqcS+wXnKZGUAiXqZS1F5SqKNGKiAE+rwibaCXU2m7A6nm5FUt570Yl9k1Xqz17st1HJxWHI2QykppPAWYRLIM0bWWiviPONm7e3i1BJipJGfk/q6v7oNuDZjmXn13bz+1GD1Xxqa8+f9/sWnTnyIEWjNu1/15vsuutGcybXCF+98gokR3i7YIXSG/+YX6e5344SumHUmQJuGbeg11YJI72XAyEsviVpjT5Mn4M2aAtH7pJPSipmLE/3Jwb65AZew/8tHU66knrH+sg33jZFe0Wg7gpILflT0U8/OWzveS2CMAe5AW6HXRJOfKF7iwiP0oHsyq67ijUGv5xKg6TVAoP3j2msh0At7knEhDW/CgBJvhQ2xW1HGeLsNNBQW/pXOOKode5qPr/8J5ODMBLhHGYWdPBKy0/fxbREIaY8vGxYdKjPRwISYGimIwbmQOJgHyVqC/Ld/w1y0xIVid+awqA+/CY5NihX3j2kegaf+ILCUhDjvCJon2uVA9kAaXH398TjCxmqGUSHsdCLcr5bCKLLs7z2SxjgUM7lOzsCFAZx5Af4pP/I9xg4Y5z5dERedSgH4nNQ8JpTbYt3mddzsw5aEZOs3cDiAzZ7Rh5t+EZN2UMva1MLcxJbM5XnG/9Onx/5NYmS9dLPpu3SUQbtfXghP/ASdGLiTH8UIFKOFx2evP1+hxlGnR0+5T4zBWGAmMrCtOfg/qMLREDE2Q5WbAUtZ595qIV0W1Uvb7VCs0d+VovJmr3KPRDr3aTl7ito00Ppe8NT71nsuMRnvm15AnZyP7D0RrQXKA3PBuWAhzVLrtVzeaJbfg9lbFzAT4mB3Zyi1nn+qE/gv/glsJOy0fGkOWyk4HDrIk/O2j7wzoHZdj3hM8+cqOVYUyXDlFF6Lz9Q/CDBHc4Lyw6KQf7ra90nLi/KWQ4+Qwgo7JgU+hbROqKtDOQuy+NxedUfCMfpKH9B2Q6xj/YyzBdExMfqeAAAAAA=";function W_({message:e,profile:t,lastResponse:n,isResponding:s,isLight:r}){return i.jsxs(on,{justify:e.sender==="user"?"end":"start",direction:e.sender==="user"?"row-reverse":"row",gap:"md",children:[e.sender==="assistant"?i.jsx(Z_,{}):i.jsx(mo,{radius:"md",size:40,name:t.name,src:t.picture}),e.loading?i.jsxs(U,{children:[i.jsx(ys,{size:14,color:"slate.5"}),i.jsx(_,{size:"lg",c:"white",children:e.thinking})]}):i.jsxs(De,{px:"lg",py:"sm",maw:"80%",bg:e.sender==="user"?r?"slate.1":"slate.6":r?"white":"slate.8",children:[i.jsx(wd,{fz:"lg",fw:400,c:"bright",className:hy.message,dangerouslySetInnerHTML:{__html:He(e.content)}}),e.sources&&e.sources.links.length>0&&i.jsxs(De,{bg:r?"slate.0":"slate.7",mt:"xl",p:"md",children:[i.jsx(_,{fz:"lg",fw:500,children:e.sources.header}),i.jsx(Si,{mt:"sm",children:e.sources.links.map((o,a)=>i.jsx(Si.Item,{icon:i.jsx(Vt,{src:o.img_url,radius:4,w:18,h:18}),children:i.jsx(Pt,{href:o.url,c:"bright",children:o.title})},a))})]}),e.id===n&&!s&&i.jsxs(_,{mt:"md",fz:"xs",c:"slate",children:["This response may be incorrect. Help us improve the docs by"," ",i.jsx(Pt,{fz:"xs",href:"https://github.com/surrealdb/docs.surrealdb.com",children:"clicking here"})]})]})]})}function Z_(){const e=Qe();return i.jsx(mo,{radius:"md",variant:e?"filled":"light",color:"surreal",size:40,children:i.jsx(Vt,{src:X_,w:28,h:28})})}const J_=v.memo(W_);function K_(){const{pushChatMessage:e,clearChatSession:t}=we.getState(),n=Qe(),s=v.useRef(null),r=v.useRef(null),[o,a]=Ee(""),c=we(b=>b.profile),l=we(b=>b.chatConversation),u=we(b=>b.chatLastResponse),{sendMessage:d,isResponding:h}=B_(),p=v.useMemo(()=>o.trim()!=="",[o]),f=o&&!h&&p,g=L(()=>{f&&(e({id:Ce(),content:o,sender:"user",thinking:"",loading:!1}),s.current?.focus(),d(o),a(""))}),m=L(b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),g())});return v.useEffect(()=>{if(r.current){const{scrollHeight:b,clientHeight:x,scrollTop:T}=r.current;b-x-T<50&&r.current?.scrollTo({top:b,behavior:"smooth"})}},[l]),i.jsxs(B,{gap:0,h:"100%",w:"100%",align:"center",children:[i.jsxs(G,{flex:1,w:"100%",pos:"relative",children:[l.length===0&&i.jsx(Xt,{pos:"absolute",inset:0,children:i.jsx(E,{path:Id,size:10,noStroke:!0,color:"slate.8"})}),i.jsx(Fe,{pos:"absolute",viewportRef:r,inset:0,children:i.jsxs(G,{mx:"auto",maw:900,pb:96,children:[i.jsxs(U,{wrap:"nowrap",align:"start",children:[i.jsxs(G,{flex:1,children:[i.jsx(ve,{children:"Sidekick"}),i.jsx(_,{fz:"lg",children:"Chat with Sidekick, your personal Surreal assistant designed to answer your database questions."}),i.jsx(Ft,{mt:"sm",color:"orange",variant:"light",tt:"unset",fw:"unset",lts:"unset",children:"Sidekick is still in beta, responses may be inaccurate."})]}),!h&&l.length>1&&i.jsx(xo,{label:"Reset chat",variant:"subtle",size:"lg",onClick:t,children:i.jsx(E,{path:zo,size:"lg"})})]}),i.jsx(B,{mt:42,gap:42,children:l.map((b,x)=>i.jsx(J_,{message:b,profile:c,lastResponse:u,isResponding:h,isLight:n},x))})]})})]}),i.jsx(U,{maw:900,w:"100%",style:{transform:"translateY(-24px)"},children:i.jsx(Mo,{ref:s,size:"lg",rows:1,maxRows:12,autosize:!0,className:hy.input,placeholder:"Send a message...",onKeyDown:m,value:o,autoFocus:!0,onChange:a,rightSection:i.jsx(de,{size:"lg",type:"submit",variant:"gradient",disabled:!f,onClick:g,loading:h,style:{opacity:f?1:.5,border:"1px solid rgba(255, 255, 255, 0.3)",backgroundOrigin:"border-box",filter:f?void 0:"saturate(0%)",transition:"all 0.1s"},children:i.jsx(E,{path:Dd,c:"white"})})})}),i.jsx(_,{mb:"md",children:"You are chatting with an AI assistant, responses may be inaccurate."})]})}const e1="_search_1oxm7_1",t1="_table_1oxm7_10",n1="_lang-switcher_1oxm7_34",s1="_first-instance_1oxm7_51",eg={search:e1,table:t1,langSwitcher:n1,firstInstance:s1},i1="_root_ovb9y_1",r1={root:i1};function o1({icon:e,className:t,onClick:n,...s}){return i.jsx(B0,{position:{bottom:32,right:32},zIndex:150,children:i.jsx(de,{variant:"gradient",radius:"50%",size:64,className:cn(r1.root,t),onClick:n,...s,children:i.jsx(E,{path:e,size:"xl"})})})}const a1="_copy-host_19kq5_1",c1="_root_19kq5_5",l1="_whitelist-switch_19kq5_9",fy={copyHost:a1,root:c1,whitelistSwitch:l1};function na(e){return i.jsx(Ft,{variant:"subtle",radius:"xs",p:0,...e,children:"Beta"})}const tg=["use","info","version","signup","signin","authenticate","invalidate","let","unset","live","kill","query","graphql","run","select","create","insert","insert_relation","update","upsert","relate","merge","patch","delete"],ng=["status","health","version","import","export","signup","signin","key","sql","graphql","ml"];async function u1(e){wn({size:"lg",title:i.jsxs(G,{children:[i.jsx(ve,{children:"Instance capabilities"}),i.jsx(_,{fz:"lg",children:e.name})]}),children:i.jsx(d1,{instance:e})})}function d1({instance:e}){const t=Qe(),[n,s]=v.useState(!1),[r,o]=v.useState(!1),[a,c]=v.useState(!1),[l,u]=v.useState(tg),[d,h]=v.useState(ng),[p,f]=v.useState({base:!1,overrides:[]}),[g,m]=v.useState({base:!0,overrides:[]}),b=v.useMemo(()=>tg.map(T=>({label:T,value:T})),[]),x=v.useMemo(()=>ng.map(T=>({label:T,value:T})),[]);return i.jsxs(B,{children:[i.jsx(_,{mb:"lg",children:"You can configure the capabilities of this instance to control fine-grained access to individual features, functions, and endpoints."}),i.jsx(et,{title:"Note",color:"blue",children:"The ability to configure instance capabilities is not currently available."}),i.jsx(De,{bg:t?"slate.0":"slate.9",p:"xl",children:i.jsxs(B,{gap:"xl",children:[i.jsx(_l,{name:"Scripting",description:"Allow execution of embedded scripting functions",value:n,onChange:s,disabled:!0}),i.jsx(_l,{name:"Guest Access",description:"Allow non-authenticated users to execute queries when authentication is enabled",value:r,onChange:o,disabled:!0}),i.jsx(_l,{name:i.jsxs(U,{gap:"xs",children:["GraphQL",i.jsx(na,{})]}),description:"Allow execution queries using the GraphQL API",value:a,onChange:c,disabled:!0}),i.jsx(sg,{data:b,name:"Enabled RPC methods",description:"Select which RPC methods are available for use",value:l,onChange:u,disabled:!0}),i.jsx(sg,{data:x,name:"Enabled HTTP endpoints",description:"Select which HTTP endpoints are available for use",value:d,onChange:h,disabled:!0}),i.jsx(ig,{name:"Network access",description:"Configure outbound network access to specific targets",what:"network targets",value:p,onChange:f,disabled:!0}),i.jsx(ig,{name:"Functions",description:"Configure enabled functions for use in queries",what:"functions",value:g,onChange:m,disabled:!0})]})}),i.jsxs(U,{mt:"md",children:[i.jsx(X,{onClick:()=>Jn(),color:"slate",variant:"light",flex:1,children:"Close"}),i.jsx(X,{type:"submit",variant:"gradient",disabled:!0,flex:1,children:"Save changes"})]})]})}function _l({name:e,description:t,value:n,disabled:s,onChange:r}){return i.jsxs(U,{children:[i.jsxs(G,{children:[i.jsx(_,{fz:"lg",fw:500,c:"bright",children:e}),t&&i.jsx(_,{fz:"sm",c:"slate",children:t})]}),i.jsx(je,{}),i.jsx(Lt,{checked:n,disabled:s,onChange:o=>r(o.currentTarget.checked)})]})}function sg({name:e,description:t,value:n,data:s,disabled:r,onChange:o}){const[a,c]=nt(),l=(d,h)=>{const p=d.currentTarget.checked?[...n,h]:n.filter(f=>f!==h);o(p)},u=n.length===s.length?"All enabled":n.length===0?"None enabled":`${n.length} Enabled`;return i.jsxs(i.Fragment,{children:[i.jsxs(U,{children:[i.jsxs(G,{children:[i.jsx(_,{fz:"lg",fw:500,c:"bright",children:e}),t&&i.jsx(_,{fz:"sm",c:"slate",children:t})]}),i.jsx(je,{}),i.jsx(es,{onClick:c.toggle,children:i.jsxs(U,{py:"sm",gap:"sm",children:[i.jsx(_,{children:u}),i.jsx(E,{path:Mr})]})})]}),i.jsx(Mi,{in:a,children:i.jsx(De,{bd:"1px solid var(--surrealist-divider-color)",bg:"transparent",p:"md",children:i.jsx(dt,{cols:3,children:s.map(d=>i.jsx(Lt,{label:d.label,checked:n.includes(d.value),disabled:r,onChange:h=>l(h,d.value)},d.value))})})})]})}function ig({name:e,description:t,value:n,what:s,disabled:r,onChange:o}){const[a,c]=nt(),[l,u]=Ee(""),d=L(p=>{o({...n,base:p==="allow"})}),h=L(()=>{l&&!n.overrides.includes(l)&&o({...n,overrides:[...n.overrides,l]}),u("")});return i.jsxs(i.Fragment,{children:[i.jsxs(U,{children:[i.jsxs(G,{children:[i.jsx(_,{fz:"lg",fw:500,c:"bright",children:e}),t&&i.jsx(_,{fz:"sm",c:"slate",children:t})]}),i.jsx(je,{}),i.jsx(es,{onClick:c.toggle,children:i.jsxs(U,{py:"sm",gap:"sm",children:[i.jsxs(_,{children:[n.base?"Enabled":"Disabled",n.overrides.length>0&&`, ${n.overrides.length} exceptions`]}),i.jsx(E,{path:Mr})]})})]}),i.jsx(Mi,{in:a,children:i.jsxs(De,{bd:"1px solid var(--surrealist-divider-color)",bg:"transparent",p:"md",children:[i.jsx(Wm,{fullWidth:!0,className:fy.whitelistSwitch,value:n.base?"allow":"deny",onChange:d,disabled:r,data:[{label:`Allow all ${s}`,value:"allow"},{label:`Deny all ${s}`,value:"deny"}]}),i.jsxs(Ht,{mt:"xl",children:["Override and ",n.base?"deny":"allow"," specific ",s]}),i.jsx(Kt,{onSubmit:h,children:i.jsxs(U,{mt:"md",children:[i.jsx(le,{flex:1,size:"xs",value:l,onChange:u,disabled:r}),i.jsx(X,{type:"submit",size:"xs",variant:"gradient",disabled:r||!l,rightSection:i.jsx(E,{path:Ie}),children:"Add exception"})]})}),n.overrides.length>0&&i.jsx(Si,{mt:"md",children:n.overrides.map(p=>i.jsx(Si.Item,{icon:i.jsx(de,{color:"slate",size:"xs",variant:"transparent",onClick:()=>o({...n,overrides:n.overrides.filter(f=>f!==p)}),children:i.jsx(E,{path:en,size:"sm"})}),children:p},p))})]})})]})}function el(e){const t=we(n=>n.authState);return An({queryKey:["cloud","instances",e],refetchInterval:15e3,enabled:t==="authenticated",queryFn:async()=>gt(`/organizations/${e}/instances`)})}function yh(e){const t=as(),n=Yi(),s=v.useMemo(()=>n.filter(r=>{if(!t)return!1;const[o,a]=mb(e??[],l=>l.type.price_hour===0);return r.price_hour===0?o.length<t.max_free_instances:a.length<t.max_paid_instances}),[n,t,e]);return r=>s.includes(r)}const h1="_root_1aplh_1",p1="_on-body_1aplh_16",f1="_disabled_1aplh_23",Nl={root:h1,onBody:p1,disabled:f1},uo=H0(v.forwardRef(({isActive:e,disabled:t,inactive:n,onBody:s,children:r,className:o,...a},c)=>i.jsx(De,{p:"md",ref:c,renderRoot:l=>n?i.jsx("div",{...l}):i.jsx(es,{disabled:t,...l}),className:cn(Nl.root,t&&Nl.disabled,s&&Nl.onBody,o),mod:{active:e},...a,children:r})));function gy({organization:e,value:t,onBody:n,onChange:s,hideFree:r,...o}){const c=Yi().find(h=>h.slug==="free"),l=el(e?.id),u=yh(l.data??[]),d=c&&u(c);return i.jsxs(B,{...o,children:[i.jsxs(uo,{isActive:t==="production",onClick:()=>s?.("production"),onBody:n,children:[i.jsxs(U,{children:[i.jsx(E,{path:yr}),i.jsx(ve,{c:"bright",fw:600,fz:"lg",children:"Production"})]}),i.jsx(_,{mt:"sm",children:"For production environments, data at scale, or professional use cases."})]}),i.jsxs(uo,{isActive:t==="development",onClick:()=>s?.("development"),onBody:n,children:[i.jsxs(U,{children:[i.jsx(E,{path:bb}),i.jsx(ve,{c:"bright",fw:600,fz:"lg",children:"Development"})]}),i.jsx(_,{mt:"sm",children:"For testing, starter projects, or for low-traffic applications."})]}),!r&&i.jsxs(uo,{isActive:t==="free",onClick:()=>s?.("free"),disabled:!d,onBody:n,children:[i.jsxs(U,{children:[i.jsx(E,{path:Rc}),i.jsx(ve,{c:"bright",fw:600,fz:"lg",children:"Free instance"})]}),i.jsx(_,{mt:"sm",children:"Experience Surreal Cloud with a single free instance to get started."}),!d&&i.jsxs(U,{mt:"sm",gap:"xs",children:[i.jsx(E,{path:Jt,c:"orange",size:"sm"}),i.jsx(_,{c:"orange",fw:500,children:"Maximum amount of free instances in use"})]})]})]})}function sa({type:e,units:t}){const n=Qe(),r=(e?.price_hour??0)/1e3*(t??0);return i.jsxs(G,{children:[i.jsx(Ht,{children:"Estimated costs"}),i.jsxs(_,{c:n?"slate.6":"slate.2",children:[i.jsxs(_,{span:!0,fz:24,fw:500,c:"bright",children:["$",r.toFixed(3)]}),"/hour"]}),i.jsxs(_,{c:n?"slate.6":"slate.2",children:["≈"," ",i.jsxs(_,{span:!0,fw:500,c:"bright",children:["$",(r*24*30).toFixed(3)]}),"/month"]})]})}function pc({type:e,status:t,isSelected:n,isActive:s,inactive:r,onBody:o,onSelect:a}){return i.jsx(uo,{isActive:n,onClick:a?()=>a(e.slug):void 0,disabled:e.enabled===!1||s,inactive:r,onBody:o,children:i.jsxs(U,{wrap:"nowrap",align:"center",children:[i.jsxs(B,{flex:1,gap:0,children:[t,i.jsxs(U,{children:[i.jsx(_,{c:"bright",fw:600,fz:18,children:e.display_name}),s&&i.jsx(E,{path:tn,c:"surreal"})]})]}),i.jsx(G,{children:i.jsx(W,{children:i.jsxs(W.Tbody,{children:[i.jsxs(W.Tr,{children:[i.jsx(W.Td,{c:"bright",miw:45,ta:"right",children:e.cpu}),i.jsx(W.Td,{children:i.jsx(U,{children:"vCPU"})})]}),i.jsxs(W.Tr,{children:[i.jsx(W.Td,{c:"bright",miw:45,ta:"right",children:ru(e.memory)}),i.jsx(W.Td,{children:i.jsx(U,{children:"Memory"})})]})]})})})]})})}async function g1(e){wn({size:"lg",title:i.jsxs(G,{children:[i.jsx(ve,{children:"Change instance type"}),i.jsxs(_,{fz:"lg",children:["Instance: ",e.name]})]}),children:i.jsx(m1,{instance:e})})}function m1({instance:e}){const t=Yi(),n=as(),s=ci(),[,r]=Pr(),[o,a]=v.useState(""),[c,l]=v.useState(""),{data:u}=el(n?.id),d=yh(u??[]),h=t.find(T=>T.slug===c),p=t.filter(T=>T.category===o),{mutateAsync:f,isPending:g}=ly({mutationFn:async T=>{await gt(`/instances/${e.id}/type`,{method:"PATCH",body:JSON.stringify({slug:T})}),s.invalidateQueries({queryKey:["cloud","instances"]})}}),m=L(()=>{f(c).then(()=>{Jn()})}),b=(n?.billing_info&&n?.payment_info)??!1,x=h&&!d(h);return i.jsxs(B,{children:[i.jsx(pc,{type:e.type,isSelected:!1,inactive:!0,onBody:!0,status:i.jsx(_,{c:"surreal",fz:"sm",fw:500,tt:"uppercase",children:"Currently active"})}),o?i.jsxs(i.Fragment,{children:[i.jsxs(G,{mt:"xl",mb:"sm",children:[i.jsx(ve,{children:"Instance type"}),i.jsx(_,{mt:2,children:"Instance types define the resources allocated to your cloud instance. Choose a configuration that best fits your needs."})]}),!b&&o!=="free"&&i.jsxs(et,{mb:"lg",color:"blue",title:`Upgrade to use ${o} instances`,children:[i.jsxs(G,{children:[Ci(o)," instances require a billing plan to be enabled."]}),i.jsx(X,{rightSection:i.jsx(E,{path:bt}),color:"blue",size:"xs",mt:"md",onClick:()=>{r("billing"),Jn()},children:"Enter billing & payment details"})]}),i.jsx(dt,{cols:{base:1,md:2},children:p.map(T=>i.jsx(pc,{type:T,isSelected:T.slug===c,isActive:T.slug===e.type.slug,onSelect:()=>l(T.slug),onBody:!0},T.slug))}),x&&i.jsx(et,{color:"orange",icon:i.jsx(E,{path:Jt}),children:"Maximum instance limit reached for this type"}),i.jsxs(Mi,{in:!!h,children:[i.jsx(Ne,{my:"md"}),i.jsx(sa,{type:h,units:e.compute_units})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs(G,{mt:"xl",mb:"sm",children:[i.jsx(ve,{children:"Instance category"}),i.jsx(_,{mt:2,children:"Select a category to view available configurations and change the instance type"})]}),n&&i.jsx(gy,{organization:n,value:o,onChange:a,hideFree:e.type.category==="free",onBody:!0})]}),i.jsxs(U,{mt:"lg",children:[o?i.jsx(X,{leftSection:i.jsx(E,{path:Ac}),color:"slate",variant:"light",flex:1,onClick:()=>{a(""),l("")},children:"Change category"}):i.jsx(X,{onClick:()=>Jn(),color:"slate",variant:"light",flex:1,children:"Close"}),i.jsx(X,{type:"submit",variant:"gradient",onClick:m,disabled:!c||e.type.slug===c||x,loading:g,flex:1,children:"Save changes"})]})]})}async function b1(e){wn({size:"lg",title:i.jsxs(G,{children:[i.jsx(ve,{children:"Change compute nodes"}),i.jsx(_,{fz:"lg",children:e.name})]}),children:i.jsx(x1,{instance:e})})}function x1({instance:e}){Qe();const[t,n]=v.useState(e.compute_units);e.type.compute_units.min,e.type.compute_units.max;const{mutateAsync:s,isPending:r}=ly({mutationFn:a=>gt(`/instances/${e.id}/computeunits`,{method:"PATCH",body:JSON.stringify({compute_units:a})})}),o=L(()=>{s(t).then(()=>{Jn()})});return i.jsxs(B,{children:[i.jsx(pc,{type:e.type,isSelected:!1,inactive:!0,onBody:!0,status:i.jsx(_,{c:"surreal",fz:"sm",fw:500,tt:"uppercase",children:"Currently active"})}),i.jsxs(G,{mt:"xl",mb:"sm",children:[i.jsx(ve,{children:"Select desired compute nodes"}),i.jsx(_,{mt:2,children:"Select the number of compute nodes you would like to use for your instance. Each compute node provides additional processing power to your instance."})]}),i.jsx(et,{color:"blue",title:"Coming soon",children:"Compute node customisation will be available soon"}),i.jsx(sa,{type:e.type,units:t}),i.jsxs(U,{mt:"md",children:[i.jsx(X,{onClick:()=>Jn(),color:"slate",variant:"light",flex:1,children:"Close"}),i.jsx(X,{type:"submit",variant:"gradient",onClick:o,disabled:e.compute_units===t,loading:r,flex:1,children:"Save changes"})]})]})}function y1(e){const t=we(n=>n.authState);return An({queryKey:["cloud","usage",e.id],enabled:t==="authenticated",queryFn:async()=>gt(`/instances/${e.id}/usage`)})}async function v1(e){wn({title:i.jsxs(G,{children:[i.jsx(ve,{children:"Instance usage"}),i.jsx(_,{fz:"lg",children:e.name})]}),withCloseButton:!0,children:i.jsx(w1,{instance:e})})}function w1({instance:e}){const t=Qe(),{data:n,isPending:s}=y1(e),r=v.useMemo(()=>n?n.reduce((a,{compute_hours:c})=>a+(c??0),0):0,[n]),o=v.useMemo(()=>n?n.filter(({compute_hours:a,instance_type:c})=>a!==void 0&&c!==void 0):[],[n]);return i.jsx(B,{children:i.jsxs(De,{p:"xl",bg:t?"slate.0":"slate.9",style:{userSelect:"text",WebkitUserSelect:"text"},children:[i.jsxs(U,{children:[i.jsx(Zm,{size:"xl",color:t?"surreal.6":"surreal",variant:"light",children:i.jsx(E,{path:yr,size:"lg"})}),i.jsxs(G,{flex:1,children:[i.jsx(_,{c:"bright",fw:500,fz:"lg",children:"Total compute hours"}),i.jsx(_,{fz:"sm",children:"Since the current billing period"})]}),s?i.jsx(ys,{size:"sm",mr:"xs"}):i.jsxs(_,{c:"bright",fw:700,fz:20,children:[r,"h"]})]}),o.length>1&&i.jsxs(i.Fragment,{children:[i.jsx(Ne,{my:"xl",color:"slate.6"}),i.jsx(Ht,{children:"Instance type breakdown"}),o.map(({compute_hours:a,instance_type:c})=>i.jsxs(U,{children:[i.jsx(_,{c:"bright",fw:500,fz:"lg",flex:1,children:c}),i.jsxs(_,{c:"bright",fw:600,fz:"xl",children:[a,"h"]})]},c))]})]})})}const S1={production:"Production",development:"Development",free:"Free instance"},j1={creating:["blue","Creating"],updating:["blue","Updating"],deleting:["red","Deleting"],inactive:["red.4","Inactive"]};function rg({state:e,small:t}){if(e==="ready")return;const[n,s]=j1[e];return i.jsx(Ft,{color:n,variant:"light",size:t?"sm":"md",children:s})}function og({type:e,value:t,onDelete:n,onConnect:s}){const r=t.state==="inactive",o=we(p=>p.regions),a=S1[t.type.category],c=o.find(p=>p.slug===t.region)?.description??t.region,l=ci(),u=_n({message:i.jsxs(B,{children:[i.jsx(_,{children:"You are about to delete this instance. This will cause all associated resources to be destroyed"}),i.jsx(et,{title:"Important",color:"red",children:"Data stored within this instance will be permanently deleted and cannot be recovered."})]}),confirmText:"Delete",title:"Delete instance",onConfirm:async()=>{try{await gt(`/instances/${t.id}`,{method:"DELETE"}),Ls({title:"Deleting instance",subtitle:i.jsxs(i.Fragment,{children:[i.jsx(_,{span:!0,c:"bright",children:t.name})," ","is being deleted"]})}),l.invalidateQueries({queryKey:["cloud","instances"]})}catch(p){Rt({title:"Failed to delete instance",subtitle:p.message})}finally{n()}}}),d=i.jsxs(Y,{position:"right-start",children:[i.jsx(Y.Target,{children:i.jsx(de,{disabled:t.state!=="ready",children:i.jsx(E,{path:vr})})}),i.jsxs(Y.Dropdown,{children:[i.jsx(Y.Label,{children:"Configure"}),i.jsx(Y.Item,{onClick:()=>g1(t),leftSection:i.jsx(E,{path:ap}),children:"Instance type"}),i.jsx(Y.Item,{onClick:()=>b1(t),leftSection:i.jsx(E,{path:yr}),children:"Compute nodes"}),i.jsx(Y.Item,{onClick:()=>u1(t),leftSection:i.jsx(E,{path:Bo}),children:"Capabilities"}),i.jsx(Y.Label,{mt:"sm",children:"Actions"}),i.jsx(Y.Item,{leftSection:i.jsx(E,{path:ui}),onClick:()=>{navigator.clipboard.writeText(`${t.host}`).then(()=>{Ls({title:"Success",subtitle:"Successfully copied the hostname"})})},children:"Copy hostname"}),i.jsx(Y.Item,{leftSection:i.jsx(E,{path:VS}),onClick:()=>v1(t),children:"View usage"}),i.jsx(Y.Label,{mt:"sm",children:"Dangerous"}),i.jsx(Y.Item,{onClick:u,leftSection:i.jsx(E,{path:ts,c:"red"}),c:"red",children:"Delete instance"})]})]}),h=i.jsxs(Y,{position:"bottom-start",transitionProps:{transition:"scale-y"},children:[i.jsx(Y.Target,{children:i.jsx(X,{size:"xs",radius:"sm",color:"slate",variant:"light",rightSection:i.jsx(E,{path:Mr}),disabled:t.state!=="ready",children:"Connect"})}),i.jsxs(Y.Dropdown,{children:[i.jsx(Y.Item,{leftSection:i.jsx(E,{path:Vi}),onClick:()=>s("surrealist",t),children:"Open in Surrealist"}),i.jsx(Y.Divider,{}),i.jsx(Y.Item,{leftSection:i.jsx(E,{path:Pc}),onClick:()=>s("cli",t),children:"Surreal CLI"}),i.jsx(Y.Item,{leftSection:i.jsx(E,{path:Ui}),onClick:()=>s("sdk",t),children:"Client SDK"}),i.jsx(Y.Item,{leftSection:i.jsx(E,{path:$c}),onClick:()=>s("curl",t),children:"HTTP cURL"})]})]});return e==="card"?i.jsxs(De,{p:"xl",shadow:"md",component:B,className:fy.root,gap:"sm",children:[i.jsxs(U,{align:"start",mb:"sm",children:[i.jsxs(G,{children:[i.jsxs(U,{children:[i.jsx(_,{c:"bright",fw:600,fz:"xl",children:t.name}),i.jsx(rg,{state:t.state})]}),i.jsxs(_,{mt:2,fz:"sm",style:{userSelect:"text"},children:["ID: ",t.id]})]}),i.jsx(je,{}),d]}),i.jsxs(U,{title:"Instance Preset",gap:"sm",h:32,children:[i.jsx(E,{path:ap,size:"lg",c:"slate"}),i.jsxs(U,{gap:"xs",children:[i.jsx(_,{c:"bright",children:t.type.display_name}),a&&i.jsxs(_,{children:["(",a,")"]})]})]}),i.jsxs(U,{title:"Region",gap:"sm",h:32,children:[i.jsx(E,{path:US,size:"lg",c:"slate"}),i.jsx(_,{c:"bright",children:c})]}),i.jsxs(U,{children:[i.jsxs(U,{title:"Version",gap:"sm",h:32,children:[i.jsx(E,{path:zS,size:"lg",c:"slate"}),i.jsxs(_,{c:"bright",children:["SurrealDB ",t.version]})]}),i.jsx(je,{}),r?i.jsx(X,{size:"xs",color:"slate",radius:"sm",rightSection:i.jsx(E,{path:BS}),disabled:!0,children:"Enable database"}):h]})]}):i.jsxs(W.Tr,{children:[i.jsx(W.Td,{children:i.jsxs(U,{wrap:"nowrap",children:[i.jsx(_,{c:"bright",fw:500,children:t.name}),i.jsx(rg,{state:t.state,small:!0})]})}),i.jsx(W.Td,{children:i.jsxs(U,{gap:"xs",children:[i.jsx(_,{c:"bright",children:t.type.display_name}),a&&i.jsxs(_,{children:["(",a,")"]})]})}),i.jsx(W.Td,{children:i.jsx(_,{c:"bright",children:c})}),i.jsx(W.Td,{children:i.jsxs(_,{c:"bright",children:["SurrealDB ",t.version]})}),i.jsx(W.Td,{children:i.jsxs(U,{wrap:"nowrap",children:[d,h]})})]},t.id)}function T1(e){wn({size:"lg",title:i.jsxs(U,{children:[i.jsx(E,{path:Pc,size:"xl"}),i.jsx(ve,{children:"Connect with the CLI"})]}),withCloseButton:!0,children:i.jsx(E1,{instance:e})})}function E1({instance:e}){const{data:t,isPending:n}=An({queryKey:["cloud","cli"],refetchInterval:6e4,queryFn:async()=>gt(`/instances/${e.id}/auth`).then(o=>o.token)}),r=`surreal sql --endpoint ${`wss://${e.host}`} --token ${t}`;return i.jsxs(i.Fragment,{children:[i.jsxs(_,{size:"lg",children:["In order to connect to this instance, make sure you have the"," ",i.jsx(Pt,{href:"https://surrealdb.com/docs/surrealdb/cli",children:"SurrealDB CLI"})," ","installed. Once it is installed, simply open the terminal of your choice and run the following command to connect to your Surreal Cloud instance."]}),i.jsx(sn,{mt:"xl",visible:n,children:i.jsx(Ho,{language:"bash",value:r,withCopy:!0})}),i.jsx(an,{mt:"xl",href:"https://surrealdb.com/docs/surrealdb/cli",display:"block",children:"Learn more about the SurrealDB CLI"})]})}function k1(e){wn({size:"lg",title:i.jsxs(U,{children:[i.jsx(E,{path:$c,size:"xl"}),i.jsx(ve,{children:"Connect with HTTP using cURL"})]}),withCloseButton:!0,children:i.jsx(O1,{instance:e})})}function O1({instance:e}){const t=Qe(),[n,s]=Ee(""),[r,o]=Ee(""),[a,c]=Ee(""),[l,u]=Ee("");let d=`curl -X GET "https://${e.host}/version"`;return n&&(d+=` \\
  -H "Surreal-NS: ${n}"`),r&&(d+=` \\
  -H "Surreal-DB: ${r}"`),(a||l)&&(d+=` \\
  -u "${a}:${l}"`),i.jsx(i.Fragment,{children:i.jsxs(B,{children:[i.jsxs(_,{size:"lg",children:["You can connect to this instance using"," ",i.jsx(Pt,{href:"https://surrealdb.com/docs/surrealdb/integration/http",children:"HTTP requests"}),". The following example demonstrates how to use cURL to communicate with this instance."]}),i.jsx(_,{mt:"xl",fz:"xl",ff:"mono",tt:"uppercase",fw:600,c:"bright",children:"1. Specify namespace and database"}),i.jsxs(De,{bg:t?"slate.0":"slate.9",p:"md",children:[i.jsxs(dt,{cols:2,mb:"md",children:[i.jsx(le,{placeholder:"Namespace",size:"xs",value:n,onChange:s}),i.jsx(le,{placeholder:"Database",size:"xs",value:r,onChange:o})]}),i.jsx(an,{href:"https://surrealdb.com/docs/surrealdb/introduction/concepts/namespace",children:"Learn more about namespaces and databases"})]}),i.jsx(_,{mt:"xl",fz:"xl",ff:"mono",tt:"uppercase",fw:600,c:"bright",children:"2. Authentication"}),i.jsxs(De,{bg:t?"slate.0":"slate.9",p:"md",children:[i.jsxs(dt,{cols:2,mb:"md",children:[i.jsx(le,{placeholder:"Username",size:"xs",value:a,onChange:c}),i.jsx(le,{placeholder:"Password",size:"xs",value:l,onChange:u})]}),i.jsx(an,{href:"https://surrealdb.com/docs/surrealdb/security/authentication",children:"Learn more about authentication"})]}),i.jsx(_,{mt:"xl",fz:"xl",ff:"mono",tt:"uppercase",fw:600,c:"bright",children:"3. Execute HTTP request"}),i.jsx(Ho,{language:"bash",withCopy:!0,value:d}),i.jsx(an,{mt:"sm",href:"https://surrealdb.com/docs/surrealdb/integration/http",children:"Learn more about the HTTP protocol"})]})})}function St({title:e,values:t,language:n,...s}){const r=v.useMemo(()=>{const o=t[n];return o?HS(o):void 0},[t,n]);return i.jsx(Ho,{label:e,value:r||"No example available for this language",language:n,withCopy:!0,...s})}const C1="_library_13z7o_1",_1="_library-active_13z7o_15",N1="_library-disabled_13z7o_24",Il={library:C1,libraryActive:_1,libraryDisabled:N1};function my({cols:e,value:t,exclude:n,disabled:s,onChange:r,...o}){const a=Qe(),c=v.useMemo(()=>Lc.filter(l=>!n?.includes(l.id)),[n]);return i.jsx(dt,{cols:e,...o,children:c.map(l=>{const u=l.icon,d=t===l.id;return i.jsxs(De,{radius:"xl",bg:a?"slate.0":"slate.9",className:cn(Il.library,d&&Il.libraryActive,s?.includes(l.id)&&Il.libraryDisabled),onClick:()=>r(l.id),children:[i.jsx(u,{}),i.jsx(_,{mt:"xs",children:l.name})]},l.name)})})}function I1(e){wn({size:"lg",title:i.jsxs(U,{children:[i.jsx(E,{path:Ui,size:"xl"}),i.jsx(ve,{children:"Connect with an SDK"})]}),withCloseButton:!0,children:i.jsx(D1,{instance:e})})}function D1({instance:e}){const t=Qe(),[n,s]=v.useState("rust"),[r,o]=Ee(""),[a,c]=Ee(""),[l,u]=Ee(""),[d,h]=Ee(""),p=v.useMemo(()=>({js:`
				const db = new Surreal();

				// Open a connection and authenticate
				await db.connect("wss://${e.host}", {
					namespace: "${r}",
					database: "${a}",
					auth: {
						username: "${l}",
						password: "${d}",
					}
				});
			`,csharp:`
				using SurrealDb.Net;
				using SurrealDb.Net.Models.Auth;

				// Open a connection
				using var db = new SurrealDbClient("wss://${e.host}/rpc");

				// Select a namespace and database
				await db.Use("${r}", "${a}");

				// Authenticate
				await db.SignIn(new RootAuth
				{
					Username = "${l}",
					Password = "${d}",
				});
			`,py:`
				# Open a connection
				async with Surreal(url="wss://${e.host}") as db:

					# Select a namespace and database
					await db.use("${r}", "${a}")

					# Authenticate
					await db.sign_in(username="${l}", password="${d}")
			`,php:`
				$db = new \\Surreal\\Surreal();

				// Open a connection
				$db->connect("wss://${e.host}", [
					"namespace" => "${r}",
					"database" => "${a}",
				]);

				// Authenticate
				$db->signin([
					"username" => "${l}",
					"password" => "${d}",
				]);
			`,rust:`
				// Open a connection
				let db = any::connect("wss://${e.host}").await?;

				// Select a namespace and database
				db.use_ns("${r}").use_db("${a}").await?;

				// Authenticate
				db.signin(Root {
					username: "${l}",
					password: "${d}",
				}).await?;
			`,java:`
				try (final Surreal db = new Surreal()) {
					
					// Open a connection
					db.connect("wss://${e.host}");

					// Select a namespace and database
					db.useNs("${r}").useDb("${a}");

					// Authenticate
					db.signin(new Root("${l}", "${d}"));

				}
			`}),[e,r,a,l,d]),f=Lc.find(g=>g.id===n);return i.jsx(i.Fragment,{children:i.jsxs(B,{children:[i.jsx(_,{size:"lg",children:"You can connect to this instance with your preferred language using one of our SurrealDB Client SDKs."}),i.jsx(_,{mt:"xl",fz:"xl",ff:"mono",tt:"uppercase",fw:600,c:"bright",children:"1. Select your desired language"}),i.jsx(my,{value:n,onChange:s,exclude:["cli","go","c"],cols:{base:3,xs:6}}),i.jsx(_,{mt:"xl",fz:"xl",ff:"mono",tt:"uppercase",fw:600,c:"bright",children:"2. Specify namespace and database"}),i.jsxs(De,{bg:t?"slate.0":"slate.9",p:"md",children:[i.jsxs(dt,{cols:2,mb:"md",children:[i.jsx(le,{placeholder:"Namespace",size:"xs",value:r,onChange:o}),i.jsx(le,{placeholder:"Database",size:"xs",value:a,onChange:c})]}),i.jsx(an,{href:"https://surrealdb.com/docs/surrealdb/introduction/concepts/namespace",children:"Learn more about namespaces and databases"})]}),i.jsx(_,{mt:"xl",fz:"xl",ff:"mono",tt:"uppercase",fw:600,c:"bright",children:"3. Authentication"}),i.jsxs(De,{bg:t?"slate.0":"slate.9",p:"md",children:[i.jsxs(dt,{cols:2,mb:"md",children:[i.jsx(le,{placeholder:"Username",size:"xs",value:l,onChange:u}),i.jsx(le,{placeholder:"Password",size:"xs",value:d,onChange:h})]}),i.jsx(an,{href:"https://surrealdb.com/docs/surrealdb/security/authentication",children:"Learn more about authentication"})]}),i.jsx(_,{mt:"xl",fz:"xl",ff:"mono",tt:"uppercase",fw:600,c:"bright",children:"4. Use the following code snippet"}),i.jsx(St,{language:n,values:p}),f&&i.jsxs(an,{mt:"sm",href:f.link,children:["Learn more about the ",f.name," SDK"]})]})})}function R1(){const{addConnection:e,setActiveConnection:t}=Se.getState(),[n,s]=Ee(""),[r,o]=v.useState(null),[a]=za(n,150),[,c]=Fs(),[,l]=Pr(),u=ry(),d=as(),h=Yi(),{data:p,isPending:f,refetch:g}=el(d?.id),m=v.useMemo(()=>p||[],[p]),b=L(()=>{l("provision")}),x=L((S,y)=>{if(S==="surrealist"){const{connections:k,settings:P}=Se.getState(),q=k.find(Q=>Q.authentication.cloudInstance===y.id);if(c("query"),q)t(q.id);else{const Q=Rd(P);e({...Q,name:y.name,authentication:{...Q.authentication,protocol:"wss",mode:"cloud",token:"",hostname:y.host,cloudInstance:y.id}}),t(Q.id)}}else S==="sdk"?I1(y):S==="cli"?T1(y):S==="curl"&&k1(y)}),T=v.useMemo(()=>[{title:"Type",options:h.map(S=>({type:"type",value:S.slug,label:S.slug}))},{title:"Region",options:u.map(S=>({type:"region",value:S.slug,label:S.description}))}],[h,u]),w=v.useMemo(()=>m.filter(S=>r?r.type==="type"?S.type.slug===r.value:r.type==="region"?S.region===r.value:!0:!0).filter(S=>Kn(a,S.name)).sort((S,y)=>{const k=S.state==="inactive",P=y.state==="inactive";return k!==P?+k-+P:S.name.localeCompare(y.name)}),[m,r,a]),[j,N]=ut("cloud","databaseListMode"),I=m.length===0,C=w.length===0;return i.jsxs(i.Fragment,{children:[!f&&!I&&i.jsxs(U,{gap:"lg",mb:"xl",wrap:"nowrap",children:[i.jsx(X,{variant:"gradient",leftSection:i.jsx(E,{path:Ie}),onClick:b,visibleFrom:"xs",radius:"sm",size:"xs",children:"Create instance"}),i.jsx(je,{visibleFrom:"xs"}),i.jsxs(Y,{children:[i.jsx(Y.Target,{children:i.jsx(Me,{label:"Filter instances",children:i.jsx(Fo,{disabled:!r,color:"blue",size:7,children:i.jsx(de,{variant:"subtle",color:"slate",disabled:m.length===0,children:i.jsx(E,{path:Bo})})})})}),i.jsx(Y.Dropdown,{miw:150,children:T.map(S=>i.jsxs(v.Fragment,{children:[i.jsx(Y.Label,{children:S.title}),S.options.map(y=>{const k=r?.value===y.value;return i.jsx(Y.Item,{onClick:()=>o(k?null:y),rightSection:k&&i.jsx(E,{path:tn}),children:y.label},y.value)})]},S.title))})]}),i.jsx(le,{value:n,onChange:s,placeholder:"Search instances",leftSection:i.jsx(E,{path:Ss,size:"sm"}),radius:"sm",size:"xs",className:eg.search}),i.jsxs(de.Group,{children:[i.jsx(de,{c:j==="grid"?"bright":"slate.3",onClick:()=>N("grid"),children:i.jsx(E,{path:xb})}),i.jsx(de,{c:j==="list"?"bright":"slate.3",onClick:()=>N("list"),children:i.jsx(E,{path:GS})})]})]}),C&&m.length===0?i.jsx(Xt,{flex:1,children:f?i.jsx(ys,{}):i.jsxs(De,{radius:"md",p:"xl",w:500,children:[i.jsx(ve,{children:"Create your first instance"}),i.jsx(_,{mt:"xl",children:"This organization does not have any instances yet. Create your first instance to get started with Surreal Cloud."}),i.jsxs(U,{children:[i.jsx(Pt,{href:"https://surrealdb.com/docs/cloud/getting-started/create-an-instance",children:i.jsx(X,{mt:"xl",color:"slate",variant:"light",rightSection:i.jsx(E,{path:Vn}),radius:"sm",size:"xs",children:"Learn more"})}),i.jsx(je,{}),i.jsx(X,{mt:"xl",variant:"gradient",leftSection:i.jsx(E,{path:Ie}),onClick:b,radius:"sm",size:"xs",children:"Create instance"})]})]})}):C?i.jsx(G,{mt:150,c:"slate",fz:"lg",ta:"center",children:"No matching instances found"}):i.jsx(G,{flex:1,pos:"relative",children:i.jsx(Fe,{pos:"absolute",scrollbars:"y",inset:0,children:j==="grid"?i.jsx(dt,{cols:{xs:1,md:2,lg:2,xl:3},spacing:"xl",children:w.map(S=>i.jsx(og,{value:S,type:"card",onDelete:g,onConnect:x},S.id))}):i.jsxs(W,{className:eg.table,children:[i.jsx(W.Thead,{children:i.jsxs(W.Tr,{children:[i.jsx(W.Th,{children:"Name"}),i.jsx(W.Th,{children:"Instance"}),i.jsx(W.Th,{children:"Region"}),i.jsx(W.Th,{children:"Version"}),i.jsx(W.Th,{w:0,children:"Actions"})]})}),i.jsx(W.Tbody,{children:w.map(S=>i.jsx(og,{value:S,type:"row",onDelete:g,onConnect:x},S.id))})]})})}),i.jsx(o1,{icon:Ie,hiddenFrom:"xs",onClick:b})]})}function A1({opened:e,onClose:t}){const[n,s]=v.useState([]);return v.useLayoutEffect(()=>{e&&s([])},[e]),i.jsx(Je,{opened:e,onClose:t,trapFocus:!1,size:"md",title:i.jsx(ve,{children:"Invite members to organization"}),children:i.jsxs(Kt,{onSubmit:t,children:[i.jsx(_,{size:"lg",children:"Invite new members to your organization by entering their email addresses below. Press enter to add each email."}),i.jsx(YS,{autoFocus:!0,mt:"xl",value:n,onChange:s}),i.jsxs(U,{mt:"xl",children:[i.jsx(X,{onClick:t,color:"slate",variant:"light",flex:1,children:"Close"}),i.jsx(X,{type:"submit",variant:"gradient",flex:1,disabled:n.length===0,rightSection:i.jsx(E,{path:Ie}),children:"Invite"})]})]})})}const P1="_list-switcher_9vco8_1",$1="_table_9vco8_21",ag={listSwitcher:P1,table:$1};function cg({text:e,value:t}){return i.jsxs(U,{wrap:"nowrap",gap:"sm",children:[e,t>0&&i.jsx(_,{c:"bright",fw:600,children:t})]})}function L1(){const e=we(d=>d.profile),[t,n]=v.useState(null),s=we(d=>d.authState)==="loading",[r,o]=Cn(),[a,c]=v.useState("members"),l=v.useMemo(()=>[{title:"Roles",options:[{type:"role",value:"admin",label:"Admin"},{type:"role",value:"editor",label:"Editor"},{type:"role",value:"reporter",label:"Reporter"}]},{title:"Status",options:[{type:"status",value:"enabled",label:"Enabled"},{type:"status",value:"disabled",label:"Disabled"}]}],[]),u=v.useMemo(()=>[e],[e]);return i.jsx(i.Fragment,{children:s?i.jsx(Xt,{flex:1,children:i.jsx(ys,{})}):i.jsxs(i.Fragment,{children:[i.jsxs(U,{gap:"lg",mb:"xs",children:[i.jsx(Me,{label:"Unavailable for Starter plan",children:i.jsx(X,{variant:"gradient",leftSection:i.jsx(E,{path:Ie}),radius:"sm",size:"xs",onClick:o.open,disabled:!0,children:"Invite members"})}),i.jsx(Wm,{value:a,onChange:c,className:ag.listSwitcher,data:[{value:"members",label:i.jsx(cg,{text:"Members",value:1})},{value:"invites",label:i.jsx(cg,{text:"Invitations",value:0})}]}),i.jsx(je,{}),i.jsxs(Y,{children:[i.jsx(Y.Target,{children:i.jsx(Me,{label:"Filter members",children:i.jsx(Fo,{disabled:!t,color:"blue",size:7,children:i.jsx(de,{variant:"subtle",color:"slate",disabled:u.length===0,children:i.jsx(E,{path:Bo})})})})}),i.jsx(Y.Dropdown,{miw:150,children:l.map(d=>i.jsxs(v.Fragment,{children:[i.jsx(Y.Label,{children:d.title}),d.options.map(h=>{const p=t?.value===h.value;return i.jsx(Y.Item,{onClick:()=>n(p?null:h),rightSection:p&&i.jsx(E,{path:tn}),children:h.label},h.value)})]},d.title))})]}),i.jsx(le,{value:"",onChange:()=>{},placeholder:"Search members",leftSection:i.jsx(E,{path:Ss,size:"sm"}),radius:"sm",size:"xs",miw:250})]}),i.jsxs(G,{flex:1,pos:"relative",children:[i.jsx(Fe,{pos:"absolute",scrollbars:"y",inset:0,children:a==="members"?i.jsxs(W,{className:ag.table,children:[i.jsx(W.Thead,{children:i.jsxs(W.Tr,{children:[i.jsx(W.Th,{children:"Name"}),i.jsx(W.Th,{children:"Email"}),i.jsx(W.Th,{children:"Role"}),i.jsx(W.Th,{w:0,children:"Actions"})]})}),i.jsx(W.Tbody,{children:u.map(d=>i.jsxs(W.Tr,{children:[i.jsx(W.Td,{children:i.jsx(_,{c:"bright",fw:500,children:d.name||"Unknown"})}),i.jsx(W.Td,{children:d.username}),i.jsx(W.Td,{children:"Admin"}),i.jsx(W.Td,{children:i.jsxs(Y,{position:"right-start",children:[i.jsx(Y.Target,{children:i.jsx(de,{children:i.jsx(E,{path:vr})})}),i.jsxs(Y.Dropdown,{children:[i.jsx(Y.Item,{disabled:!0,children:"Remove"}),i.jsx(Y.Item,{disabled:!0,children:"Deactivate"}),i.jsx(Y.Item,{disabled:!0,children:"Change role"})]})]})})]},d.username))})]}):i.jsxs(B,{mt:150,align:"center",gap:"xs",children:[i.jsx(_,{fz:"lg",c:"bright",fw:500,children:"No member invitations are pending"}),i.jsx(_,{c:"slate",children:'Press "Invite member" to send a new invitation'})]})}),i.jsx(A1,{opened:r,onClose:o.close})]})]})})}function lg(){return i.jsx(Xt,{flex:1,children:i.jsx(_,{fz:"xl",children:"We're still cooking up this page 👨‍🍳"})})}const M1="_scroll-area_pt5x7_1",F1="_table_pt5x7_5",Xu={scrollArea:M1,table:F1};function Ur({step:e,onPrevious:t,onContinue:n,disabled:s}){const r=e===0,o=e===5,a=L(()=>t()),c=L(()=>n());return i.jsxs(U,{mt:"xl",children:[i.jsx(X,{w:150,color:"slate",variant:"light",onClick:a,leftSection:i.jsx(E,{path:Ac}),children:r?"Close":"Previous"}),i.jsx(je,{}),i.jsx(X,{w:150,type:"submit",variant:"gradient",disabled:s,onClick:c,rightSection:i.jsx(E,{path:o?tn:bt}),children:o?"Create":"Continue"})]})}function q1({step:e,details:t,setDetails:n,onPrevious:s,onContinue:r}){const o=a_(),a=o.map(u=>({value:u,label:`SurrealDB ${u}`})),c=L(u=>{n(d=>{d.name=u.target.value})}),l=L(u=>{n(d=>{d.version=u??""})});return v.useLayoutEffect(()=>{t.version||n(u=>{u.version=o.at(-1)??""})},[t.version,o,n]),i.jsxs(B,{children:[i.jsx(ve,{children:"Instance details"}),i.jsx(_,{mb:"lg",children:"Please enter a name for your new instance, and the version of SurrealDB you would like to use."}),i.jsxs(Br,{mb:"xl",styles:{col:{alignContent:"center"}},children:[i.jsx(Br.Col,{span:4,children:i.jsx(_,{children:"Instance name"})}),i.jsx(Br.Col,{span:8,children:i.jsx(le,{placeholder:"Instance name",value:t.name,onChange:c,autoFocus:!0})}),i.jsx(Br.Col,{span:4,children:i.jsx(_,{children:"SurrealDB Version"})}),i.jsx(Br.Col,{span:8,children:i.jsx(yt,{data:a,value:t.version,onChange:l})})]}),i.jsx(Ur,{step:e,onPrevious:s,onContinue:r,disabled:!t.name||!t.version})]})}function Q1({step:e,details:t,setDetails:n,onPrevious:s,onContinue:r}){const o=ry();return i.jsxs(B,{children:[i.jsx(ve,{children:"Select a region"}),i.jsx(_,{mb:"lg",children:"Regions define the physical location of your instance. Choosing a region close to your users can improve performance."}),i.jsxs(B,{children:[o.map(a=>i.jsx(uo,{isActive:a.slug===t.region,onClick:()=>n(c=>{c.region=a.slug}),children:i.jsxs(U,{gap:"xl",pl:"xs",children:[i.jsx(Vt,{src:XS[a.slug],w:24}),i.jsx(G,{children:i.jsx(_,{c:"bright",fw:500,fz:"lg",children:a.description})})]})},a.slug)),i.jsx(Ur,{step:e,onPrevious:s,onContinue:r,disabled:!t.region})]})]})}function V1({step:e,details:t,setDetails:n,onPrevious:s,onContinue:r}){const o=as(),a=l=>{n(u=>{u.category=l,l==="free"?(u.type="free",u.units=1):u.type=""})},c=L(()=>{r(t.category==="free"?5:void 0)});return i.jsxs(B,{children:[i.jsx(ve,{children:"Select instance category"}),i.jsx(_,{mb:"lg",children:"Optimise your experience by selecting the instance category that best aligns with your project's goals."}),o&&i.jsx(gy,{organization:o,value:t.category,onChange:a}),i.jsx(Ur,{step:e,onPrevious:s,onContinue:c,disabled:!t.category})]})}function U1({step:e,details:t,setDetails:n,onPrevious:s,onContinue:r}){const o=as(),a=Yi(),c=el(o?.id),l=yh(c.data??[]),[,u]=Pr(),d=(o?.billing_info&&o?.payment_info)??!1,h=v.useMemo(()=>t.category?a.filter(g=>g.category===t.category):[],[t.category,a]),p=v.useMemo(()=>a.find(g=>g.slug===t.type),[t.type,a]),f=p&&!l(p);return i.jsxs(B,{children:[i.jsx(ve,{children:"Select an instance type"}),i.jsx(_,{mb:"lg",children:"Instance types define the resources allocated to your cloud instance. Choose a configuration that best fits your needs."}),!d&&t.category!=="free"&&i.jsxs(et,{mb:"lg",color:"blue",title:`Upgrade to use ${t.category} instances`,children:[i.jsxs(G,{children:[Ci(t.category)," instances require a billing plan to be enabled."]}),i.jsx(X,{rightSection:i.jsx(E,{path:bt}),color:"blue",size:"xs",mt:"md",onClick:()=>{u("billing")},children:"Enter billing & payment details"})]}),i.jsx(dt,{cols:{base:1,md:2},children:h.map(g=>i.jsx(pc,{type:g,isSelected:g.slug===t.type,onSelect:()=>n(m=>{m.type=g.slug,m.units=g.compute_units.min??1})},g.slug))}),f&&i.jsx(et,{color:"orange",icon:i.jsx(E,{path:Jt}),children:"Maximum instance limit reached for this type"}),i.jsxs(Mi,{in:!!p,children:[i.jsx(Ne,{my:"md"}),i.jsx(sa,{type:p,units:t.units})]}),i.jsx(Ur,{step:e,onPrevious:s,onContinue:r,disabled:!t.type||t.category!==p?.category||f})]})}function z1({step:e,details:t,onPrevious:n,onContinue:s}){const r=Yi(),o=v.useMemo(()=>r.find(a=>a.slug===t.type),[t.type,r]);return i.jsxs(B,{children:[i.jsx(ve,{children:"Customise compute nodes"}),i.jsx(_,{mb:"lg",children:"Select the number of compute nodes you would like to use for your instance. Each compute node provides additional processing power to your instance."}),i.jsx(et,{color:"blue",title:"Coming soon",children:"Compute node customisation will be available soon"}),o&&i.jsxs(i.Fragment,{children:[i.jsx(Ne,{my:"md"}),i.jsx(sa,{type:o,units:t.units})]}),i.jsx(Ur,{step:e,onPrevious:n,onContinue:s})]})}function B1({step:e,details:t,onPrevious:n,onContinue:s}){const r=Yi(),o=v.useMemo(()=>r.find(c=>c.slug===t.type),[t.type,r]),a=L(()=>{n(t.category==="free"?2:void 0)});return i.jsxs(B,{children:[i.jsx(ve,{children:"Confirm configuration"}),i.jsxs(De,{p:"lg",style:{userSelect:"text",WebkitUserSelect:"text"},children:[i.jsxs(W,{className:Xu.table,children:[i.jsx(W.Thead,{children:i.jsx(Ht,{children:"Instance details"})}),i.jsxs(W.Tbody,{children:[i.jsxs(W.Tr,{children:[i.jsx(W.Td,{w:150,children:"Name"}),i.jsx(W.Td,{c:"bright",children:t.name})]}),i.jsxs(W.Tr,{children:[i.jsx(W.Td,{children:"Version"}),i.jsxs(W.Td,{c:"bright",children:["SurrealDB ",t.version]})]})]})]}),i.jsxs(W,{mt:"xl",className:Xu.table,children:[i.jsx(W.Thead,{children:i.jsx(Ht,{children:"System configuration"})}),i.jsxs(W.Tbody,{children:[i.jsxs(W.Tr,{children:[i.jsx(W.Td,{w:150,children:"Region"}),i.jsx(W.Td,{c:"bright",children:t.region})]}),i.jsxs(W.Tr,{children:[i.jsx(W.Td,{children:"Type"}),i.jsx(W.Td,{c:"bright",children:o?.display_name})]}),i.jsxs(W.Tr,{children:[i.jsx(W.Td,{children:"CPU"}),i.jsxs(W.Td,{c:"bright",children:[o?.cpu," vCPU"]})]}),i.jsxs(W.Tr,{children:[i.jsx(W.Td,{children:"Memory"}),i.jsx(W.Td,{c:"bright",children:ru(o?.memory??0)})]}),i.jsxs(W.Tr,{children:[i.jsx(W.Td,{children:"Compute nodes"}),i.jsxs(W.Td,{c:"bright",children:[t.units," Node",t.units===1?"":"s"]})]}),i.jsxs(W.Tr,{children:[i.jsx(W.Td,{children:i.jsxs(U,{gap:"xs",children:["Storage size",i.jsx(Me,{label:"Storage is currently limited for the beta. The cap will be removed in a future release.",w:300,style:{whiteSpace:"unset"},children:i.jsx("div",{children:i.jsx(E,{path:Qi,size:"sm"})})})]})}),i.jsx(W.Td,{c:"bright",children:ru(H1(o))})]})]})]})]}),o&&i.jsxs(i.Fragment,{children:[i.jsx(Ne,{my:"md"}),i.jsx(sa,{type:o,units:t.units})]}),i.jsx(Ur,{step:e,onPrevious:a,onContinue:s})]})}function H1(e){return e?e.price_hour===0?1024:e.memory*8:0}const ug={name:"",region:"",category:"",type:"",units:1,version:""},G1=[q1,Q1,V1,U1,z1,B1];function Y1(){const{setProvisioning:e}=we.getState(),[,t]=Pr(),n=as(),[s,r]=v.useState(0),[o,a]=rs(ug),c=ci(),l=L(async()=>{try{const p=await gt("/instances",{method:"POST",body:JSON.stringify({name:o.name,org:n?.id,region:o.region,specs:{slug:o.type,version:o.version,compute_units:o.type==="free"?void 0:o.units}})});console.log("Provisioned instance:",p),e(p),c.invalidateQueries({queryKey:["cloud","instances"]})}catch(p){console.log("Failed to provision database:",[...p.response.headers.entries()]),Rt({title:"Failed to provision database",subtitle:"Please try again later"})}finally{t("instances")}}),u=L(p=>{s===0?t("instances"):r(p??s-1)}),d=L(p=>{if(s===5){l();return}r(p??s+1)});iS("provision",()=>{a(ug),r(0)});const h=G1[s];return i.jsx(G,{flex:1,pos:"relative",children:i.jsx(Fe,{pos:"absolute",scrollbars:"y",type:"scroll",inset:0,className:Xu.scrollArea,viewportProps:{style:{paddingBottom:75}},children:i.jsx(G,{maw:650,mx:"auto",children:i.jsx(h,{step:s,details:o,setDetails:a,onPrevious:u,onContinue:d})})})})}function X1(){const e=as(),t=we(a=>a.authState)==="loading",[n,s]=Ee(""),[r,o]=Ee("");return v.useLayoutEffect(()=>{s(e?.name??""),o("")},[e]),t?i.jsx(Xt,{flex:1,children:i.jsx(ys,{})}):i.jsx(B,{w:"100%",maw:900,mx:"auto",children:i.jsx(Ki,{title:"Settings",description:"Manage your organization details and information",withMaxWidth:!0,children:i.jsxs(G,{children:[i.jsx(Ht,{children:"Organization name"}),i.jsx(_,{children:"The display name of your organization"}),i.jsx(le,{mt:"xs",value:n,onChange:s,disabled:!0}),i.jsx(_,{c:"red",fz:"xs",mt:"xs",children:"You can't change the name of your personal organization"})]})})})}const W1="_help-tile_1gfx7_1",Z1="_root_1gfx7_20",J1="_on-body_1gfx7_20",Wu={helpTile:W1,root:Z1,onBody:J1};function K1(){wn({size:"lg",title:i.jsxs(U,{children:[i.jsx(E,{path:yb,size:"xl"}),i.jsx(ve,{children:"Account / Billing Support"})]}),withCloseButton:!0,children:i.jsxs(i.Fragment,{children:[i.jsxs(_,{children:["For account or billing related issues, email"," ",i.jsx(Pt,{href:"mailto:support@surrealdb.com",children:"support@surrealdb.com"}),"."]}),i.jsx(et,{title:"Important",color:"orange",mt:"xl",children:"Reach out using the email address associated with your Surreal Cloud account."})]})})}function by({onBody:e}){const t=o_(),n=ta(),[,s]=$r();return i.jsxs(B,{gap:32,className:cn(Wu.root,e&&Wu.onBody),children:[i.jsxs(ga,{title:"Community",children:[i.jsx(Ln,{title:"Discord",description:"Join our active community for ideas, discussions, and support",icon:WS,onClick:()=>fe.openUrl("https://discord.gg/dc4JNWrrMc")}),i.jsx(Ln,{title:"GitHub",description:"Star the SurrealDB project and keep up-to-date with development",icon:Ui,onClick:()=>fe.openUrl("https://github.com/surrealdb")}),i.jsx(Ln,{title:"YouTube",description:"Stay up-to-date with live streams & video tutorials",icon:ZS,onClick:()=>fe.openUrl("https://www.youtube.com/@SurrealDB")})]}),i.jsxs(ga,{title:"Surrealist",children:[i.jsx(Ln,{title:"Surrealist docs",description:"Learn how to use and navigate the Surrealist user interface",icon:JS,onClick:()=>fe.openUrl("https://surrealdb.com/docs/surrealist")}),i.jsx(Ln,{title:"Keyboard shortcuts",description:"Improve productivity and speed up tasks through configurable shortcuts",icon:Ad,onClick:()=>vt("open-settings",{tab:"keybindings"})}),i.jsx(Ln,{title:"Issue or feature request",description:"Report bugs or submit a feature request by creating a GitHub issue",icon:vb,onClick:()=>fe.openUrl("https://github.com/surrealdb/surrealist/issues")})]}),i.jsxs(ga,{title:"Database",children:[i.jsx(Ln,{title:"Database docs",description:"Get started with SurrealDB with examples, guides and tutorials",icon:wb,noIconStroke:!0,onClick:()=>fe.openUrl("https://surrealdb.com/docs")}),i.jsx(Ln,{title:"University",description:"Learn the fundamentals of SurrealDB in as little as 3 hours",icon:Sb,onClick:()=>fe.openUrl("https://surrealdb.com/learn/fundamentals")}),i.jsx(Ln,{title:"Book",description:"Become an expert in SurrealQL through Aeon's Surreal Renaissance",icon:Go,onClick:()=>fe.openUrl("https://surrealdb.com/learn/book")})]}),n&&i.jsxs(ga,{title:"Cloud",children:[i.jsx(Ln,{title:"Cloud docs",description:"Learn how to set-up, configure, and manage your instances and teams",icon:Mc,onClick:()=>fe.openUrl("https://surrealdb.com/docs/cloud")}),i.jsx(Ln,{title:"Sidekick",description:"Chat with and get support from your personal Surreal AI assistant",icon:Id,onClick:()=>s("/cloud/chat")}),i.jsx(Ln,{title:"Account",description:"Account or billing related issue? Raise a support ticket",icon:yb,onClick:()=>{t?K1():s("cloud")}})]})]})}function ga({title:e,children:t}){return i.jsxs(G,{children:[i.jsx(ve,{children:e}),i.jsx(dt,{mt:"md",cols:{base:1,lg:3},children:t})]})}function Ln({title:e,description:t,icon:n,noIconStroke:s,onClick:r}){const o=Qe();return i.jsxs(es,{p:"lg",bg:o?"slate.0":"slate.9",className:Wu.helpTile,onClick:()=>{Jn(),r?.()},children:[i.jsx(E,{path:n,c:"bright",size:"lg",noStroke:s,mb:"lg",mr:"md"}),i.jsxs(G,{children:[i.jsx(_,{c:"bright",fw:600,fz:"lg",mt:1,children:e}),i.jsx(_,{fz:"sm",mt:"xs",children:t})]})]})}const eN="_scroll-area_1wj5t_1",tN={scrollArea:eN};function nN(){return i.jsx(G,{flex:1,pos:"relative",children:i.jsx(Fe,{pos:"absolute",scrollbars:"y",type:"scroll",inset:0,className:tN.scrollArea,children:i.jsx(Xt,{h:"100%",maw:900,mx:"auto",pb:75,children:i.jsx(by,{})})})})}const sN=[["instances","billing"],[],["chat","support"],["settings"]];function iN(e){const{setActiveCloudOrg:t}=Se.getState(),[n]=ws(),[s,r]=nt(),o=we(g=>g.authState),a=Se(g=>g.activeCloudOrg),c=we(g=>g.organizations),[l,u]=Pr(),d=v.useMemo(()=>sN.flatMap(g=>{const m=g.flatMap(b=>{const x=ou[b];return!x||x.disabled?.(n)?[]:[x]});return m.length>0?[m]:[]}),[n]),h=o==="loading";function p(g){return i.jsx(sn,{visible:h,children:i.jsx(Tt,{isActive:l===g,leftSection:i.jsx(E,{path:g.icon}),rightSection:g.id==="chat"?i.jsx(na,{}):void 0,onClick:()=>{u(g.id),r.close()},children:g.name},g.id)})}const f=c.find(g=>g.id===a)?.name||"Unknown";return i.jsxs(B,{className:ni.cloudSidebar,...e,children:[i.jsxs(U,{wrap:"nowrap",children:[i.jsx(Me,{label:"Manage organization",position:"bottom",children:i.jsx(de,{size:38,hiddenFrom:"sm",variant:"gradient",className:ni.openNavigation,onClick:r.open,children:i.jsx(E,{path:xb,size:"lg"})})}),i.jsxs(Is,{width:"target",position:"bottom-start",transitionProps:{transition:"scale-y"},children:[i.jsx(Is.Target,{children:i.jsx(sn,{visible:h,children:i.jsx(De,{withBorder:!0,p:"xs",children:i.jsxs(U,{style:{cursor:"pointer"},children:[i.jsx(mo,{name:f,radius:"xs",size:"sm"}),i.jsx(_,{c:"bright",fw:600,children:f}),i.jsx(je,{}),i.jsx(E,{path:Mr})]})})})}),i.jsxs(Is.Dropdown,{p:"xs",children:[c.map(g=>i.jsx(Tt,{rightSection:g.id===a?i.jsx(E,{path:tn}):void 0,onClick:()=>t(g.id),p:"sm",children:g.name},g.id)),i.jsx(Ne,{}),i.jsx(_,{p:"sm",children:"The ability to create organizations is not currently available."})]})]})]}),i.jsx(B,{gap:"sm",flex:1,visibleFrom:"sm",children:d.map((g,m)=>i.jsxs(v.Fragment,{children:[g.map(b=>i.jsx(v.Fragment,{children:p(b)},b.id)),m<d.length-1&&i.jsx(Ne,{})]},m))}),i.jsx(Je,{opened:s,onClose:r.close,withCloseButton:!0,title:i.jsx(ve,{children:"Manage organization"}),children:i.jsx(B,{gap:"sm",children:d.map((g,m)=>i.jsxs(v.Fragment,{children:[g.map(b=>i.jsx(v.Fragment,{children:p(b)},b.id)),m<d.length-1&&i.jsx(Ne,{})]},m))})})]})}const ks={attributes:{style:"height: 100%; display: flex; flex-direction: column;"}},dg={instances:Bt(ks),members:Bt(ks),audits:Bt(ks),data:Bt(ks),billing:Bt(ks),support:Bt(ks),settings:Bt(ks),provision:Bt(ks),chat:Bt(ks)},rN={instances:R1,members:L1,audits:lg,data:lg,billing:q_,support:nN,settings:X1,provision:Y1,chat:K_};function oN(){const[{cloud_access:e}]=ws(),t=Qe(),n=we(d=>d.authState),s=we(d=>d.isSupported),r=ta(),[o]=Oc("/cloud"),[,a]=$r(),c=An({queryKey:["cloud","message"],refetchInterval:15e3,retry:!1,enabled:n==="authenticated",queryFn:()=>gt("/message")}),l=er({light:ey,dark:Kx}),u=c.data&&Object.keys(c.data).length>0;return v.useLayoutEffect(()=>{r&&(o&&(n==="authenticated"||n==="loading")?a("/cloud/instances"):!o&&n==="unauthenticated"&&a("/cloud"))},[r,o,n]),o?i.jsxs(i.Fragment,{children:[i.jsxs(B,{gap:38,flex:1,align:"center",justify:"center",style:{zIndex:1},pb:175,children:[i.jsx(Vt,{src:l,alt:"Surreal Cloud",maw:500}),i.jsx(_,{maw:500,fz:"lg",ta:"center",children:"Surreal Cloud redefines the database experience, offering the power and flexibility of SurrealDB without the pain of managing infrastructure. Elevate your business to unparalleled levels of scale and resilience. Focus on building tomorrow's applications. Let us take care of the rest."}),e?s?i.jsxs(U,{children:[i.jsx(X,{w:164,color:"slate",variant:"gradient",rightSection:i.jsx(E,{path:bt}),onClick:Jc,children:"Continue"}),i.jsx(X,{w:164,color:"slate",variant:"light",rightSection:i.jsx(E,{path:Vn}),onClick:()=>fe.openUrl("https://surrealdb.com/cloud"),children:"Learn more"})]}):i.jsx(et,{icon:i.jsx(E,{path:_d}),color:t?"red.6":"red.5",title:"Client update required",maw:500,children:"Please update your version of Surrealist to continue using Surreal Cloud."}):i.jsx(X,{w:264,color:"slate",variant:"gradient",rightSection:i.jsx(E,{path:bt}),onClick:()=>fe.openUrl("https://surrealdb.com/signup"),style:{border:"1px solid rgba(255, 255, 255, 0.3)",backgroundOrigin:"border-box"},children:"Join the waitlist"})]}),i.jsx(G,{className:ni.splashImageContainer,children:i.jsx(Vt,{src:uy,alt:"Surreal Cloud",h:"100%",className:ni.splashImage})})]}):i.jsxs(on,{flex:1,className:ni.cloudContent,align:"stretch",gap:"xl",children:[i.jsx(iN,{}),i.jsxs(B,{flex:1,children:[u&&i.jsx(E_,{alert:c.data}),i.jsxs(eb,{children:[Object.values(ou).map(d=>i.jsx(gi,{path:`/cloud/${d.id}`,children:i.jsx(v.Suspense,{fallback:null,children:i.jsx(tb,{node:dg[d.id]})})},d.id)),r&&i.jsx(gi,{children:i.jsx(nb,{to:"/cloud/instances"})})]})]}),Object.values(ou).map(d=>{const h=rN[d.id];return i.jsx(sb,{node:dg[d.id],children:i.jsx(v.Suspense,{fallback:null,children:i.jsx(h,{})})},d.id)})]})}function aN({onClose:e}){const{setAccountProfile:t}=we.getState(),n=we(l=>l.profile),[s,r]=v.useState(!1),[o,a]=Ee(n.name||""),c=L(async()=>{try{r(!0);const l=await gt("/user/profile",{method:"PATCH",body:JSON.stringify({name:o})});t(l),e()}catch(l){Rt({title:"Failed to save account",subtitle:l.message})}finally{r(!1)}});return i.jsx(Kt,{onSubmit:c,children:i.jsxs(B,{children:[i.jsx(le,{label:"Full name",value:o,onChange:a}),i.jsxs(U,{mt:"lg",children:[i.jsx(X,{onClick:e,color:"slate",variant:"light",flex:1,children:"Close"}),i.jsx(X,{type:"submit",variant:"gradient",flex:1,loading:s,disabled:!o||o===n.name,children:"Save changes"})]})]})})}function cN(){const[e,t]=nt(),[,n]=$r(),s=we(c=>c.profile),r=we(c=>c.authState),o=L(()=>{n("/cloud")});if(r==="unauthenticated")return i.jsx(Me,{label:"Sign in to Surreal Cloud",children:i.jsx(mo,{radius:"md",size:36,onClick:o,renderRoot:c=>i.jsx(es,{...c})})});const a=s.name||"Unknown";return i.jsxs(i.Fragment,{children:[i.jsxs(Y,{position:"bottom-end",trigger:"click-hover",disabled:r==="loading",transitionProps:{transition:"scale-y"},children:[i.jsx(Y.Target,{children:i.jsx(mo,{radius:"md",size:36,name:a,src:s.picture,component:es,children:r==="loading"&&!s.picture&&i.jsx(ys,{size:"sm",color:"slate.4"})})}),i.jsxs(Y.Dropdown,{w:200,children:[i.jsxs(G,{p:"sm",children:[i.jsx(_,{fz:"md",fw:500,c:"bright",children:a}),i.jsx(_,{fz:"sm",c:"slate",mt:-3,children:s.username})]}),i.jsx(Y.Divider,{}),i.jsx(Y.Item,{leftSection:i.jsx(E,{path:yo}),onClick:t.open,children:"Account"}),i.jsx(Y.Item,{leftSection:i.jsx(E,{path:KS}),onClick:s_,children:"Sign out"})]})]}),i.jsx(Je,{opened:e,onClose:t.close,title:i.jsx(ve,{children:"Account settings"}),children:i.jsx(aN,{onClose:t.close})})]})}function vh(){return An({queryKey:["newsfeed"],queryFn:async()=>{const t=await(await fetch("https://surrealdb.com/feed/blog.rss")).text(),n=new DOMParser().parseFromString(t,"text/xml"),s=n.querySelector("parsererror div")?.textContent;if(s)throw new Error(s);return[...n.querySelectorAll("item")].filter(r=>[...r.querySelectorAll("category")].some(o=>o.textContent?.toLowerCase()==="surrealist")).map(r=>({id:r.querySelector("guid")?.textContent||"",title:r.querySelector("title")?.textContent||"",link:r.querySelector("link")?.textContent||"",description:r.querySelector("description")?.textContent||"",thumbnail:r.querySelector("content")?.getAttribute("url")||"",content:r.querySelector("encoded")?.textContent||"",published:r.querySelector("pubDate")?.textContent||""}))}})}function xy(){const e=Se(n=>n.lastViewedNewsAt||Date.now()),t=vh();return v.useMemo(()=>t.data?.filter(n=>new Date(n.published).getTime()>e)?.map(n=>n.id)||[],[t.data,e])}function lN(){const[{newsfeed:e}]=ws(),t=xy();return e&&i.jsx(Me,{label:"Latest news",children:i.jsx(Fo,{disabled:t.length===0,children:i.jsx(de,{w:36,h:36,radius:"md",onClick:()=>vt("open-news"),"aria-label":"Open news feed drawer",variant:"subtle",children:i.jsx(E,{path:jb,size:"lg"})})})})}function uN(){const[e,t]=v.useState(!1),n=gn(u=>u.cancelServe),s=gn(u=>u.prepareServe),r=gn(u=>u.stopServing),o=gn(u=>u.isServing),a=gn(u=>u.servePending),c=L(()=>{a||(o?(fe.stopDatabase(),n()):(s(),fe.startDatabase().catch(()=>{r()}),oi.capture("serve_start")),t(!0))}),l=L(()=>{vt("open-serving-console")});return v.useEffect(()=>{const u=ej();if(u){const d=Tb(u.authentication.hostname);o&&d&&Fc()}},[o]),Pe("toggle-serving",c),i.jsxs(i.Fragment,{children:[i.jsx(Me,{label:o?"Stop serving":"Start serving",children:i.jsx(de,{w:36,h:36,onClick:c,loading:a,color:o?"pink.7":void 0,"aria-label":o?"Stop serving local database":"Start serving local database",variant:"subtle",children:i.jsx(E,{path:o?tj:Eb,size:"lg"})})}),e&&i.jsx(Me,{label:"Open console",children:i.jsx(de,{w:36,h:36,onClick:l,"aria-label":"Open serving console drawer",variant:"subtle",children:i.jsx(E,{path:Pc,size:"lg"})})})]})}async function yy(){oi.capture("support_open"),wn({title:i.jsx(ve,{fz:24,children:"How can we help you?"}),withCloseButton:!0,size:900,children:i.jsx(by,{onBody:!0}),padding:32})}function dN(){return i.jsx(Me,{label:"Help and support",children:i.jsx(de,{w:36,h:36,radius:"md",onClick:yy,variant:"subtle","aria-label":"Open Help and support",children:i.jsx(E,{path:Qi,size:"lg"})})})}function vy(){const[e]=ws(),t=ta();return i.jsxs(i.Fragment,{children:[fe.isServeSupported&&i.jsx(uN,{}),e.newsfeed&&i.jsx(lN,{}),i.jsx(dN,{}),t&&e.cloud_access&&i.jsx(cN,{})]})}function wy(){const{setOverlaySidebar:e}=Ye.getState(),t=Ye(s=>s.overlaySidebar),n=L(()=>{e(!t)});return i.jsx(Me,{label:"Toggle sidebar",position:"right",children:i.jsx(de,{size:"lg",hiddenFrom:"md",onClick:n,children:i.jsx(E,{path:bt})})})}function hN({showBreadcrumb:e}){const[t]=Pr(),n=t?.name??"Unknown";return i.jsxs(i.Fragment,{children:[i.jsx(wy,{}),e&&i.jsxs(i.Fragment,{children:[i.jsx(ve,{ml:3,visibleFrom:"md",children:"Surreal Cloud"}),i.jsx(na,{visibleFrom:"md"}),i.jsx(E,{path:bt,visibleFrom:"md",size:"xl",color:"slate.5",mx:-8}),i.jsx(ve,{children:n})]}),i.jsx(je,{}),i.jsx(vy,{})]})}const pN="_database-options_1mmky_1",fN="_database_1mmky_1",hg={databaseOptions:pN,database:fN};function gN({value:e,isActive:t,onOpen:n,onRemove:s}){const{lastNamespace:r,lastDatabase:o}=Et(),a=L(()=>n(e)),c=_n({title:"Remove database",message:`Are you sure you want to remove the database "${e}"?`,confirmText:"Remove",onConfirm(){qt(`REMOVE DATABASE ${it(e)}`),o===e&&qc(r,"")}}),l=L(u=>{u.stopPropagation(),c(),s()});return i.jsx(Tt,{py:5,h:"unset",radius:"xs",onClick:a,isActive:t,className:hg.database,rightSection:i.jsx(de,{component:"div",variant:"transparent",className:hg.databaseOptions,onClick:l,"aria-label":"Remove database",size:"xs",children:i.jsx(E,{path:en,size:"sm"})}),children:e})}function Sy({buttonProps:e}){const[t,n]=nt(),s=Et(),r=ln(),o=kb(),a=s.lastNamespace,c=Ob(s.authentication),l=v.useMemo(()=>{const x=nj(s.authentication);return x?[x]:o.databases.map(T=>Pd(T.name))},[o,s.authentication]),u=x=>{s.lastDatabase!==x&&qc(a,x),n.close()},[d,h]=nt(),[p,f]=Ee(""),g=L(()=>{f(""),h.set(!0),n.close()}),m=L(async()=>{await qt(`DEFINE DATABASE ${it(p)}`),h.close(),u(p)}),b=(c==="root"||c==="namespace")&&l.length===0;return i.jsxs(i.Fragment,{children:[b?i.jsx(X,{px:"sm",color:"slate",variant:"light",leftSection:i.jsx(E,{path:cp}),onClick:g,...e,children:i.jsx(_,{truncate:!0,fw:600,maw:200,children:"Create database"})}):i.jsxs(Y,{opened:t,onChange:n.set,trigger:"click",position:"bottom",transitionProps:{transition:"scale-y"},children:[i.jsx(Y.Target,{children:i.jsx(X,{px:"sm",variant:s.lastDatabase?"subtle":"light",color:"slate",leftSection:i.jsx(E,{path:cp}),...e,children:i.jsx(_,{truncate:!0,fw:600,maw:200,children:s.lastDatabase||"Select database"})})}),i.jsx(Y.Dropdown,{w:250,children:i.jsxs(B,{flex:1,p:"sm",children:[i.jsxs(U,{children:[i.jsx(_,{flex:1,fw:600,c:"bright",children:"Databases"}),i.jsx(de,{color:"slate",variant:"light",disabled:!r||c!=="root"&&c!=="namespace",onClick:g,children:i.jsx(E,{path:Ie})})]}),i.jsx(Ne,{}),i.jsx(Fe.Autosize,{mah:250,children:l.length===0?i.jsx(_,{c:"slate",children:"No databases defined"}):i.jsx(B,{gap:"xs",children:l.map(x=>i.jsx(gN,{value:x,isActive:x===s.lastDatabase,onOpen:()=>u(x),onRemove:n.close},x))})})]})})]}),i.jsx(Je,{opened:d,onClose:h.close,trapFocus:!1,size:"md",title:i.jsx(ve,{children:"Create new database"}),children:i.jsx(Kt,{onSubmit:m,children:i.jsxs(B,{children:[i.jsx(_,{children:"Databases represent isolated containers within a namespace encompassing schemas, tables, and records."}),i.jsx(le,{placeholder:"Enter database name",value:p,onChange:f,spellCheck:!1,autoFocus:!0}),i.jsx(an,{href:"https://surrealdb.com/docs/surrealdb/introduction/concepts/database",mb:"xl",children:"Learn more about databases"}),i.jsxs(U,{children:[i.jsx(X,{onClick:h.close,color:"slate",variant:"light",flex:1,children:"Close"}),i.jsx(X,{type:"submit",variant:"gradient",flex:1,rightSection:i.jsx(E,{path:Ie}),children:"Create"})]})]})})})]})}const mN="_namespace-options_1i9m7_1",bN="_namespace_1i9m7_1",pg={namespaceOptions:mN,namespace:bN};function xN({value:e,isActive:t,onOpen:n,onRemove:s}){const{lastNamespace:r}=Et(),o=L(()=>n(e)),a=_n({title:"Remove namespace",message:`Are you sure you want to remove the namespace "${e}"?`,confirmText:"Remove",onConfirm(){qt(`REMOVE NAMESPACE ${it(e)}`),e===r&&qc("","")}}),c=L(l=>{l.stopPropagation(),a(),s()});return i.jsx(Tt,{py:5,h:"unset",radius:"xs",onClick:o,isActive:t,className:pg.namespace,rightSection:i.jsx(de,{component:"div",variant:"transparent",className:pg.namespaceOptions,onClick:c,"aria-label":"Remove namespace",size:"xs",children:i.jsx(E,{path:en,size:"sm"})}),children:e})}function jy({buttonProps:e}){const[t,n]=nt(),s=Et(),r=ln(),o=Cb(),a=v.useMemo(()=>{const b=sj(s.authentication);return b?[b]:o.namespaces.map(x=>Pd(x.name))},[o,s.authentication]),c=Ob(s.authentication),l=b=>{s.lastNamespace!==b&&qc(b,""),n.close()},[u,d]=nt(),[h,p]=Ee(""),f=L(()=>{p(""),d.set(!0),n.close()}),g=L(async()=>{await qt(`DEFINE NAMESPACE ${it(h)}`),d.close(),l(h)}),m=c==="root"&&a.length===0;return i.jsxs(i.Fragment,{children:[m?i.jsx(X,{px:"sm",color:"slate",variant:"light",leftSection:i.jsx(E,{path:lp}),onClick:f,...e,children:i.jsx(_,{truncate:!0,fw:600,maw:200,children:"Create namespace"})}):i.jsxs(Y,{opened:t,onChange:n.set,trigger:"click",position:"bottom",transitionProps:{transition:"scale-y"},children:[i.jsx(Y.Target,{children:i.jsx(X,{px:"sm",variant:s.lastNamespace?"subtle":"light",color:"slate",leftSection:i.jsx(E,{path:lp}),...e,children:i.jsx(_,{truncate:!0,fw:600,maw:200,children:s.lastNamespace||"Select namespace"})})}),i.jsx(Y.Dropdown,{w:250,children:i.jsxs(B,{flex:1,p:"sm",gap:"sm",children:[i.jsxs(U,{children:[i.jsx(_,{flex:1,fw:600,c:"bright",children:"Namespaces"}),i.jsx(de,{color:"slate",variant:"light",disabled:!r||c!=="root"&&c!=="namespace",onClick:f,children:i.jsx(E,{path:Ie})})]}),i.jsx(Ne,{}),i.jsx(Fe.Autosize,{mah:250,children:a.length===0?i.jsx(_,{c:"slate",children:"No namespaces defined"}):i.jsx(B,{gap:"xs",children:a.map(b=>i.jsx(xN,{value:b,isActive:b===s.lastNamespace,onOpen:l,onRemove:n.close},b))})})]})})]}),i.jsx(Je,{opened:u,onClose:d.close,trapFocus:!1,size:"md",title:i.jsx(ve,{children:"Create new namespace"}),children:i.jsx(Kt,{onSubmit:g,children:i.jsxs(B,{children:[i.jsx(_,{children:"Namespaces represent a layer of separation for each organization, department, or development team."}),i.jsx(le,{placeholder:"Enter namespace name",value:h,onChange:p,spellCheck:!1,autoFocus:!0}),i.jsx(an,{href:"https://surrealdb.com/docs/surrealdb/introduction/concepts/namespace",mb:"xl",children:"Learn more about namespaces"}),i.jsxs(U,{children:[i.jsx(X,{onClick:d.close,color:"slate",variant:"light",flex:1,children:"Close"}),i.jsx(X,{type:"submit",variant:"gradient",flex:1,rightSection:i.jsx(E,{path:Ie}),children:"Create"})]})]})})})]})}const fg={border:"1px solid rgba(255, 255, 255, 0.3)",backgroundOrigin:"border-box"};function Ty({withNamespace:e,withDatabase:t,...n}){const s=Rn(),r=ln(),o=!!e,a=!!t,c=!r,l=!r||!s?.lastNamespace;return i.jsxs(U,{...n,children:[o&&i.jsx(jy,{buttonProps:{flex:1,disabled:c,variant:s?.lastNamespace?"light":"gradient",style:c||s?.lastNamespace?void 0:fg}}),o&&a&&i.jsx(E,{path:bt,size:"xl",color:"slate.5",mx:"md"}),a&&i.jsx(Sy,{buttonProps:{flex:1,disabled:l,variant:s?.lastNamespace?"gradient":"light",style:l?void 0:fg}})]})}function yN(e){const[t,n]=v.useState(!1),s=v.useRef(null),r=v.useRef(null),o=L(()=>{const d=r.current?.currentFrame??0,h=r.current?.totalFrames??1;return d+1===h}),a=L(()=>{r.current?.setDirection(1),r.current?.setSpeed(1.2),r.current?.play()}),c=L(()=>{e.hardReset||o()?r.current?.goToAndStop(0):(r.current?.setDirection(-1),r.current?.setSpeed(1.8),r.current?.play())}),l=v.useId(),{isPending:u}=An({queryKey:["lottie",l],queryFn:async()=>{const d=await Bb(()=>import("./lottie_light-DC7RA64b.js").then(p=>p.l),__vite__mapDeps([0,1])),h=await Promise.resolve(e.animation);if(t&&s.current&&!s.current.innerHTML){const p=d.default.loadAnimation({container:s.current,renderer:"svg",autoplay:!1,loop:!1,animationData:h,rendererSettings:{className:e.className}});return r.current=p,!0}return!1},enabled:t});return v.useEffect(()=>(n(!0),()=>{n(!1),r.current?.destroy()}),[]),{isLoading:u,ref:s,onMouseEnter:a,onMouseLeave:c,item:r.current}}const vN="_view-button_cxny3_1",wN="_view-button-active_cxny3_4",SN="_animation_cxny3_17",Dl={viewButton:vN,viewButtonActive:wN,animation:SN};function ma({name:e,path:t,icon:n,withTooltip:s,onClick:r,indicator:o,...a}){const{setOverlaySidebar:c}=Ye.getState(),[l]=Oc(t||""),u=typeof n=="string",d=l&&!!t,{isLoading:h,ref:p,onMouseEnter:f,onMouseLeave:g}=yN({animation:u?{w:0,h:0,layers:[]}:n,className:Dl.animation}),m=L(()=>{c(!1),r()});return i.jsx(Me,{label:e,position:"right",disabled:!s,offset:14,children:i.jsx(G,{w:"100%",onMouseEnter:f,onMouseLeave:g,children:i.jsx(Tt,{className:cn(Dl.viewButton,d&&Dl.viewButtonActive),isActive:d,style:{opacity:h?0:1},onClick:m,leftSection:i.jsx(Fo,{disabled:!o,...ij(o)?o:{},children:u?i.jsx(E,{path:n,size:"lg"}):i.jsx("div",{ref:p})}),...a,children:e})})})}const jN=["shift","alt","meta","mod","ctrl"],TN={esc:"escape",return:"enter",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function EN(e){return jN.includes(e)}function gg(e){return(TN[e]??e??"").trim().toLowerCase().replace(/key/,"")}function Ey(e){return Oy(wh(e)).replace(/digit|numpad|arrow/i,"")}function ky(e){return e.map(Ey).map(Ci).join(" + ")}function kN(e){return e.map(wh).join("+")}function wh(e){return e!=="mod"?e:fe.platform==="darwin"?"meta":"ctrl"}function Oy(e){return e!=="meta"?e:fe.platform==="windows"?"win":fe.platform==="darwin"?"command":"meta"}function Sh({value:e,...t}){const n=v.useMemo(()=>e.map((r,o)=>i.jsx(v.Fragment,{children:ON(Oy(wh(r)))},o)),[e]);return i.jsx(U,{gap:4,wrap:"nowrap",...t,children:n.map((s,r)=>i.jsx(G0,{p:0,px:4,miw:24,h:24,ta:"center",children:s},r))})}function ON(e){const t=fe.platform==="darwin";switch(e){case"command":return i.jsx(E,{path:Ad,size:.7});case"alt":return t?i.jsx(E,{path:aj,size:.7}):i.jsx(_,{children:"Alt"});case"ctrl":return t?i.jsx(E,{path:oj,size:.7}):i.jsx(_,{children:"Ctrl"});case"shift":return i.jsx(E,{path:rj,size:.7});default:return i.jsx(_,{fz:"lg",children:Ci(Ey(e))})}}const CN=[["query","explorer","graphql"],["designer","authentication","functions","models"],["documentation"]];function _N({sidebarMode:e,className:t,...n}){const[s]=ws(),r=_b(),o=Qe(),a=Rn(),c=ta(),[,l]=$r(),u=Kc(),d=Ye(j=>j.availableUpdate),[h,p]=nt(!0),f=L(j=>{p.close(),l(j)}),g=v.useMemo(()=>CN.flatMap(j=>{const N=j.flatMap(I=>{const C=au[I];return!C||C.disabled?.(s)?[]:[C]});return N.length>0?[N]:[]}),[s]),m=L(()=>vt("open-settings")),b=L(()=>vt("open-command-palette")),x=e==="expandable"&&h,T=e==="compact"||e==="expandable",w=e==="fill";return i.jsx(Fe,{scrollbars:"y",type:"never",pos:"fixed",component:"aside",top:0,left:0,bottom:0,bg:o?"slate.0":"slate.9",onMouseEnter:p.open,className:cn(gs.sidebar,x&&gs.sidebarHoverable,T&&gs.sidebarCollapsed,w&&gs.sidebarFill,t),...n,children:i.jsxs(on,{direction:"column",h:"100%",px:16,pt:22,children:[i.jsx(Y0,{h:"var(--titlebar-offset)"}),i.jsx(es,{onClick:()=>f("/start"),children:i.jsxs(on,{wrap:"nowrap",align:"center",style:{flexShrink:0},children:[i.jsx(Vt,{src:ib,w:42}),i.jsx(Vt,{src:r,style:{flexShrink:0},w:118,ml:14})]})}),i.jsxs(B,{gap:"sm",mt:22,pb:18,component:"nav",flex:1,children:[c&&i.jsxs(i.Fragment,{children:[i.jsx(ma,{name:i.jsxs(U,{wrap:"nowrap",gap:"xs",children:["Surreal Cloud",i.jsx(na,{})]}),icon:Mc,isActive:u,path:"cloud",withTooltip:e==="compact",onClick:()=>f("/cloud"),onMouseEnter:p.open}),i.jsx(Ne,{color:o?"slate.2":"slate.7"})]}),g.map((j,N)=>i.jsxs(v.Fragment,{children:[j.map(I=>i.jsx(U,{gap:"lg",wrap:"nowrap",children:i.jsx(ma,{name:I.name,path:I.id,icon:I.anim||I.icon,onClick:()=>f(`/${I.id}`),onMouseEnter:p.open,withTooltip:e==="compact",style:{opacity:a?1:.5}})},I.id)),N<g.length-1&&i.jsx(Ne,{color:o?"slate.2":"slate.7"})]},N)),i.jsx(je,{}),i.jsx(ma,{name:i.jsxs(U,{wrap:"nowrap",children:["Search",!cj()&&i.jsx(Sh,{value:["mod","K"]})]}),icon:Ss,onClick:b,onMouseEnter:p.open,withTooltip:e==="compact"}),i.jsx(ma,{name:"Settings",icon:Vo,onClick:m,onMouseEnter:p.open,withTooltip:e==="compact",indicator:!!d})]})]})})}const NN="_content_ejb9q_1",IN="_glow_ejb9q_6",DN="_start-box_ejb9q_14",RN="_start-action_ejb9q_30",AN="_start-action-icon_ejb9q_35",PN="_start-resource_ejb9q_47",$N="_start-news-inner_ejb9q_51",LN="_start-news-thumbnail_ejb9q_60",MN="_cloud-image_ejb9q_71",FN="_cloud-action_ejb9q_85",On={content:NN,glow:IN,startBox:DN,startAction:RN,startActionIcon:AN,startResource:PN,startNewsInner:$N,startNewsThumbnail:LN,cloudImage:MN,cloudAction:FN};function jh({containerRef:e}){const t=fe.platform==="darwin"&&Fr,n=v.useRef(null),s=Qe();return v.useEffect(()=>{if(t)return;function r(o){if(!e.current||!n.current)return;const a={w:e.current.clientWidth,h:e.current.clientHeight,x:e.current.getBoundingClientRect().left,y:e.current.getBoundingClientRect().top},c={w:n.current.clientWidth,h:n.current.clientHeight},l={x:o.clientX,y:o.clientY,relX:o.clientX-a.x-c.w/2,relY:o.clientY-a.y-c.h/2},u=l.relX>=-c.w&&l.relX<=a.w+c.w,d=l.relY>=-c.h&&l.relY<=a.h+c.h;(u||d)&&(n.current.style.left=`${l.relX}px`,n.current.style.top=`${l.relY}px`)}return window.addEventListener("mousemove",r),()=>window.removeEventListener("mousemove",r)},[t,e.current]),!t&&i.jsx("div",{ref:n,style:{width:"150px",height:"150px",position:"absolute",top:"-150px",left:"-150px",borderRadius:"100.153px",background:"linear-gradient(276deg, #8200E3 42.56%, #FF01A8 78.41%)",filter:"blur(50px)",opacity:s?.5:1,zIndex:-1}})}function Yr({title:e,subtitle:t,icon:n,onClick:s,children:r,...o}){const a=v.useRef(null);return i.jsx(es,{onClick:s,...o,children:i.jsxs(De,{p:"xl",pos:"relative",ref:a,className:cn(On.startBox,On.startAction),renderRoot:c=>i.jsx(B,{...c}),children:[i.jsxs(U,{wrap:"nowrap",align:"start",h:"100%",children:[i.jsx(_,{c:"bright",fw:600,fz:15,children:e}),i.jsx(je,{}),n&&i.jsx(E,{className:On.startActionIcon,path:n,size:"xl"})]}),i.jsx(_,{maw:450,children:t}),r,i.jsx(jh,{containerRef:a})]})})}function ba({title:e,subtitle:t,icon:n,onClick:s,...r}){const o=v.useRef(null);return i.jsx(es,{onClick:s,...r,children:i.jsxs(De,{p:"lg",className:cn(On.startBox,On.startResource),ref:o,children:[i.jsxs(U,{wrap:"nowrap",h:"100%",children:[i.jsx(E,{path:n,mx:"md",size:"xl"}),i.jsxs(G,{flex:1,children:[i.jsx(_,{c:"bright",fw:600,fz:"xl",children:e}),i.jsx(_,{children:t})]}),i.jsx(E,{path:bt,ml:"md"})]}),i.jsx(jh,{containerRef:o})]})})}function qN({post:e,...t}){const n=v.useRef(null),s=L(()=>{vt("open-news",{id:e.id})});return i.jsx(es,{onClick:s,...t,children:i.jsxs(De,{p:"lg",className:cn(On.startBox,On.startNews),ref:n,children:[i.jsxs(on,{gap:"xl",className:On.startNewsInner,children:[i.jsx(De,{className:On.startNewsThumbnail,style:{backgroundImage:`url("${e.thumbnail}")`}}),i.jsxs(G,{h:"100%",flex:1,style:{alignSelf:"start"},children:[i.jsx(xn,{c:"bright",fz:"xl",children:e.title}),i.jsx(_,{c:"slate",children:_i(e.published).fromNow()}),i.jsx(_,{mt:"sm",children:e.description})]}),i.jsx(E,{path:bt,c:"slate",size:"xl",style:{alignSelf:"center"}})]}),i.jsx(jh,{containerRef:n})]})})}function QN(){const{setActiveConnection:e}=Se.getState(),t=vh(),[,n]=$r(),s=t.data?.slice(0,5)??[],r=L(()=>{e(Qc),n("/query")}),o=L(()=>{vt("new-connection")}),a=L(()=>{n("/cloud")}),c=L(()=>{vt("open-connections")}),l=L(()=>{vt("open-settings")}),u=er({light:uj,dark:lj});return i.jsxs(G,{flex:1,pos:"relative",children:[i.jsx("div",{className:On.glow,style:{backgroundImage:`url(${Xc})`}}),i.jsx(Fe,{pos:"absolute",inset:0,children:i.jsxs(B,{className:On.content,justify:"center",maw:952,px:"xl",mx:"auto",py:96,children:[i.jsxs(B,{align:"center",gap:0,children:[i.jsx(Vt,{src:ib,w:85}),i.jsx(Vt,{src:u,w:225,mt:"md"}),i.jsxs(_,{mt:"xs",opacity:.4,c:"bright",children:["Version ","3.1.7"]})]}),i.jsxs(B,{mt:50,gap:"lg",children:[i.jsx(Yr,{title:i.jsxs(U,{gap:"xs",children:["Explore Surreal Cloud",i.jsx(na,{})]}),subtitle:"Surreal Cloud redefines the database experience, offering the power and flexibility of SurrealDB without the pain of managing infrastructure.",icon:Mc,onClick:a,className:On.cloudAction,children:i.jsx(Vt,{src:uy,className:On.cloudImage})}),i.jsxs(dt,{spacing:"lg",cols:{xs:1,sm:2,md:4},children:[i.jsx(Yr,{title:"Create Connection",subtitle:"Connect to a remote or local database",icon:Ie,onClick:o}),i.jsx(Yr,{title:"Open the Sandbox",subtitle:"Explore SurrealDB right inside Surrealist",icon:$d,onClick:r}),i.jsx(Yr,{title:"Manage Connections",subtitle:"List and manage your existing connections",icon:Vi,onClick:c}),i.jsx(Yr,{title:"Customize Settings",subtitle:"Configure Surrealist to your liking",icon:Vo,onClick:l})]})]}),i.jsx(xn,{mt:"xl",c:"bright",children:"Resources"}),i.jsxs(dt,{cols:{xs:1,sm:2},children:[i.jsx(ba,{title:"Documentation",subtitle:"Learn more about Surrealist",icon:Go,onClick:()=>fe.openUrl("https://surrealdb.com/docs/surrealist")}),i.jsx(ba,{title:"Community",subtitle:"Join the discussion on Discord",icon:dj,onClick:()=>fe.openUrl("https://discord.com/invite/surrealdb")}),i.jsx(ba,{title:"University",subtitle:"Learn the SurrealDB fundamentals in 3 hours",icon:Sb,onClick:()=>fe.openUrl("https://surrealdb.com/learn")}),i.jsx(ba,{title:"Sidekick",subtitle:"Get support from your personal Surreal AI assistant",icon:Id,onClick:()=>n("/cloud/chat")})]}),i.jsx(xn,{mt:"xl",c:"bright",children:"Latest news"}),t.isPending?i.jsxs(i.Fragment,{children:[i.jsx(sn,{h:144}),i.jsx(sn,{h:144}),i.jsx(sn,{h:144})]}):i.jsxs(i.Fragment,{children:[s.map((d,h)=>i.jsx(qN,{post:d},h)),i.jsx(Xt,{children:i.jsx(X,{rightSection:i.jsx(E,{path:bt}),onClick:()=>vt("open-news"),color:"slate",variant:"white",radius:"xl",mt:"xl",children:"Read more news"})})]})]})})]})}const fc=[Vi,yr,xr,Nb,Ui,hj,Vo,jb,qn,Rc,Ib,Db,Rb,Jt,Ab,pj,Go,Pb,pb,Ha,Pc,fj,Ld,Md,bb,db,gj,Dd,Bo,li,Cd,mj,$b,vb,Lb,bj,$c,xj,Mb,yj];function VN(){const[e,t]=v.useState(!1),n=Rn(),s=qs(),r=s.tables.length===0,o=s.functions.length===0,a=s.users.length===0,c=r&&o&&a,[l,u,d]=rb(),[h,p]=nt(),[f,g]=v.useState(""),m=gn(P=>P.currentState),b=gn(P=>P.latestError),x=gn(P=>P.version),T=L(P=>{vt("edit-connection",{id:P.id})}),w=L(()=>{vt("open-connections"),t(!1)}),j=L(()=>{p.open(),g("")}),N=L(async()=>{await u(f),p.close()}),I=n?.id===Qc,C={disconnected:["Disconnected","red",!1],retrying:["Retrying...","red",!0],connecting:["Connecting...","yellow.6",!0],connected:[`SurrealDB ${x}`,"green",!1]},[S,y,k]=C[m];return i.jsxs(i.Fragment,{children:[n&&i.jsx(U,{gap:"xs",children:i.jsxs(Y,{opened:e,onChange:t,trigger:"hover",position:"bottom-start",transitionProps:{transition:"scale-y"},children:[i.jsx(Y.Target,{children:i.jsx(X,{variant:"subtle",color:"slate",onClick:w,leftSection:I?i.jsx(E,{path:$d}):i.jsx(E,{path:fc[n.icon??0]}),rightSection:i.jsx(Fo,{processing:k,color:y,size:9,ml:"sm"}),children:i.jsx(_,{truncate:!0,fw:600,maw:200,c:"bright",ml:2,children:n.name})})}),i.jsxs(Y.Dropdown,{miw:175,children:[i.jsx(_,{py:2,px:"sm",c:"slate",children:S}),i.jsx(Y.Divider,{}),i.jsx(Y.Label,{children:"Connection"}),i.jsx(Y.Item,{leftSection:i.jsx(E,{path:Vi}),onClick:w,children:"View connections"}),!I&&i.jsxs(i.Fragment,{children:[i.jsx(Y.Item,{leftSection:i.jsx(E,{path:Fd}),onClick:()=>T(n),children:"Edit connection"}),i.jsx(Y.Item,{leftSection:i.jsx(E,{path:zo}),onClick:()=>Fc(),children:"Reconnect"}),i.jsx(Y.Item,{leftSection:i.jsx(E,{path:en}),disabled:m!=="connected",onClick:()=>vj(),children:"Disconnect"})]}),i.jsx(Y.Label,{mt:"sm",children:"Database"}),!I&&i.jsx(Y.Item,{leftSection:i.jsx(E,{path:qn}),disabled:m!=="connected"||!c||!n.lastDatabase,onClick:j,children:"Apply dataset"}),i.jsx(Y.Item,{leftSection:i.jsx(E,{path:Vc}),disabled:m!=="connected"||!n.lastDatabase,onClick:()=>It(),children:"Sync schema"}),i.jsx(Y.Item,{leftSection:i.jsx(E,{path:Yo}),disabled:m!=="connected"||!n.lastDatabase,onClick:()=>vt("export-database"),children:"Export database"}),i.jsx(Y.Item,{leftSection:i.jsx(E,{path:ns}),disabled:m!=="connected"||!n.lastDatabase,onClick:()=>vt("import-database"),children:"Import database"}),i.jsx(Y.Label,{mt:"sm",children:"Instance"}),i.jsx(Y.Item,{leftSection:i.jsx(E,{path:li}),onClick:()=>rS(),children:"View node status"}),b&&i.jsxs(i.Fragment,{children:[i.jsx(Y.Divider,{}),i.jsx(Y.Label,{c:"red",fw:700,children:"Connection error"}),i.jsx(_,{px:"sm",c:"red",maw:350,style:{overflowWrap:"break-word"},children:b})]})]})]})}),i.jsx(Je,{opened:h,onClose:p.close,title:i.jsxs(U,{children:[i.jsx(E,{path:qn,size:"lg"}),i.jsx(ve,{children:"Apply dataset"})]}),children:i.jsxs(B,{gap:"xl",children:[i.jsx(_,{children:"You can initialize your empty database with an official dataset to provide a starting point for your project."}),i.jsx(yt,{placeholder:"Select a dataset",value:f,onChange:g,data:l}),i.jsxs(U,{children:[i.jsx(X,{onClick:p.close,color:"slate",variant:"light",flex:1,children:"Close"}),i.jsx(X,{type:"submit",variant:"gradient",flex:1,disabled:!f,onClick:N,loading:d,children:"Apply dataset"})]})]})})]})}function UN(){const{readChangelog:e}=Ye.getState(),{updateConnection:t}=Se.getState(),[n]=ws(),s=Ye(S=>S.showChangelogAlert),r=Ye(S=>S.hasReadChangelog),o=we(S=>S.authState),a=ln(),c=Rn(),[l,u]=v.useState(null),[d,h]=v.useState(""),p=L(()=>{u(null)}),f=L(()=>{l&&(t({id:l,name:d}),p())}),g=_n({title:"Reset sandbox environment",message:"This will clear all data and query responses. Your queries will not be affected. Are you sure you want to continue?",skippable:!0,confirmText:"Reset",confirmProps:{variant:"gradient"},onConfirm:wj}),[m,b,x]=rb(),T=L(()=>{vt("open-changelog"),e()}),[w,j]=Nc("2.0.0"),N=c?.id==="sandbox",I=!N&&a,C=I&&c?.lastNamespace;return i.jsxs(i.Fragment,{children:[i.jsx(wy,{}),i.jsx(VN,{}),o==="unauthenticated"&&c?.authentication?.mode==="cloud"&&i.jsx(X,{color:"orange",variant:"light",size:"xs",onClick:Jc,children:"Sign in to Surreal Cloud"}),I&&i.jsxs(i.Fragment,{children:[i.jsx(E,{path:bt,size:"xl",color:"slate.5",mx:-8}),i.jsx(jy,{})]}),C&&i.jsxs(i.Fragment,{children:[i.jsx(E,{path:bt,size:"xl",color:"slate.5",mx:-8}),i.jsx(Sy,{})]}),a&&N&&i.jsxs(i.Fragment,{children:[i.jsx(Me,{label:"Reset sandbox environment",children:i.jsx(de,{color:"slate",variant:"subtle",onClick:g,"aria-label":"Reset sandbox environment",children:i.jsx(E,{path:zo})})}),i.jsxs(Y,{transitionProps:{transition:"scale-y"},children:[i.jsx(Y.Target,{children:i.jsx(Me,{label:"Apply demo dataset",children:i.jsx(de,{color:"slate",variant:"subtle","aria-label":"Apply demo dataset",loading:x,children:i.jsx(E,{path:qn})})})}),i.jsxs(Y.Dropdown,{miw:200,children:[i.jsx(Y.Label,{children:"Select a dataset"}),m.map(({label:S,value:y})=>i.jsx(Y.Item,{onClick:()=>b(y),children:S},y))]})]})]}),a&&!w&&i.jsxs(rr,{children:[i.jsx(rr.Target,{children:i.jsx(Ft,{variant:"light",color:"orange",h:28,children:"Unsupported database version"})}),i.jsxs(rr.Dropdown,{children:[i.jsxs(_,{children:["We recommend using at least"," ",i.jsxs(_,{span:!0,c:"bright",children:["SurrealDB ","2.0.0"]})]}),i.jsxs(_,{children:["The current version is"," ",i.jsxs(_,{span:!0,c:"bright",children:["SurrealDB ",j]})]})]})]}),i.jsx(je,{}),(n.changelog==="auto"?s:n.changelog!=="hidden")&&i.jsxs(X,{h:34,size:"xs",radius:"xs",color:"slate",variant:(n.changelog==="auto"?r:n.changelog==="read")?"filled":"gradient",style:{border:"none"},onClick:T,leftSection:i.jsx(E,{path:Rc,left:!0}),children:["See what's new in ","3.1.7"]}),i.jsx(vy,{}),i.jsx(Je,{opened:!!l,onClose:p,children:i.jsx(Kt,{onSubmit:f,children:i.jsxs(U,{children:[i.jsx(le,{style:{flex:1},placeholder:"Enter tab name",value:d,spellCheck:!1,onChange:S=>h(S.target.value),autoFocus:!0,onFocus:S=>S.target.select()}),i.jsx(X,{type:"submit",children:"Rename"})]})})})]})}const zN="_scroller_1h2hm_1",BN="_accordion_1h2hm_6",HN="_accordion-label_1h2hm_21",GN={scroller:zN,accordion:BN,accordionLabel:HN},YN=["EDDSA","ES256","ES384","ES512","HS256","HS384","HS512","PS256","PS384","PS512","RS256","RS384","RS512"];function XN({level:e,existing:t,opened:n,onClose:s}){const[r,o]=v.useState(null),[a,c]=Ee(""),[l,u]=v.useState("RECORD"),[d,h]=v.useState(""),[p,f]=v.useState(""),[g,m]=v.useState(""),[b,x]=Ee(""),[T,w]=Ee(""),[j,N]=Ee(""),[I,C]=Ee(""),[S,y]=Ee(""),[k,P]=Ee(""),[q,Q]=v.useState("keyalg"),[O,R]=Ee("");v.useLayoutEffect(()=>{if(n){const M=e==="DATABASE"?"RECORD":"JWT";o(t),c(t?.name??""),u(t?.kind?.kind??M),h(vl(t?.authenticate??"")),R(t?.comment??""),x(t?.duration?.session?.toString()??""),w(t?.duration?.token?.toString()??"1h"),N(t?.kind?.jwt?.issuer?.key??""),Q("keyalg"),m(""),f(""),C("HS256"),y(""),P(""),t?.kind?.kind==="RECORD"&&(f(vl(t.kind.signup)),m(vl(t.kind.signin)));const A=t?.kind?.jwt?.verify;A&&("url"in A?(Q("url"),P(A.url)):(Q("keyalg"),C(A.alg),y(A.key)))}},[e,n,t]);const D=v.useMemo(()=>[{label:"JWT",value:"JWT"},e==="DATABASE"?{label:"Record",value:"RECORD"}:{label:"Record (database only)",value:"RECORD",disabled:!0}],[e]),$=L(async()=>{try{let M=`DEFINE ACCESS OVERWRITE ${it(a)} ON ${e} TYPE`;l==="RECORD"?(M+=" RECORD",p&&(M+=` SIGNUP ${wl(p)}`),g&&(M+=` SIGNIN ${wl(g)}`),(j||S||k)&&(M+=" WITH JWT",q==="url"?M+=` URL "${k}"`:M+=` ALGORITHM ${I} KEY "${S}"`,j&&(M+=` WITH ISSUER KEY "${j}"`))):l==="JWT"&&(M+=" JWT",q==="url"?M+=` URL "${k}"`:M+=` ALGORITHM ${I} KEY "${S}"`),d&&(M+=` AUTHENTICATE ${wl(d)}`);const A=[];T&&A.push(`FOR TOKEN ${T}`),b&&A.push(`FOR SESSION ${b}`),A.length>0&&(M+=` DURATION ${A.join(", ")}`),O&&(M+=` COMMENT "${O}"`),console.log(M),await qt(M),await It()}catch(M){Rt({title:"Failed to save user",subtitle:M.message})}finally{s()}});return i.jsx(Je,{opened:n,onClose:s,scrollAreaComponent:Fe.Autosize,size:500,title:i.jsx(ve,{children:t?`Viewing access method ${t.name}`:`Create ${e.toLowerCase()} access method`}),children:i.jsxs(Kt,{onSubmit:$,children:[i.jsxs(ft,{defaultValue:"general",children:[i.jsxs(ft.List,{grow:!0,mb:"xl",children:[i.jsx(ft.Tab,{value:"general",children:"General"}),l==="RECORD"&&i.jsx(ft.Tab,{value:"session",children:"Session"}),i.jsx(ft.Tab,{value:"durations",children:"Durations"}),i.jsx(ft.Tab,{value:"jwt",children:"JWT"}),i.jsx(ft.Tab,{value:"comment",children:"Comment"})]}),i.jsx(ft.Panel,{value:"general",children:i.jsxs(B,{gap:"lg",children:[!r&&i.jsx(le,{label:"Access method name",placeholder:"admin",value:a,spellCheck:!1,onChange:c,required:!0}),i.jsx(yt,{withAsterisk:!0,readOnly:!!t,label:"Access type",value:l,onChange:u,data:D}),i.jsx(Zt,{label:"Authentication query",placeholder:"Enter authentication clause",readOnly:!!t,value:d,onChange:h,multiline:!0,height:96})]})}),i.jsx(ft.Panel,{value:"session",children:i.jsxs(B,{gap:"lg",children:[i.jsx(Zt,{label:"Sign up query",placeholder:"CREATE ...",value:p,onChange:f,readOnly:!!t,multiline:!0,height:96}),i.jsx(Zt,{label:"Sign in query",placeholder:"SELECT * FROM ...",value:g,onChange:m,readOnly:!!t,multiline:!0,height:96}),i.jsx(an,{href:"https://surrealdb.com/docs/surrealdb/security/authentication#record-users",children:"Learn more about sign up and sign in queries"})]})}),i.jsx(ft.Panel,{value:"durations",children:i.jsxs(B,{gap:"lg",children:[i.jsx(Zt,{label:"Token duration",description:"The duration of the token used to establish an authenticated session",placeholder:"Enter duration",value:T,onChange:w,readOnly:!!t}),i.jsx(Zt,{label:"Session duration",description:"The duration of the authenticated session established with the token",placeholder:"Enter duration",value:b,onChange:x,readOnly:!!t}),i.jsx(an,{href:"https://surrealdb.com/docs/surrealdb/security/authentication#expiration",children:"Learn more about session and token durations"})]})}),i.jsx(ft.Panel,{value:"jwt",children:i.jsxs(B,{gap:"lg",children:[l==="JWT"&&i.jsx(le,{label:"Issuer key",placeholder:"secret key",value:j,onChange:N,readOnly:!!t}),i.jsx(Lt,{label:"Use JWKS verification",checked:q==="url",disabled:!!t,onChange:M=>{Q(M.target.checked?"url":"keyalg")}}),q==="url"?i.jsx(le,{label:"JWKS Endpoint",placeholder:"https://example.com/.well-known/jwks.json",readOnly:!!t,value:k,onChange:P}):i.jsxs(i.Fragment,{children:[i.jsx(yt,{data:YN,label:"Verify algorithm",value:I,onChange:C,readOnly:!!t}),i.jsx(le,{label:"Verify key",placeholder:"secret key",value:S,onChange:y,readOnly:!!t})]})]})}),i.jsx(ft.Panel,{value:"comment",children:i.jsx(Mo,{placeholder:"Enter optional description for this access method",value:O,onChange:R,readOnly:!!t,rows:5})})]}),i.jsxs(U,{mt:"xl",children:[i.jsx(X,{onClick:s,color:"slate",variant:"light",flex:1,children:"Close"}),r?i.jsx(je,{}):i.jsx(X,{type:"submit",variant:"gradient",flex:1,rightSection:i.jsx(E,{path:Ie}),children:"Create access method"})]})]})})}const WN=[{value:"OWNER",label:"Owner"},{value:"EDITOR",label:"Editor"},{value:"VIEWER",label:"Viewer"}];function ZN({level:e,existing:t,opened:n,onClose:s}){const[r,o]=v.useState(null),[a,c]=Ee(""),[l,u]=Ee(""),[d,h]=v.useState(""),[p,f]=v.useState(""),[g,m]=v.useState([]),[b,x]=Ee("");v.useLayoutEffect(()=>{n&&(o(t),c(t?.name??""),m(t?.roles??[]),x(t?.comment??""),h(t?.duration?.session?.toString()??""),f(t?.duration?.token?.toString()??"1h"),u(""))},[n,t]);const T=L(async()=>{try{let w=`DEFINE USER OVERWRITE ${it(a)} ON ${e}`;r&&!l?w+=` PASSHASH "${r.hash}"`:w+=` PASSWORD "${l}"`,g.length>0&&(w+=` ROLES ${g.join(", ")}`);const j=[];p&&j.push(`FOR TOKEN ${p}`),d&&j.push(`FOR SESSION ${d}`),j.length>0&&(w+=` DURATION ${j.join(", ")}`),b&&(w+=` COMMENT "${b}"`),console.log(w),await qt(w),await It()}catch(w){Rt({title:"Failed to save user",subtitle:w.message})}finally{s()}});return i.jsx(Je,{opened:n,onClose:s,scrollAreaComponent:Fe.Autosize,size:500,title:i.jsx(ve,{children:t?`Editing user ${t.name}`:`Create ${e.toLowerCase()} user`}),children:i.jsxs(Kt,{onSubmit:T,children:[i.jsxs(ft,{defaultValue:"general",children:[i.jsxs(ft.List,{grow:!0,mb:"xl",children:[i.jsx(ft.Tab,{value:"general",children:"General"}),i.jsx(ft.Tab,{value:"durations",children:"Durations"}),i.jsx(ft.Tab,{value:"comment",children:"Comment"})]}),i.jsx(ft.Panel,{value:"general",children:i.jsxs(B,{gap:"lg",children:[!r&&i.jsx(le,{label:"User name",placeholder:"admin",value:a,spellCheck:!1,onChange:c,required:!0}),i.jsx(bo,{label:r?"New password":"Password",description:r?"Leave blank to keep the current password":"The password for this user",placeholder:"Enter password",value:l,spellCheck:!1,onChange:u,required:!r}),i.jsx(Lt.Group,{label:"Select a role",description:"The role of the user on this database",value:g,onChange:m,withAsterisk:!0,children:i.jsx(B,{mt:"xs",children:WN.map(w=>v.createElement(Lt,{...w,key:w.value}))})})]})}),i.jsx(ft.Panel,{value:"durations",children:i.jsxs(B,{gap:"lg",children:[i.jsx(Zt,{label:"Token duration",description:"The duration of the token used to establish an authenticated session",placeholder:"Enter duration",value:p,onChange:f}),i.jsx(Zt,{label:"Session duration",description:"The duration of the authenticated session established with the token",placeholder:"Enter duration",value:d,onChange:h}),i.jsx(an,{href:"https://surrealdb.com/docs/surrealdb/security/authentication#expiration",children:"Learn more about session and token durations"})]})}),i.jsx(ft.Panel,{value:"comment",children:i.jsx(Mo,{placeholder:"Enter optional description for this user",value:b,onChange:x,rows:5})})]}),i.jsxs(U,{mt:"xl",children:[i.jsx(X,{onClick:s,color:"slate",variant:"light",flex:1,children:"Close"}),i.jsx(X,{type:"submit",variant:"gradient",flex:1,rightSection:i.jsx(E,{path:r?tn:Ie}),children:r?"Save user":"Create user"})]})]})})}function JN({level:e,icon:t,color:n,disabled:s,users:r,accesses:o}){const a=ln(),[c,l]=nt(),[u,d]=nt(),[h,p]=v.useState(null),[f,g]=v.useState(null),m=L(()=>{p(null),l.open()}),b=L(()=>{g(null),d.open()}),x=L(k=>{p(k),l.open()}),T=L(k=>{g(k),d.open()}),w=_n({title:"Remove system user",message:`This will remove the user from ${e.toLocaleLowerCase()} authentication and reject any future sign-in attempts. Are you sure?`,onConfirm:async k=>{await qt(`REMOVE USER ${it(k.name)} ON ${e}`),await It()}}),j=_n({title:"Remove access method",message:`This will remove the access method from ${e.toLocaleLowerCase()} authentication and prevent any future sign-in attempts using this method. Are you sure?`,onConfirm:async k=>{await qt(`REMOVE ACCESS ${it(k.name)} ON ${e}`),await It()}}),N=Ci(e),I=N.toLowerCase(),C=r.filter(k=>k.base===e),S=o.filter(k=>k.base===e),y=C.length===0&&S.length===0;return Pe("create-user",k=>{k.level===e&&m()}),i.jsxs(Dn,{title:`${N} Authentication`,icon:t,rightSection:i.jsxs(Y,{position:"bottom",children:[i.jsx(Y.Target,{children:i.jsx(Me,{label:"New authentication...",children:i.jsx(de,{"aria-label":"Create new authentication",disabled:!a||!!s,children:i.jsx(E,{path:Ie})})})}),i.jsxs(Y.Dropdown,{children:[i.jsx(Y.Item,{onClick:m,leftSection:i.jsx(E,{path:yo}),children:"New system user"}),i.jsx(Y.Item,{onClick:b,leftSection:i.jsx(E,{path:Ha}),children:"New access method"})]})]}),children:[s?i.jsxs(G,{maw:250,mx:"auto",children:[i.jsx(_,{c:"slate",ta:"center",mt:"lg",children:s.message}),i.jsx(Ty,{mt:"lg",...s.selector})]}):i.jsxs(i.Fragment,{children:[y&&i.jsxs(_,{c:"slate",ta:"center",mt:"lg",children:["No ",I," authentication found"]}),i.jsx(Fe,{pos:"absolute",top:0,left:12,right:12,bottom:12,classNames:{viewport:GN.scroller},children:i.jsxs(B,{gap:"xl",children:[S.length>0&&i.jsx(mg,{name:"Access Methods",list:S,icon:Ha,color:n,onEdit:T,onRemove:j,onOptions:k=>i.jsxs(Y,{position:"right-start",children:[i.jsx(Y.Target,{children:i.jsx(de,{variant:"subtle",component:G,children:i.jsx(E,{path:vr})})}),i.jsxs(Y.Dropdown,{children:[i.jsx(Y.Item,{onClick:()=>T(k),children:"View access method"}),i.jsx(Y.Item,{onClick:()=>j(k),color:"red",children:"Remove access method"})]})]})}),C.length>0&&i.jsx(mg,{name:"System Users",list:C,icon:yo,color:n,onEdit:x,onRemove:w,onOptions:k=>i.jsxs(Y,{position:"right-start",children:[i.jsx(Y.Target,{children:i.jsx(de,{variant:"subtle",component:G,children:i.jsx(E,{path:vr})})}),i.jsxs(Y.Dropdown,{children:[i.jsx(Y.Item,{onClick:()=>x(k),children:"Edit system user"}),i.jsx(Y.Item,{onClick:()=>w(k),color:"red",children:"Remove system user"})]})]}),onDetails:k=>k.roles.map(P=>Ci(P)).join(", ")})]})})]}),i.jsx(ZN,{opened:c,level:e,onClose:l.close,existing:h}),i.jsx(XN,{opened:u,level:e,onClose:d.close,existing:f})]})}function mg({name:e,list:t,icon:n,color:s,onEdit:r,onRemove:o,onOptions:a,onDetails:c}){const l=Qe();return i.jsxs(G,{children:[i.jsxs(U,{mb:"sm",children:[i.jsx(_,{c:"bright",fw:600,fz:"lg",children:e}),i.jsx(Ft,{color:l?"slate.0":"slate.9",radius:"sm",c:"inherit",children:t.length})]}),i.jsx(B,{gap:4,children:t.map(u=>{const d=c?c(u):"";return i.jsx(Tt,{onClick:()=>r(u),leftSection:i.jsx(E,{path:n,c:s}),rightSection:a&&i.jsx(G,{onClick:ji,children:a(u)}),children:i.jsxs(G,{ta:"start",children:[i.jsx(_,{children:u.name}),d&&i.jsx(_,{c:"slate",fz:"sm",mt:-3,children:d})]})},u.name)})})]})}const Rl=v.memo(JN);function KN(){const e=Cb(),t=kb(),n=qs(),{lastNamespace:s,lastDatabase:r}=Et(),o=v.useMemo(()=>[...e.users,...t.users,...n.users],[e.users,t.users,n.users]),a=v.useMemo(()=>[...e.accesses,...t.accesses,...n.accesses],[e.accesses,t.accesses,n.accesses]);return Fi("authentication",()=>{It()}),i.jsx(i.Fragment,{children:i.jsx(G,{h:"100%",children:i.jsxs(br,{direction:"horizontal",children:[i.jsx(kn,{minSize:15,children:i.jsx(Rl,{level:"ROOT",color:"red",icon:Sj,users:o,accesses:a})}),i.jsx(Ni,{}),i.jsx(kn,{minSize:15,children:i.jsx(Rl,{level:"NAMESPACE",color:"blue",icon:jj,users:o,accesses:a,disabled:!s&&{message:"You need to select a namespace before viewing namespace authentication",selector:{withNamespace:!0}}})}),i.jsx(Ni,{}),i.jsx(kn,{minSize:15,children:i.jsx(Rl,{level:"DATABASE",color:"orange",icon:Tj,users:o,accesses:a,disabled:!r&&{message:"You need to select a database before viewing database authentication",selector:{withDatabase:!0}}})})]})})})}function $t(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,s;n<e.length;n++)(s=$t(e[n]))!==""&&(t+=(t&&" ")+s);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var eI={value:()=>{}};function tl(){for(var e=0,t=arguments.length,n={},s;e<t;++e){if(!(s=arguments[e]+"")||s in n||/[\s.]/.test(s))throw new Error("illegal type: "+s);n[s]=[]}return new $a(n)}function $a(e){this._=e}function tI(e,t){return e.trim().split(/^|\s+/).map(function(n){var s="",r=n.indexOf(".");if(r>=0&&(s=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:s}})}$a.prototype=tl.prototype={constructor:$a,on:function(e,t){var n=this._,s=tI(e+"",n),r,o=-1,a=s.length;if(arguments.length<2){for(;++o<a;)if((r=(e=s[o]).type)&&(r=nI(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(r=(e=s[o]).type)n[r]=bg(n[r],e.name,t);else if(t==null)for(r in n)n[r]=bg(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new $a(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),s=0,r,o;s<r;++s)n[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],s=0,r=o.length;s<r;++s)o[s].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],r=0,o=s.length;r<o;++r)s[r].value.apply(t,n)}};function nI(e,t){for(var n=0,s=e.length,r;n<s;++n)if((r=e[n]).name===t)return r.value}function bg(e,t,n){for(var s=0,r=e.length;s<r;++s)if(e[s].name===t){e[s]=eI,e=e.slice(0,s).concat(e.slice(s+1));break}return n!=null&&e.push({name:t,value:n}),e}var Zu="http://www.w3.org/1999/xhtml";const xg={svg:"http://www.w3.org/2000/svg",xhtml:Zu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),xg.hasOwnProperty(t)?{space:xg[t],local:e}:e}function sI(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Zu&&t.documentElement.namespaceURI===Zu?t.createElement(e):t.createElementNS(n,e)}}function iI(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Cy(e){var t=nl(e);return(t.local?iI:sI)(t)}function rI(){}function Th(e){return e==null?rI:function(){return this.querySelector(e)}}function oI(e){typeof e!="function"&&(e=Th(e));for(var t=this._groups,n=t.length,s=new Array(n),r=0;r<n;++r)for(var o=t[r],a=o.length,c=s[r]=new Array(a),l,u,d=0;d<a;++d)(l=o[d])&&(u=e.call(l,l.__data__,d,o))&&("__data__"in l&&(u.__data__=l.__data__),c[d]=u);return new In(s,this._parents)}function aI(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function cI(){return[]}function _y(e){return e==null?cI:function(){return this.querySelectorAll(e)}}function lI(e){return function(){return aI(e.apply(this,arguments))}}function uI(e){typeof e=="function"?e=lI(e):e=_y(e);for(var t=this._groups,n=t.length,s=[],r=[],o=0;o<n;++o)for(var a=t[o],c=a.length,l,u=0;u<c;++u)(l=a[u])&&(s.push(e.call(l,l.__data__,u,a)),r.push(l));return new In(s,r)}function Ny(e){return function(){return this.matches(e)}}function Iy(e){return function(t){return t.matches(e)}}var dI=Array.prototype.find;function hI(e){return function(){return dI.call(this.children,e)}}function pI(){return this.firstElementChild}function fI(e){return this.select(e==null?pI:hI(typeof e=="function"?e:Iy(e)))}var gI=Array.prototype.filter;function mI(){return Array.from(this.children)}function bI(e){return function(){return gI.call(this.children,e)}}function xI(e){return this.selectAll(e==null?mI:bI(typeof e=="function"?e:Iy(e)))}function yI(e){typeof e!="function"&&(e=Ny(e));for(var t=this._groups,n=t.length,s=new Array(n),r=0;r<n;++r)for(var o=t[r],a=o.length,c=s[r]=[],l,u=0;u<a;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&c.push(l);return new In(s,this._parents)}function Dy(e){return new Array(e.length)}function vI(){return new In(this._enter||this._groups.map(Dy),this._parents)}function gc(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}gc.prototype={constructor:gc,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function wI(e){return function(){return e}}function SI(e,t,n,s,r,o){for(var a=0,c,l=t.length,u=o.length;a<u;++a)(c=t[a])?(c.__data__=o[a],s[a]=c):n[a]=new gc(e,o[a]);for(;a<l;++a)(c=t[a])&&(r[a]=c)}function jI(e,t,n,s,r,o,a){var c,l,u=new Map,d=t.length,h=o.length,p=new Array(d),f;for(c=0;c<d;++c)(l=t[c])&&(p[c]=f=a.call(l,l.__data__,c,t)+"",u.has(f)?r[c]=l:u.set(f,l));for(c=0;c<h;++c)f=a.call(e,o[c],c,o)+"",(l=u.get(f))?(s[c]=l,l.__data__=o[c],u.delete(f)):n[c]=new gc(e,o[c]);for(c=0;c<d;++c)(l=t[c])&&u.get(p[c])===l&&(r[c]=l)}function TI(e){return e.__data__}function EI(e,t){if(!arguments.length)return Array.from(this,TI);var n=t?jI:SI,s=this._parents,r=this._groups;typeof e!="function"&&(e=wI(e));for(var o=r.length,a=new Array(o),c=new Array(o),l=new Array(o),u=0;u<o;++u){var d=s[u],h=r[u],p=h.length,f=kI(e.call(d,d&&d.__data__,u,s)),g=f.length,m=c[u]=new Array(g),b=a[u]=new Array(g),x=l[u]=new Array(p);n(d,h,m,b,x,f,t);for(var T=0,w=0,j,N;T<g;++T)if(j=m[T]){for(T>=w&&(w=T+1);!(N=b[w])&&++w<g;);j._next=N||null}}return a=new In(a,s),a._enter=c,a._exit=l,a}function kI(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function OI(){return new In(this._exit||this._groups.map(Dy),this._parents)}function CI(e,t,n){var s=this.enter(),r=this,o=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?o.remove():n(o),s&&r?s.merge(r).order():r}function _I(e){for(var t=e.selection?e.selection():e,n=this._groups,s=t._groups,r=n.length,o=s.length,a=Math.min(r,o),c=new Array(r),l=0;l<a;++l)for(var u=n[l],d=s[l],h=u.length,p=c[l]=new Array(h),f,g=0;g<h;++g)(f=u[g]||d[g])&&(p[g]=f);for(;l<r;++l)c[l]=n[l];return new In(c,this._parents)}function NI(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var s=e[t],r=s.length-1,o=s[r],a;--r>=0;)(a=s[r])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function II(e){e||(e=DI);function t(h,p){return h&&p?e(h.__data__,p.__data__):!h-!p}for(var n=this._groups,s=n.length,r=new Array(s),o=0;o<s;++o){for(var a=n[o],c=a.length,l=r[o]=new Array(c),u,d=0;d<c;++d)(u=a[d])&&(l[d]=u);l.sort(t)}return new In(r,this._parents).order()}function DI(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function RI(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function AI(){return Array.from(this)}function PI(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var s=e[t],r=0,o=s.length;r<o;++r){var a=s[r];if(a)return a}return null}function $I(){let e=0;for(const t of this)++e;return e}function LI(){return!this.node()}function MI(e){for(var t=this._groups,n=0,s=t.length;n<s;++n)for(var r=t[n],o=0,a=r.length,c;o<a;++o)(c=r[o])&&e.call(c,c.__data__,o,r);return this}function FI(e){return function(){this.removeAttribute(e)}}function qI(e){return function(){this.removeAttributeNS(e.space,e.local)}}function QI(e,t){return function(){this.setAttribute(e,t)}}function VI(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function UI(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function zI(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function BI(e,t){var n=nl(e);if(arguments.length<2){var s=this.node();return n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)}return this.each((t==null?n.local?qI:FI:typeof t=="function"?n.local?zI:UI:n.local?VI:QI)(n,t))}function Ry(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function HI(e){return function(){this.style.removeProperty(e)}}function GI(e,t,n){return function(){this.style.setProperty(e,t,n)}}function YI(e,t,n){return function(){var s=t.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,n)}}function XI(e,t,n){return arguments.length>1?this.each((t==null?HI:typeof t=="function"?YI:GI)(e,t,n??"")):Or(this.node(),e)}function Or(e,t){return e.style.getPropertyValue(t)||Ry(e).getComputedStyle(e,null).getPropertyValue(t)}function WI(e){return function(){delete this[e]}}function ZI(e,t){return function(){this[e]=t}}function JI(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function KI(e,t){return arguments.length>1?this.each((t==null?WI:typeof t=="function"?JI:ZI)(e,t)):this.node()[e]}function Ay(e){return e.trim().split(/^|\s+/)}function Eh(e){return e.classList||new Py(e)}function Py(e){this._node=e,this._names=Ay(e.getAttribute("class")||"")}Py.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function $y(e,t){for(var n=Eh(e),s=-1,r=t.length;++s<r;)n.add(t[s])}function Ly(e,t){for(var n=Eh(e),s=-1,r=t.length;++s<r;)n.remove(t[s])}function eD(e){return function(){$y(this,e)}}function tD(e){return function(){Ly(this,e)}}function nD(e,t){return function(){(t.apply(this,arguments)?$y:Ly)(this,e)}}function sD(e,t){var n=Ay(e+"");if(arguments.length<2){for(var s=Eh(this.node()),r=-1,o=n.length;++r<o;)if(!s.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?nD:t?eD:tD)(n,t))}function iD(){this.textContent=""}function rD(e){return function(){this.textContent=e}}function oD(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function aD(e){return arguments.length?this.each(e==null?iD:(typeof e=="function"?oD:rD)(e)):this.node().textContent}function cD(){this.innerHTML=""}function lD(e){return function(){this.innerHTML=e}}function uD(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function dD(e){return arguments.length?this.each(e==null?cD:(typeof e=="function"?uD:lD)(e)):this.node().innerHTML}function hD(){this.nextSibling&&this.parentNode.appendChild(this)}function pD(){return this.each(hD)}function fD(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function gD(){return this.each(fD)}function mD(e){var t=typeof e=="function"?e:Cy(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function bD(){return null}function xD(e,t){var n=typeof e=="function"?e:Cy(e),s=t==null?bD:typeof t=="function"?t:Th(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}function yD(){var e=this.parentNode;e&&e.removeChild(this)}function vD(){return this.each(yD)}function wD(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function SD(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function jD(e){return this.select(e?SD:wD)}function TD(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ED(e){return function(t){e.call(this,t,this.__data__)}}function kD(e){return e.trim().split(/^|\s+/).map(function(t){var n="",s=t.indexOf(".");return s>=0&&(n=t.slice(s+1),t=t.slice(0,s)),{type:t,name:n}})}function OD(e){return function(){var t=this.__on;if(t){for(var n=0,s=-1,r=t.length,o;n<r;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++s]=o;++s?t.length=s:delete this.__on}}}function CD(e,t,n){return function(){var s=this.__on,r,o=ED(t);if(s){for(var a=0,c=s.length;a<c;++a)if((r=s[a]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),r.value=t;return}}this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},s?s.push(r):this.__on=[r]}}function _D(e,t,n){var s=kD(e+""),r,o=s.length,a;if(arguments.length<2){var c=this.node().__on;if(c){for(var l=0,u=c.length,d;l<u;++l)for(r=0,d=c[l];r<o;++r)if((a=s[r]).type===d.type&&a.name===d.name)return d.value}return}for(c=t?CD:OD,r=0;r<o;++r)this.each(c(s[r],t,n));return this}function My(e,t,n){var s=Ry(e),r=s.CustomEvent;typeof r=="function"?r=new r(t,n):(r=s.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function ND(e,t){return function(){return My(this,e,t)}}function ID(e,t){return function(){return My(this,e,t.apply(this,arguments))}}function DD(e,t){return this.each((typeof t=="function"?ID:ND)(e,t))}function*RD(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var s=e[t],r=0,o=s.length,a;r<o;++r)(a=s[r])&&(yield a)}var Fy=[null];function In(e,t){this._groups=e,this._parents=t}function ia(){return new In([[document.documentElement]],Fy)}function AD(){return this}In.prototype=ia.prototype={constructor:In,select:oI,selectAll:uI,selectChild:fI,selectChildren:xI,filter:yI,data:EI,enter:vI,exit:OI,join:CI,merge:_I,selection:AD,order:NI,sort:II,call:RI,nodes:AI,node:PI,size:$I,empty:LI,each:MI,attr:BI,style:XI,property:KI,classed:sD,text:aD,html:dD,raise:pD,lower:gD,append:mD,insert:xD,remove:vD,clone:jD,datum:TD,on:_D,dispatch:DD,[Symbol.iterator]:RD};function Tn(e){return typeof e=="string"?new In([[document.querySelector(e)]],[document.documentElement]):new In([[e]],Fy)}function PD(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Hn(e,t){if(e=PD(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var s=n.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(t.getScreenCTM().inverse()),[s.x,s.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const $D={passive:!1},To={capture:!0,passive:!1};function Al(e){e.stopImmediatePropagation()}function dr(e){e.preventDefault(),e.stopImmediatePropagation()}function qy(e){var t=e.document.documentElement,n=Tn(e).on("dragstart.drag",dr,To);"onselectstart"in t?n.on("selectstart.drag",dr,To):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Qy(e,t){var n=e.document.documentElement,s=Tn(e).on("dragstart.drag",null);t&&(s.on("click.drag",dr,To),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in n?s.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const xa=e=>()=>e;function Ju(e,{sourceEvent:t,subject:n,target:s,identifier:r,active:o,x:a,y:c,dx:l,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Ju.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function LD(e){return!e.ctrlKey&&!e.button}function MD(){return this.parentNode}function FD(e,t){return t??{x:e.x,y:e.y}}function qD(){return navigator.maxTouchPoints||"ontouchstart"in this}function Vy(){var e=LD,t=MD,n=FD,s=qD,r={},o=tl("start","drag","end"),a=0,c,l,u,d,h=0;function p(j){j.on("mousedown.drag",f).filter(s).on("touchstart.drag",b).on("touchmove.drag",x,$D).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(j,N){if(!(d||!e.call(this,j,N))){var I=w(this,t.call(this,j,N),j,N,"mouse");I&&(Tn(j.view).on("mousemove.drag",g,To).on("mouseup.drag",m,To),qy(j.view),Al(j),u=!1,c=j.clientX,l=j.clientY,I("start",j))}}function g(j){if(dr(j),!u){var N=j.clientX-c,I=j.clientY-l;u=N*N+I*I>h}r.mouse("drag",j)}function m(j){Tn(j.view).on("mousemove.drag mouseup.drag",null),Qy(j.view,u),dr(j),r.mouse("end",j)}function b(j,N){if(e.call(this,j,N)){var I=j.changedTouches,C=t.call(this,j,N),S=I.length,y,k;for(y=0;y<S;++y)(k=w(this,C,j,N,I[y].identifier,I[y]))&&(Al(j),k("start",j,I[y]))}}function x(j){var N=j.changedTouches,I=N.length,C,S;for(C=0;C<I;++C)(S=r[N[C].identifier])&&(dr(j),S("drag",j,N[C]))}function T(j){var N=j.changedTouches,I=N.length,C,S;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),C=0;C<I;++C)(S=r[N[C].identifier])&&(Al(j),S("end",j,N[C]))}function w(j,N,I,C,S,y){var k=o.copy(),P=Hn(y||I,N),q,Q,O;if((O=n.call(j,new Ju("beforestart",{sourceEvent:I,target:p,identifier:S,active:a,x:P[0],y:P[1],dx:0,dy:0,dispatch:k}),C))!=null)return q=O.x-P[0]||0,Q=O.y-P[1]||0,function R(D,$,M){var A=P,H;switch(D){case"start":r[S]=R,H=a++;break;case"end":delete r[S],--a;case"drag":P=Hn(M||$,N),H=a;break}k.call(D,j,new Ju(D,{sourceEvent:$,subject:O,target:p,identifier:S,active:H,x:P[0]+q,y:P[1]+Q,dx:P[0]-A[0],dy:P[1]-A[1],dispatch:k}),C)}}return p.filter=function(j){return arguments.length?(e=typeof j=="function"?j:xa(!!j),p):e},p.container=function(j){return arguments.length?(t=typeof j=="function"?j:xa(j),p):t},p.subject=function(j){return arguments.length?(n=typeof j=="function"?j:xa(j),p):n},p.touchable=function(j){return arguments.length?(s=typeof j=="function"?j:xa(!!j),p):s},p.on=function(){var j=o.on.apply(o,arguments);return j===o?p:j},p.clickDistance=function(j){return arguments.length?(h=(j=+j)*j,p):Math.sqrt(h)},p}function kh(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Uy(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function ra(){}var Eo=.7,mc=1/Eo,hr="\\s*([+-]?\\d+)\\s*",ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",QD=/^#([0-9a-f]{3,8})$/,VD=new RegExp(`^rgb\\(${hr},${hr},${hr}\\)$`),UD=new RegExp(`^rgb\\(${xs},${xs},${xs}\\)$`),zD=new RegExp(`^rgba\\(${hr},${hr},${hr},${ko}\\)$`),BD=new RegExp(`^rgba\\(${xs},${xs},${xs},${ko}\\)$`),HD=new RegExp(`^hsl\\(${ko},${xs},${xs}\\)$`),GD=new RegExp(`^hsla\\(${ko},${xs},${xs},${ko}\\)$`),yg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kh(ra,Oo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vg,formatHex:vg,formatHex8:YD,formatHsl:XD,formatRgb:wg,toString:wg});function vg(){return this.rgb().formatHex()}function YD(){return this.rgb().formatHex8()}function XD(){return zy(this).formatHsl()}function wg(){return this.rgb().formatRgb()}function Oo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=QD.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Sg(t):n===3?new bn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ya(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ya(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=VD.exec(e))?new bn(t[1],t[2],t[3],1):(t=UD.exec(e))?new bn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=zD.exec(e))?ya(t[1],t[2],t[3],t[4]):(t=BD.exec(e))?ya(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=HD.exec(e))?Eg(t[1],t[2]/100,t[3]/100,1):(t=GD.exec(e))?Eg(t[1],t[2]/100,t[3]/100,t[4]):yg.hasOwnProperty(e)?Sg(yg[e]):e==="transparent"?new bn(NaN,NaN,NaN,0):null}function Sg(e){return new bn(e>>16&255,e>>8&255,e&255,1)}function ya(e,t,n,s){return s<=0&&(e=t=n=NaN),new bn(e,t,n,s)}function WD(e){return e instanceof ra||(e=Oo(e)),e?(e=e.rgb(),new bn(e.r,e.g,e.b,e.opacity)):new bn}function Ku(e,t,n,s){return arguments.length===1?WD(e):new bn(e,t,n,s??1)}function bn(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}kh(bn,Ku,Uy(ra,{brighter(e){return e=e==null?mc:Math.pow(mc,e),new bn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Eo:Math.pow(Eo,e),new bn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new bn(Ei(this.r),Ei(this.g),Ei(this.b),bc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jg,formatHex:jg,formatHex8:ZD,formatRgb:Tg,toString:Tg}));function jg(){return`#${xi(this.r)}${xi(this.g)}${xi(this.b)}`}function ZD(){return`#${xi(this.r)}${xi(this.g)}${xi(this.b)}${xi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Tg(){const e=bc(this.opacity);return`${e===1?"rgb(":"rgba("}${Ei(this.r)}, ${Ei(this.g)}, ${Ei(this.b)}${e===1?")":`, ${e})`}`}function bc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ei(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xi(e){return e=Ei(e),(e<16?"0":"")+e.toString(16)}function Eg(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Xn(e,t,n,s)}function zy(e){if(e instanceof Xn)return new Xn(e.h,e.s,e.l,e.opacity);if(e instanceof ra||(e=Oo(e)),!e)return new Xn;if(e instanceof Xn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,s=e.b/255,r=Math.min(t,n,s),o=Math.max(t,n,s),a=NaN,c=o-r,l=(o+r)/2;return c?(t===o?a=(n-s)/c+(n<s)*6:n===o?a=(s-t)/c+2:a=(t-n)/c+4,c/=l<.5?o+r:2-o-r,a*=60):c=l>0&&l<1?0:a,new Xn(a,c,l,e.opacity)}function JD(e,t,n,s){return arguments.length===1?zy(e):new Xn(e,t,n,s??1)}function Xn(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}kh(Xn,JD,Uy(ra,{brighter(e){return e=e==null?mc:Math.pow(mc,e),new Xn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Eo:Math.pow(Eo,e),new Xn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,r=2*n-s;return new bn(Pl(e>=240?e-240:e+120,r,s),Pl(e,r,s),Pl(e<120?e+240:e-120,r,s),this.opacity)},clamp(){return new Xn(kg(this.h),va(this.s),va(this.l),bc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bc(this.opacity);return`${e===1?"hsl(":"hsla("}${kg(this.h)}, ${va(this.s)*100}%, ${va(this.l)*100}%${e===1?")":`, ${e})`}`}}));function kg(e){return e=(e||0)%360,e<0?e+360:e}function va(e){return Math.max(0,Math.min(1,e||0))}function Pl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const By=e=>()=>e;function KD(e,t){return function(n){return e+n*t}}function eR(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function tR(e){return(e=+e)==1?Hy:function(t,n){return n-t?eR(t,n,e):By(isNaN(t)?n:t)}}function Hy(e,t){var n=t-e;return n?KD(e,n):By(isNaN(e)?t:e)}const Og=function e(t){var n=tR(t);function s(r,o){var a=n((r=Ku(r)).r,(o=Ku(o)).r),c=n(r.g,o.g),l=n(r.b,o.b),u=Hy(r.opacity,o.opacity);return function(d){return r.r=a(d),r.g=c(d),r.b=l(d),r.opacity=u(d),r+""}}return s.gamma=e,s}(1);function Ys(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ed=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$l=new RegExp(ed.source,"g");function nR(e){return function(){return e}}function sR(e){return function(t){return e(t)+""}}function iR(e,t){var n=ed.lastIndex=$l.lastIndex=0,s,r,o,a=-1,c=[],l=[];for(e=e+"",t=t+"";(s=ed.exec(e))&&(r=$l.exec(t));)(o=r.index)>n&&(o=t.slice(n,o),c[a]?c[a]+=o:c[++a]=o),(s=s[0])===(r=r[0])?c[a]?c[a]+=r:c[++a]=r:(c[++a]=null,l.push({i:a,x:Ys(s,r)})),n=$l.lastIndex;return n<t.length&&(o=t.slice(n),c[a]?c[a]+=o:c[++a]=o),c.length<2?l[0]?sR(l[0].x):nR(t):(t=l.length,function(u){for(var d=0,h;d<t;++d)c[(h=l[d]).i]=h.x(u);return c.join("")})}var Cg=180/Math.PI,td={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Gy(e,t,n,s,r,o){var a,c,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*s)&&(n-=e*l,s-=t*l),(c=Math.sqrt(n*n+s*s))&&(n/=c,s/=c,l/=c),e*s<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*Cg,skewX:Math.atan(l)*Cg,scaleX:a,scaleY:c}}var wa;function rR(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?td:Gy(t.a,t.b,t.c,t.d,t.e,t.f)}function oR(e){return e==null||(wa||(wa=document.createElementNS("http://www.w3.org/2000/svg","g")),wa.setAttribute("transform",e),!(e=wa.transform.baseVal.consolidate()))?td:(e=e.matrix,Gy(e.a,e.b,e.c,e.d,e.e,e.f))}function Yy(e,t,n,s){function r(u){return u.length?u.pop()+" ":""}function o(u,d,h,p,f,g){if(u!==h||d!==p){var m=f.push("translate(",null,t,null,n);g.push({i:m-4,x:Ys(u,h)},{i:m-2,x:Ys(d,p)})}else(h||p)&&f.push("translate("+h+t+p+n)}function a(u,d,h,p){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),p.push({i:h.push(r(h)+"rotate(",null,s)-2,x:Ys(u,d)})):d&&h.push(r(h)+"rotate("+d+s)}function c(u,d,h,p){u!==d?p.push({i:h.push(r(h)+"skewX(",null,s)-2,x:Ys(u,d)}):d&&h.push(r(h)+"skewX("+d+s)}function l(u,d,h,p,f,g){if(u!==h||d!==p){var m=f.push(r(f)+"scale(",null,",",null,")");g.push({i:m-4,x:Ys(u,h)},{i:m-2,x:Ys(d,p)})}else(h!==1||p!==1)&&f.push(r(f)+"scale("+h+","+p+")")}return function(u,d){var h=[],p=[];return u=e(u),d=e(d),o(u.translateX,u.translateY,d.translateX,d.translateY,h,p),a(u.rotate,d.rotate,h,p),c(u.skewX,d.skewX,h,p),l(u.scaleX,u.scaleY,d.scaleX,d.scaleY,h,p),u=d=null,function(f){for(var g=-1,m=p.length,b;++g<m;)h[(b=p[g]).i]=b.x(f);return h.join("")}}}var aR=Yy(rR,"px, ","px)","deg)"),cR=Yy(oR,", ",")",")"),lR=1e-12;function _g(e){return((e=Math.exp(e))+1/e)/2}function uR(e){return((e=Math.exp(e))-1/e)/2}function dR(e){return((e=Math.exp(2*e))-1)/(e+1)}const hR=function e(t,n,s){function r(o,a){var c=o[0],l=o[1],u=o[2],d=a[0],h=a[1],p=a[2],f=d-c,g=h-l,m=f*f+g*g,b,x;if(m<lR)x=Math.log(p/u)/t,b=function(C){return[c+C*f,l+C*g,u*Math.exp(t*C*x)]};else{var T=Math.sqrt(m),w=(p*p-u*u+s*m)/(2*u*n*T),j=(p*p-u*u-s*m)/(2*p*n*T),N=Math.log(Math.sqrt(w*w+1)-w),I=Math.log(Math.sqrt(j*j+1)-j);x=(I-N)/t,b=function(C){var S=C*x,y=_g(N),k=u/(n*T)*(y*dR(t*S+N)-uR(N));return[c+k*f,l+k*g,u*y/_g(t*S+N)]}}return b.duration=x*1e3*t/Math.SQRT2,b}return r.rho=function(o){var a=Math.max(.001,+o),c=a*a,l=c*c;return e(a,c,l)},r}(Math.SQRT2,2,4);var Cr=0,io=0,Xr=0,Xy=1e3,xc,ro,yc=0,$i=0,sl=0,Co=typeof performance=="object"&&performance.now?performance:Date,Wy=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Oh(){return $i||(Wy(pR),$i=Co.now()+sl)}function pR(){$i=0}function vc(){this._call=this._time=this._next=null}vc.prototype=Zy.prototype={constructor:vc,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Oh():+n)+(t==null?0:+t),!this._next&&ro!==this&&(ro?ro._next=this:xc=this,ro=this),this._call=e,this._time=n,nd()},stop:function(){this._call&&(this._call=null,this._time=1/0,nd())}};function Zy(e,t,n){var s=new vc;return s.restart(e,t,n),s}function fR(){Oh(),++Cr;for(var e=xc,t;e;)(t=$i-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Cr}function Ng(){$i=(yc=Co.now())+sl,Cr=io=0;try{fR()}finally{Cr=0,mR(),$i=0}}function gR(){var e=Co.now(),t=e-yc;t>Xy&&(sl-=t,yc=e)}function mR(){for(var e,t=xc,n,s=1/0;t;)t._call?(s>t._time&&(s=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:xc=n);ro=e,nd(s)}function nd(e){if(!Cr){io&&(io=clearTimeout(io));var t=e-$i;t>24?(e<1/0&&(io=setTimeout(Ng,e-Co.now()-sl)),Xr&&(Xr=clearInterval(Xr))):(Xr||(yc=Co.now(),Xr=setInterval(gR,Xy)),Cr=1,Wy(Ng))}}function Ig(e,t,n){var s=new vc;return t=t==null?0:+t,s.restart(r=>{s.stop(),e(r+t)},t,n),s}var bR=tl("start","end","cancel","interrupt"),xR=[],Jy=0,Dg=1,sd=2,La=3,Rg=4,id=5,Ma=6;function il(e,t,n,s,r,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;yR(e,n,{name:t,index:s,group:r,on:bR,tween:xR,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Jy})}function Ch(e,t){var n=cs(e,t);if(n.state>Jy)throw new Error("too late; already scheduled");return n}function Ts(e,t){var n=cs(e,t);if(n.state>La)throw new Error("too late; already running");return n}function cs(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function yR(e,t,n){var s=e.__transition,r;s[t]=n,n.timer=Zy(o,0,n.time);function o(u){n.state=Dg,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var d,h,p,f;if(n.state!==Dg)return l();for(d in s)if(f=s[d],f.name===n.name){if(f.state===La)return Ig(a);f.state===Rg?(f.state=Ma,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete s[d]):+d<t&&(f.state=Ma,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete s[d])}if(Ig(function(){n.state===La&&(n.state=Rg,n.timer.restart(c,n.delay,n.time),c(u))}),n.state=sd,n.on.call("start",e,e.__data__,n.index,n.group),n.state===sd){for(n.state=La,r=new Array(p=n.tween.length),d=0,h=-1;d<p;++d)(f=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(r[++h]=f);r.length=h+1}}function c(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=id,1),h=-1,p=r.length;++h<p;)r[h].call(e,d);n.state===id&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Ma,n.timer.stop(),delete s[t];for(var u in s)return;delete e.__transition}}function Fa(e,t){var n=e.__transition,s,r,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((s=n[a]).name!==t){o=!1;continue}r=s.state>sd&&s.state<id,s.state=Ma,s.timer.stop(),s.on.call(r?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete n[a]}o&&delete e.__transition}}function vR(e){return this.each(function(){Fa(this,e)})}function wR(e,t){var n,s;return function(){var r=Ts(this,e),o=r.tween;if(o!==n){s=n=o;for(var a=0,c=s.length;a<c;++a)if(s[a].name===t){s=s.slice(),s.splice(a,1);break}}r.tween=s}}function SR(e,t,n){var s,r;if(typeof n!="function")throw new Error;return function(){var o=Ts(this,e),a=o.tween;if(a!==s){r=(s=a).slice();for(var c={name:t,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===t){r[l]=c;break}l===u&&r.push(c)}o.tween=r}}function jR(e,t){var n=this._id;if(e+="",arguments.length<2){for(var s=cs(this.node(),n).tween,r=0,o=s.length,a;r<o;++r)if((a=s[r]).name===e)return a.value;return null}return this.each((t==null?wR:SR)(n,e,t))}function _h(e,t,n){var s=e._id;return e.each(function(){var r=Ts(this,s);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return cs(r,s).value[t]}}function Ky(e,t){var n;return(typeof t=="number"?Ys:t instanceof Oo?Og:(n=Oo(t))?(t=n,Og):iR)(e,t)}function TR(e){return function(){this.removeAttribute(e)}}function ER(e){return function(){this.removeAttributeNS(e.space,e.local)}}function kR(e,t,n){var s,r=n+"",o;return function(){var a=this.getAttribute(e);return a===r?null:a===s?o:o=t(s=a,n)}}function OR(e,t,n){var s,r=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===r?null:a===s?o:o=t(s=a,n)}}function CR(e,t,n){var s,r,o;return function(){var a,c=n(this),l;return c==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=c+"",a===l?null:a===s&&l===r?o:(r=l,o=t(s=a,c)))}}function _R(e,t,n){var s,r,o;return function(){var a,c=n(this),l;return c==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=c+"",a===l?null:a===s&&l===r?o:(r=l,o=t(s=a,c)))}}function NR(e,t){var n=nl(e),s=n==="transform"?cR:Ky;return this.attrTween(e,typeof t=="function"?(n.local?_R:CR)(n,s,_h(this,"attr."+e,t)):t==null?(n.local?ER:TR)(n):(n.local?OR:kR)(n,s,t))}function IR(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function DR(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function RR(e,t){var n,s;function r(){var o=t.apply(this,arguments);return o!==s&&(n=(s=o)&&DR(e,o)),n}return r._value=t,r}function AR(e,t){var n,s;function r(){var o=t.apply(this,arguments);return o!==s&&(n=(s=o)&&IR(e,o)),n}return r._value=t,r}function PR(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var s=nl(e);return this.tween(n,(s.local?RR:AR)(s,t))}function $R(e,t){return function(){Ch(this,e).delay=+t.apply(this,arguments)}}function LR(e,t){return t=+t,function(){Ch(this,e).delay=t}}function MR(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?$R:LR)(t,e)):cs(this.node(),t).delay}function FR(e,t){return function(){Ts(this,e).duration=+t.apply(this,arguments)}}function qR(e,t){return t=+t,function(){Ts(this,e).duration=t}}function QR(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?FR:qR)(t,e)):cs(this.node(),t).duration}function VR(e,t){if(typeof t!="function")throw new Error;return function(){Ts(this,e).ease=t}}function UR(e){var t=this._id;return arguments.length?this.each(VR(t,e)):cs(this.node(),t).ease}function zR(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ts(this,e).ease=n}}function BR(e){if(typeof e!="function")throw new Error;return this.each(zR(this._id,e))}function HR(e){typeof e!="function"&&(e=Ny(e));for(var t=this._groups,n=t.length,s=new Array(n),r=0;r<n;++r)for(var o=t[r],a=o.length,c=s[r]=[],l,u=0;u<a;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&c.push(l);return new Ms(s,this._parents,this._name,this._id)}function GR(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,s=t.length,r=n.length,o=Math.min(s,r),a=new Array(s),c=0;c<o;++c)for(var l=t[c],u=n[c],d=l.length,h=a[c]=new Array(d),p,f=0;f<d;++f)(p=l[f]||u[f])&&(h[f]=p);for(;c<s;++c)a[c]=t[c];return new Ms(a,this._parents,this._name,this._id)}function YR(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function XR(e,t,n){var s,r,o=YR(t)?Ch:Ts;return function(){var a=o(this,e),c=a.on;c!==s&&(r=(s=c).copy()).on(t,n),a.on=r}}function WR(e,t){var n=this._id;return arguments.length<2?cs(this.node(),n).on.on(e):this.each(XR(n,e,t))}function ZR(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function JR(){return this.on("end.remove",ZR(this._id))}function KR(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Th(e));for(var s=this._groups,r=s.length,o=new Array(r),a=0;a<r;++a)for(var c=s[a],l=c.length,u=o[a]=new Array(l),d,h,p=0;p<l;++p)(d=c[p])&&(h=e.call(d,d.__data__,p,c))&&("__data__"in d&&(h.__data__=d.__data__),u[p]=h,il(u[p],t,n,p,u,cs(d,n)));return new Ms(o,this._parents,t,n)}function eA(e){var t=this._name,n=this._id;typeof e!="function"&&(e=_y(e));for(var s=this._groups,r=s.length,o=[],a=[],c=0;c<r;++c)for(var l=s[c],u=l.length,d,h=0;h<u;++h)if(d=l[h]){for(var p=e.call(d,d.__data__,h,l),f,g=cs(d,n),m=0,b=p.length;m<b;++m)(f=p[m])&&il(f,t,n,m,p,g);o.push(p),a.push(d)}return new Ms(o,a,t,n)}var tA=ia.prototype.constructor;function nA(){return new tA(this._groups,this._parents)}function sA(e,t){var n,s,r;return function(){var o=Or(this,e),a=(this.style.removeProperty(e),Or(this,e));return o===a?null:o===n&&a===s?r:r=t(n=o,s=a)}}function ev(e){return function(){this.style.removeProperty(e)}}function iA(e,t,n){var s,r=n+"",o;return function(){var a=Or(this,e);return a===r?null:a===s?o:o=t(s=a,n)}}function rA(e,t,n){var s,r,o;return function(){var a=Or(this,e),c=n(this),l=c+"";return c==null&&(l=c=(this.style.removeProperty(e),Or(this,e))),a===l?null:a===s&&l===r?o:(r=l,o=t(s=a,c))}}function oA(e,t){var n,s,r,o="style."+t,a="end."+o,c;return function(){var l=Ts(this,e),u=l.on,d=l.value[o]==null?c||(c=ev(t)):void 0;(u!==n||r!==d)&&(s=(n=u).copy()).on(a,r=d),l.on=s}}function aA(e,t,n){var s=(e+="")=="transform"?aR:Ky;return t==null?this.styleTween(e,sA(e,s)).on("end.style."+e,ev(e)):typeof t=="function"?this.styleTween(e,rA(e,s,_h(this,"style."+e,t))).each(oA(this._id,e)):this.styleTween(e,iA(e,s,t),n).on("end.style."+e,null)}function cA(e,t,n){return function(s){this.style.setProperty(e,t.call(this,s),n)}}function lA(e,t,n){var s,r;function o(){var a=t.apply(this,arguments);return a!==r&&(s=(r=a)&&cA(e,a,n)),s}return o._value=t,o}function uA(e,t,n){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,lA(e,t,n??""))}function dA(e){return function(){this.textContent=e}}function hA(e){return function(){var t=e(this);this.textContent=t??""}}function pA(e){return this.tween("text",typeof e=="function"?hA(_h(this,"text",e)):dA(e==null?"":e+""))}function fA(e){return function(t){this.textContent=e.call(this,t)}}function gA(e){var t,n;function s(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&fA(r)),t}return s._value=e,s}function mA(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,gA(e))}function bA(){for(var e=this._name,t=this._id,n=tv(),s=this._groups,r=s.length,o=0;o<r;++o)for(var a=s[o],c=a.length,l,u=0;u<c;++u)if(l=a[u]){var d=cs(l,t);il(l,e,n,u,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Ms(s,this._parents,e,n)}function xA(){var e,t,n=this,s=n._id,r=n.size();return new Promise(function(o,a){var c={value:a},l={value:function(){--r===0&&o()}};n.each(function(){var u=Ts(this,s),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(l)),u.on=t}),r===0&&o()})}var yA=0;function Ms(e,t,n,s){this._groups=e,this._parents=t,this._name=n,this._id=s}function tv(){return++yA}var Os=ia.prototype;Ms.prototype={constructor:Ms,select:KR,selectAll:eA,selectChild:Os.selectChild,selectChildren:Os.selectChildren,filter:HR,merge:GR,selection:nA,transition:bA,call:Os.call,nodes:Os.nodes,node:Os.node,size:Os.size,empty:Os.empty,each:Os.each,on:WR,attr:NR,attrTween:PR,style:aA,styleTween:uA,text:pA,textTween:mA,remove:JR,tween:jR,delay:MR,duration:QR,ease:UR,easeVarying:BR,end:xA,[Symbol.iterator]:Os[Symbol.iterator]};function vA(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var wA={time:null,delay:0,duration:250,ease:vA};function SA(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function jA(e){var t,n;e instanceof Ms?(t=e._id,e=e._name):(t=tv(),(n=wA).time=Oh(),e=e==null?null:e+"");for(var s=this._groups,r=s.length,o=0;o<r;++o)for(var a=s[o],c=a.length,l,u=0;u<c;++u)(l=a[u])&&il(l,e,t,u,a,n||SA(l,t));return new Ms(s,this._parents,e,t)}ia.prototype.interrupt=vR;ia.prototype.transition=jA;const Sa=e=>()=>e;function TA(e,{sourceEvent:t,target:n,transform:s,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:r}})}function Ns(e,t,n){this.k=e,this.x=t,this.y=n}Ns.prototype={constructor:Ns,scale:function(e){return e===1?this:new Ns(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ns(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var rl=new Ns(1,0,0);nv.prototype=Ns.prototype;function nv(e){for(;!e.__zoom;)if(!(e=e.parentNode))return rl;return e.__zoom}function Ll(e){e.stopImmediatePropagation()}function Wr(e){e.preventDefault(),e.stopImmediatePropagation()}function EA(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function kA(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ag(){return this.__zoom||rl}function OA(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function CA(){return navigator.maxTouchPoints||"ontouchstart"in this}function _A(e,t,n){var s=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(r>s?(s+r)/2:Math.min(0,s)||Math.max(0,r),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function sv(){var e=EA,t=kA,n=_A,s=OA,r=CA,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],c=250,l=hR,u=tl("start","zoom","end"),d,h,p,f=500,g=150,m=0,b=10;function x(O){O.property("__zoom",Ag).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",y).on("dblclick.zoom",k).filter(r).on("touchstart.zoom",P).on("touchmove.zoom",q).on("touchend.zoom touchcancel.zoom",Q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(O,R,D,$){var M=O.selection?O.selection():O;M.property("__zoom",Ag),O!==M?N(O,R,D,$):M.interrupt().each(function(){I(this,arguments).event($).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},x.scaleBy=function(O,R,D,$){x.scaleTo(O,function(){var M=this.__zoom.k,A=typeof R=="function"?R.apply(this,arguments):R;return M*A},D,$)},x.scaleTo=function(O,R,D,$){x.transform(O,function(){var M=t.apply(this,arguments),A=this.__zoom,H=D==null?j(M):typeof D=="function"?D.apply(this,arguments):D,Z=A.invert(H),z=typeof R=="function"?R.apply(this,arguments):R;return n(w(T(A,z),H,Z),M,a)},D,$)},x.translateBy=function(O,R,D,$){x.transform(O,function(){return n(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof D=="function"?D.apply(this,arguments):D),t.apply(this,arguments),a)},null,$)},x.translateTo=function(O,R,D,$,M){x.transform(O,function(){var A=t.apply(this,arguments),H=this.__zoom,Z=$==null?j(A):typeof $=="function"?$.apply(this,arguments):$;return n(rl.translate(Z[0],Z[1]).scale(H.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof D=="function"?-D.apply(this,arguments):-D),A,a)},$,M)};function T(O,R){return R=Math.max(o[0],Math.min(o[1],R)),R===O.k?O:new Ns(R,O.x,O.y)}function w(O,R,D){var $=R[0]-D[0]*O.k,M=R[1]-D[1]*O.k;return $===O.x&&M===O.y?O:new Ns(O.k,$,M)}function j(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function N(O,R,D,$){O.on("start.zoom",function(){I(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){I(this,arguments).event($).end()}).tween("zoom",function(){var M=this,A=arguments,H=I(M,A).event($),Z=t.apply(M,A),z=D==null?j(Z):typeof D=="function"?D.apply(M,A):D,se=Math.max(Z[1][0]-Z[0][0],Z[1][1]-Z[0][1]),oe=M.__zoom,ne=typeof R=="function"?R.apply(M,A):R,ce=l(oe.invert(z).concat(se/oe.k),ne.invert(z).concat(se/ne.k));return function(he){if(he===1)he=ne;else{var K=ce(he),ee=se/K[2];he=new Ns(ee,z[0]-K[0]*ee,z[1]-K[1]*ee)}H.zoom(null,he)}})}function I(O,R,D){return!D&&O.__zooming||new C(O,R)}function C(O,R){this.that=O,this.args=R,this.active=0,this.sourceEvent=null,this.extent=t.apply(O,R),this.taps=0}C.prototype={event:function(O){return O&&(this.sourceEvent=O),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,R){return this.mouse&&O!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&O!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&O!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){var R=Tn(this.that).datum();u.call(O,this.that,new TA(O,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:u}),R)}};function S(O,...R){if(!e.apply(this,arguments))return;var D=I(this,R).event(O),$=this.__zoom,M=Math.max(o[0],Math.min(o[1],$.k*Math.pow(2,s.apply(this,arguments)))),A=Hn(O);if(D.wheel)(D.mouse[0][0]!==A[0]||D.mouse[0][1]!==A[1])&&(D.mouse[1]=$.invert(D.mouse[0]=A)),clearTimeout(D.wheel);else{if($.k===M)return;D.mouse=[A,$.invert(A)],Fa(this),D.start()}Wr(O),D.wheel=setTimeout(H,g),D.zoom("mouse",n(w(T($,M),D.mouse[0],D.mouse[1]),D.extent,a));function H(){D.wheel=null,D.end()}}function y(O,...R){if(p||!e.apply(this,arguments))return;var D=O.currentTarget,$=I(this,R,!0).event(O),M=Tn(O.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",se,!0),A=Hn(O,D),H=O.clientX,Z=O.clientY;qy(O.view),Ll(O),$.mouse=[A,this.__zoom.invert(A)],Fa(this),$.start();function z(oe){if(Wr(oe),!$.moved){var ne=oe.clientX-H,ce=oe.clientY-Z;$.moved=ne*ne+ce*ce>m}$.event(oe).zoom("mouse",n(w($.that.__zoom,$.mouse[0]=Hn(oe,D),$.mouse[1]),$.extent,a))}function se(oe){M.on("mousemove.zoom mouseup.zoom",null),Qy(oe.view,$.moved),Wr(oe),$.event(oe).end()}}function k(O,...R){if(e.apply(this,arguments)){var D=this.__zoom,$=Hn(O.changedTouches?O.changedTouches[0]:O,this),M=D.invert($),A=D.k*(O.shiftKey?.5:2),H=n(w(T(D,A),$,M),t.apply(this,R),a);Wr(O),c>0?Tn(this).transition().duration(c).call(N,H,$,O):Tn(this).call(x.transform,H,$,O)}}function P(O,...R){if(e.apply(this,arguments)){var D=O.touches,$=D.length,M=I(this,R,O.changedTouches.length===$).event(O),A,H,Z,z;for(Ll(O),H=0;H<$;++H)Z=D[H],z=Hn(Z,this),z=[z,this.__zoom.invert(z),Z.identifier],M.touch0?!M.touch1&&M.touch0[2]!==z[2]&&(M.touch1=z,M.taps=0):(M.touch0=z,A=!0,M.taps=1+!!d);d&&(d=clearTimeout(d)),A&&(M.taps<2&&(h=z[0],d=setTimeout(function(){d=null},f)),Fa(this),M.start())}}function q(O,...R){if(this.__zooming){var D=I(this,R).event(O),$=O.changedTouches,M=$.length,A,H,Z,z;for(Wr(O),A=0;A<M;++A)H=$[A],Z=Hn(H,this),D.touch0&&D.touch0[2]===H.identifier?D.touch0[0]=Z:D.touch1&&D.touch1[2]===H.identifier&&(D.touch1[0]=Z);if(H=D.that.__zoom,D.touch1){var se=D.touch0[0],oe=D.touch0[1],ne=D.touch1[0],ce=D.touch1[1],he=(he=ne[0]-se[0])*he+(he=ne[1]-se[1])*he,K=(K=ce[0]-oe[0])*K+(K=ce[1]-oe[1])*K;H=T(H,Math.sqrt(he/K)),Z=[(se[0]+ne[0])/2,(se[1]+ne[1])/2],z=[(oe[0]+ce[0])/2,(oe[1]+ce[1])/2]}else if(D.touch0)Z=D.touch0[0],z=D.touch0[1];else return;D.zoom("touch",n(w(H,Z,z),D.extent,a))}}function Q(O,...R){if(this.__zooming){var D=I(this,R).event(O),$=O.changedTouches,M=$.length,A,H;for(Ll(O),p&&clearTimeout(p),p=setTimeout(function(){p=null},f),A=0;A<M;++A)H=$[A],D.touch0&&D.touch0[2]===H.identifier?delete D.touch0:D.touch1&&D.touch1[2]===H.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(H=Hn(H,this),Math.hypot(h[0]-H[0],h[1]-H[1])<b)){var Z=Tn(this).on("dblclick.zoom");Z&&Z.apply(this,arguments)}}}return x.wheelDelta=function(O){return arguments.length?(s=typeof O=="function"?O:Sa(+O),x):s},x.filter=function(O){return arguments.length?(e=typeof O=="function"?O:Sa(!!O),x):e},x.touchable=function(O){return arguments.length?(r=typeof O=="function"?O:Sa(!!O),x):r},x.extent=function(O){return arguments.length?(t=typeof O=="function"?O:Sa([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),x):t},x.scaleExtent=function(O){return arguments.length?(o[0]=+O[0],o[1]=+O[1],x):[o[0],o[1]]},x.translateExtent=function(O){return arguments.length?(a[0][0]=+O[0][0],a[1][0]=+O[1][0],a[0][1]=+O[0][1],a[1][1]=+O[1][1],x):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},x.constrain=function(O){return arguments.length?(n=O,x):n},x.duration=function(O){return arguments.length?(c=+O,x):c},x.interpolate=function(O){return arguments.length?(l=O,x):l},x.on=function(){var O=u.on.apply(u,arguments);return O===u?x:O},x.clickDistance=function(O){return arguments.length?(m=(O=+O)*O,x):Math.sqrt(m)},x.tapDistance=function(O){return arguments.length?(b=+O,x):b},x}const Qs={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:s})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:s}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`},_o=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],iv=["Enter"," ","Escape"];var _r;(function(e){e.Strict="strict",e.Loose="loose"})(_r||(_r={}));var ki;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ki||(ki={}));var No;(function(e){e.Partial="partial",e.Full="full"})(No||(No={}));const rv={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Xs;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Xs||(Xs={}));var Oi;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Oi||(Oi={}));var xe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(xe||(xe={}));const Pg={[xe.Left]:xe.Right,[xe.Right]:xe.Left,[xe.Top]:xe.Bottom,[xe.Bottom]:xe.Top};function ov(e){return e===null?null:e?"valid":"invalid"}const av=e=>"id"in e&&"source"in e&&"target"in e,NA=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Nh=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),oa=(e,t=[0,0])=>{const{width:n,height:s}=Vs(e),r=e.origin??t,o=n*r[0],a=s*r[1];return{x:e.position.x-o,y:e.position.y-a}},IA=(e,t={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((s,r)=>{const o=typeof r=="string";let a=!t.nodeLookup&&!o?r:void 0;t.nodeLookup&&(a=o?t.nodeLookup.get(r):Nh(r)?r:t.nodeLookup.get(r.id));const c=a?wc(a,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return ol(s,c)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return al(n)},aa=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(s=>{if(t.filter===void 0||t.filter(s)){const r=wc(s);n=ol(n,r)}}),al(n)},cv=(e,t,[n,s,r]=[0,0,1],o=!1,a=!1)=>{const c={...ca(t,[n,s,r]),width:t.width/r,height:t.height/r},l=[];for(const u of e.values()){const{measured:d,selectable:h=!0,hidden:p=!1}=u;if(a&&!h||p)continue;const f=d.width??u.width??u.initialWidth??null,g=d.height??u.height??u.initialHeight??null,m=Io(c,Ir(u)),b=(f??0)*(g??0),x=o&&m>0;(!u.internals.handleBounds||x||m>=b||u.dragging)&&l.push(u)}return l},DA=(e,t)=>{const n=new Set;return e.forEach(s=>{n.add(s.id)}),t.filter(s=>n.has(s.source)||n.has(s.target))};function rd(e,t){const n=new Map,s=t?.nodes?new Set(t.nodes.map(r=>r.id)):null;return e.forEach(r=>{r.measured.width&&r.measured.height&&(t?.includeHiddenNodes||!r.hidden)&&(!s||s.has(r.id))&&n.set(r.id,r)}),n}async function od({nodes:e,width:t,height:n,panZoom:s,minZoom:r,maxZoom:o},a){if(e.size===0)return Promise.resolve(!1);const c=aa(e),l=Ih(c,t,n,a?.minZoom??r,a?.maxZoom??o,a?.padding??.1);return await s.setViewport(l,{duration:a?.duration}),Promise.resolve(!0)}function lv({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:s=[0,0],nodeExtent:r,onError:o}){const a=n.get(e),c=a.parentId?n.get(a.parentId):void 0,{x:l,y:u}=c?c.internals.positionAbsolute:{x:0,y:0},d=a.origin??s;let h=r;if(a.extent==="parent"&&!a.expandParent)if(!c)o?.("005",Qs.error005());else{const f=c.measured.width,g=c.measured.height;f&&g&&(h=[[l,u],[l+f,u+g]])}else c&&Dr(a.extent)&&(h=[[a.extent[0][0]+l,a.extent[0][1]+u],[a.extent[1][0]+l,a.extent[1][1]+u]]);const p=Dr(h)?Li(t,h,a.measured):t;return{position:{x:p.x-l+a.measured.width*d[0],y:p.y-u+a.measured.height*d[1]},positionAbsolute:p}}async function RA({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:s,onBeforeDelete:r}){const o=new Set(e.map(p=>p.id)),a=[];for(const p of n){if(p.deletable===!1)continue;const f=o.has(p.id),g=!f&&p.parentId&&a.find(m=>m.id===p.parentId);(f||g)&&a.push(p)}const c=new Set(t.map(p=>p.id)),l=s.filter(p=>p.deletable!==!1),d=DA(a,l);for(const p of l)c.has(p.id)&&!d.find(g=>g.id===p.id)&&d.push(p);if(!r)return{edges:d,nodes:a};const h=await r({nodes:a,edges:d});return typeof h=="boolean"?h?{edges:d,nodes:a}:{edges:[],nodes:[]}:h}const Nr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Li=(e={x:0,y:0},t,n)=>({x:Nr(e.x,t[0][0],t[1][0]-(n?.width??0)),y:Nr(e.y,t[0][1],t[1][1]-(n?.height??0))});function uv(e,t,n){const{width:s,height:r}=Vs(n),{x:o,y:a}=n.internals.positionAbsolute;return Li(e,[[o,a],[o+s,a+r]],t)}const $g=(e,t,n)=>e<t?Nr(Math.abs(e-t),1,t)/t:e>n?-Nr(Math.abs(e-n),1,t)/t:0,dv=(e,t,n=15,s=40)=>{const r=$g(e.x,s,t.width-s)*n,o=$g(e.y,s,t.height-s)*n;return[r,o]},ol=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ad=({x:e,y:t,width:n,height:s})=>({x:e,y:t,x2:e+n,y2:t+s}),al=({x:e,y:t,x2:n,y2:s})=>({x:e,y:t,width:n-e,height:s-t}),Ir=(e,t=[0,0])=>{const{x:n,y:s}=Nh(e)?e.internals.positionAbsolute:oa(e,t);return{x:n,y:s,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},wc=(e,t=[0,0])=>{const{x:n,y:s}=Nh(e)?e.internals.positionAbsolute:oa(e,t);return{x:n,y:s,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:s+(e.measured?.height??e.height??e.initialHeight??0)}},hv=(e,t)=>al(ol(ad(e),ad(t))),Io=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),s=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*s)},Lg=e=>Zn(e.width)&&Zn(e.height)&&Zn(e.x)&&Zn(e.y),Zn=e=>!isNaN(e)&&isFinite(e),AA=(e,t)=>{},cl=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),ca=({x:e,y:t},[n,s,r],o=!1,a=[1,1])=>{const c={x:(e-n)/r,y:(t-s)/r};return o?cl(c,a):c},pv=({x:e,y:t},[n,s,r])=>({x:e*r+n,y:t*r+s}),Ih=(e,t,n,s,r,o)=>{const a=t/(e.width*(1+o)),c=n/(e.height*(1+o)),l=Math.min(a,c),u=Nr(l,s,r),d=e.x+e.width/2,h=e.y+e.height/2,p=t/2-d*u,f=n/2-h*u;return{x:p,y:f,zoom:u}},Sc=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Dr(e){return e!==void 0&&e!=="parent"}function Vs(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function Dh(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function fv(e,t={width:0,height:0},n,s,r){const o={...e},a=s.get(n);if(a){const c=a.origin||r;o.x+=a.internals.positionAbsolute.x-(t.width??0)*c[0],o.y+=a.internals.positionAbsolute.y-(t.height??0)*c[1]}return o}function ho(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:s,containerBounds:r}){const{x:o,y:a}=Rs(e),c=ca({x:o-(r?.left??0),y:a-(r?.top??0)},s),{x:l,y:u}=n?cl(c,t):c;return{xSnapped:l,ySnapped:u,...c}}const ll=e=>({width:e.offsetWidth,height:e.offsetHeight}),gv=e=>e.getRootNode?.()||window?.document,PA=["INPUT","SELECT","TEXTAREA"];function cd(e){const t=e.composedPath?.()?.[0]||e.target;return PA.includes(t?.nodeName)||t?.hasAttribute("contenteditable")||!!t?.closest(".nokey")}const mv=e=>"clientX"in e,Rs=(e,t)=>{const n=mv(e),s=n?e.clientX:e.touches?.[0].clientX,r=n?e.clientY:e.touches?.[0].clientY;return{x:s-(t?.left??0),y:r-(t?.top??0)}},Mg=(e,t,n,s,r)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(a=>{const c=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:e,nodeId:r,position:a.getAttribute("data-handlepos"),x:(c.left-n.left)/s,y:(c.top-n.top)/s,...ll(a)}})};function bv({sourceX:e,sourceY:t,targetX:n,targetY:s,sourceControlX:r,sourceControlY:o,targetControlX:a,targetControlY:c}){const l=e*.125+r*.375+a*.375+n*.125,u=t*.125+o*.375+c*.375+s*.125,d=Math.abs(l-e),h=Math.abs(u-t);return[l,u,d,h]}function ja(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Fg({pos:e,x1:t,y1:n,x2:s,y2:r,c:o}){switch(e){case xe.Left:return[t-ja(t-s,o),n];case xe.Right:return[t+ja(s-t,o),n];case xe.Top:return[t,n-ja(n-r,o)];case xe.Bottom:return[t,n+ja(r-n,o)]}}function xv({sourceX:e,sourceY:t,sourcePosition:n=xe.Bottom,targetX:s,targetY:r,targetPosition:o=xe.Top,curvature:a=.25}){const[c,l]=Fg({pos:n,x1:e,y1:t,x2:s,y2:r,c:a}),[u,d]=Fg({pos:o,x1:s,y1:r,x2:e,y2:t,c:a}),[h,p,f,g]=bv({sourceX:e,sourceY:t,targetX:s,targetY:r,sourceControlX:c,sourceControlY:l,targetControlX:u,targetControlY:d});return[`M${e},${t} C${c},${l} ${u},${d} ${s},${r}`,h,p,f,g]}function yv({sourceX:e,sourceY:t,targetX:n,targetY:s}){const r=Math.abs(n-e)/2,o=n<e?n+r:n-r,a=Math.abs(s-t)/2,c=s<t?s+a:s-a;return[o,c,r,a]}function $A({sourceNode:e,targetNode:t,selected:n=!1,zIndex:s=0,elevateOnSelect:r=!1}){if(!r)return s;const o=n||t.selected||e.selected,a=Math.max(e.internals.z||0,t.internals.z||0,1e3);return s+(o?a:0)}function LA({sourceNode:e,targetNode:t,width:n,height:s,transform:r}){const o=ol(wc(e),wc(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const a={x:-r[0]/r[2],y:-r[1]/r[2],width:n/r[2],height:s/r[2]};return Io(a,al(o))>0}const MA=({source:e,sourceHandle:t,target:n,targetHandle:s})=>`xy-edge__${e}${t||""}-${n}${s||""}`,FA=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),qA=(e,t)=>{if(!e.source||!e.target)return t;let n;return av(e)?n={...e}:n={...e,id:MA(e)},FA(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function vv({sourceX:e,sourceY:t,targetX:n,targetY:s}){const[r,o,a,c]=yv({sourceX:e,sourceY:t,targetX:n,targetY:s});return[`M ${e},${t}L ${n},${s}`,r,o,a,c]}const qg={[xe.Left]:{x:-1,y:0},[xe.Right]:{x:1,y:0},[xe.Top]:{x:0,y:-1},[xe.Bottom]:{x:0,y:1}},QA=({source:e,sourcePosition:t=xe.Bottom,target:n})=>t===xe.Left||t===xe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Qg=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function VA({source:e,sourcePosition:t=xe.Bottom,target:n,targetPosition:s=xe.Top,center:r,offset:o}){const a=qg[t],c=qg[s],l={x:e.x+a.x*o,y:e.y+a.y*o},u={x:n.x+c.x*o,y:n.y+c.y*o},d=QA({source:l,sourcePosition:t,target:u}),h=d.x!==0?"x":"y",p=d[h];let f=[],g,m;const b={x:0,y:0},x={x:0,y:0},[T,w,j,N]=yv({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[h]*c[h]===-1){g=r.x??T,m=r.y??w;const C=[{x:g,y:l.y},{x:g,y:u.y}],S=[{x:l.x,y:m},{x:u.x,y:m}];a[h]===p?f=h==="x"?C:S:f=h==="x"?S:C}else{const C=[{x:l.x,y:u.y}],S=[{x:u.x,y:l.y}];if(h==="x"?f=a.x===p?S:C:f=a.y===p?C:S,t===s){const Q=Math.abs(e[h]-n[h]);if(Q<=o){const O=Math.min(o-1,o-Q);a[h]===p?b[h]=(l[h]>e[h]?-1:1)*O:x[h]=(u[h]>n[h]?-1:1)*O}}if(t!==s){const Q=h==="x"?"y":"x",O=a[h]===c[Q],R=l[Q]>u[Q],D=l[Q]<u[Q];(a[h]===1&&(!O&&R||O&&D)||a[h]!==1&&(!O&&D||O&&R))&&(f=h==="x"?C:S)}const y={x:l.x+b.x,y:l.y+b.y},k={x:u.x+x.x,y:u.y+x.y},P=Math.max(Math.abs(y.x-f[0].x),Math.abs(k.x-f[0].x)),q=Math.max(Math.abs(y.y-f[0].y),Math.abs(k.y-f[0].y));P>=q?(g=(y.x+k.x)/2,m=f[0].y):(g=f[0].x,m=(y.y+k.y)/2)}return[[e,{x:l.x+b.x,y:l.y+b.y},...f,{x:u.x+x.x,y:u.y+x.y},n],g,m,j,N]}function UA(e,t,n,s){const r=Math.min(Qg(e,t)/2,Qg(t,n)/2,s),{x:o,y:a}=t;if(e.x===o&&o===n.x||e.y===a&&a===n.y)return`L${o} ${a}`;if(e.y===a){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${o+r*u},${a}Q ${o},${a} ${o},${a+r*d}`}const c=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${a+r*l}Q ${o},${a} ${o+r*c},${a}`}function ld({sourceX:e,sourceY:t,sourcePosition:n=xe.Bottom,targetX:s,targetY:r,targetPosition:o=xe.Top,borderRadius:a=5,centerX:c,centerY:l,offset:u=20}){const[d,h,p,f,g]=VA({source:{x:e,y:t},sourcePosition:n,target:{x:s,y:r},targetPosition:o,center:{x:c,y:l},offset:u});return[d.reduce((b,x,T)=>{let w="";return T>0&&T<d.length-1?w=UA(d[T-1],x,d[T+1],a):w=`${T===0?"M":"L"}${x.x} ${x.y}`,b+=w,b},""),h,p,f,g]}function Vg(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function zA(e){const{sourceNode:t,targetNode:n}=e;if(!Vg(t)||!Vg(n))return null;const s=t.internals.handleBounds||Ug(t.handles),r=n.internals.handleBounds||Ug(n.handles),o=zg(s?.source??[],e.sourceHandle),a=zg(e.connectionMode===_r.Strict?r?.target??[]:(r?.target??[]).concat(r?.source??[]),e.targetHandle);if(!o||!a)return e.onError?.("008",Qs.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const c=o?.position||xe.Bottom,l=a?.position||xe.Top,u=Do(t,o,c),d=Do(n,a,l);return{sourceX:u.x,sourceY:u.y,targetX:d.x,targetY:d.y,sourcePosition:c,targetPosition:l}}function Ug(e){if(!e)return null;const t=[],n=[];for(const s of e)s.width=s.width??1,s.height=s.height??1,s.type==="source"?t.push(s):s.type==="target"&&n.push(s);return{source:t,target:n}}function Do(e,t,n=xe.Left,s=!1){const r=(t?.x??0)+e.internals.positionAbsolute.x,o=(t?.y??0)+e.internals.positionAbsolute.y,{width:a,height:c}=t??Vs(e);if(s)return{x:r+a/2,y:o+c/2};switch(t?.position??n){case xe.Top:return{x:r+a/2,y:o};case xe.Right:return{x:r+a,y:o+c/2};case xe.Bottom:return{x:r+a/2,y:o+c};case xe.Left:return{x:r,y:o+c/2}}}function zg(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function ud(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(s=>`${s}=${e[s]}`).join("&")}`:""}function BA(e,{id:t,defaultColor:n,defaultMarkerStart:s,defaultMarkerEnd:r}){const o=new Set;return e.reduce((a,c)=>([c.markerStart||s,c.markerEnd||r].forEach(l=>{if(l&&typeof l=="object"){const u=ud(l,t);o.has(u)||(a.push({id:u,color:l.color||n,...l}),o.add(u))}}),a),[]).sort((a,c)=>a.id.localeCompare(c.id))}const Rh={nodeOrigin:[0,0],nodeExtent:_o,elevateNodesOnSelect:!0,defaults:{}},HA={...Rh,checkEquality:!0};function Ah(e,t){const n={...e};for(const s in t)t[s]!==void 0&&(n[s]=t[s]);return n}function GA(e,t,n){const s=Ah(Rh,n);for(const r of e.values())if(r.parentId)Ph(r,e,t,s);else{const o=oa(r,s.nodeOrigin),a=Dr(r.extent)?r.extent:s.nodeExtent,c=Li(o,a,Vs(r));r.internals.positionAbsolute=c}}function dd(e,t,n,s){const r=Ah(HA,s),o=new Map(t),a=r?.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const c of e){let l=o.get(c.id);if(r.checkEquality&&c===l?.internals.userNode)t.set(c.id,l);else{const u=oa(c,r.nodeOrigin),d=Dr(c.extent)?c.extent:r.nodeExtent,h=Li(u,d,Vs(c));l={...r.defaults,...c,measured:{width:c.measured?.width,height:c.measured?.height},internals:{positionAbsolute:h,handleBounds:c.measured?l?.internals.handleBounds:void 0,z:wv(c,a),userNode:c}},t.set(c.id,l)}c.parentId&&Ph(l,t,n,s)}}function YA(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Ph(e,t,n,s){const{elevateNodesOnSelect:r,nodeOrigin:o,nodeExtent:a}=Ah(Rh,s),c=e.parentId,l=t.get(c);if(!l){console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}YA(e,n);const u=r?1e3:0,{x:d,y:h,z:p}=XA(e,l,o,a,u),{positionAbsolute:f}=e.internals,g=d!==f.x||h!==f.y;(g||p!==e.internals.z)&&(e.internals={...e.internals,positionAbsolute:g?{x:d,y:h}:f,z:p})}function wv(e,t){return(Zn(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function XA(e,t,n,s,r){const{x:o,y:a}=t.internals.positionAbsolute,c=Vs(e),l=oa(e,n),u=Dr(e.extent)?Li(l,e.extent,c):l;let d=Li({x:o+u.x,y:a+u.y},s,c);e.extent==="parent"&&(d=uv(d,c,t));const h=wv(e,r),p=t.internals.z??0;return{x:d.x,y:d.y,z:p>h?p:h}}function $h(e,t,n,s=[0,0]){const r=[],o=new Map;for(const a of e){const c=t.get(a.parentId);if(!c)continue;const l=o.get(a.parentId)?.expandedRect??Ir(c),u=hv(l,a.rect);o.set(a.parentId,{expandedRect:u,parent:c})}return o.size>0&&o.forEach(({expandedRect:a,parent:c},l)=>{const u=c.internals.positionAbsolute,d=Vs(c),h=c.origin??s,p=a.x<u.x?Math.round(Math.abs(u.x-a.x)):0,f=a.y<u.y?Math.round(Math.abs(u.y-a.y)):0,g=Math.max(d.width,Math.round(a.width)),m=Math.max(d.height,Math.round(a.height)),b=(g-d.width)*h[0],x=(m-d.height)*h[1];(p>0||f>0||b||x)&&(r.push({id:l,type:"position",position:{x:c.position.x-p+b,y:c.position.y-f+x}}),n.get(l)?.forEach(T=>{e.some(w=>w.id===T.id)||r.push({id:T.id,type:"position",position:{x:T.position.x+p,y:T.position.y+f}})})),(d.width<a.width||d.height<a.height||p||f)&&r.push({id:l,type:"dimensions",setAttributes:!0,dimensions:{width:g+(p?h[0]*p-b:0),height:m+(f?h[1]*f-x:0)}})}),r}function WA(e,t,n,s,r,o){const a=s?.querySelector(".xyflow__viewport");let c=!1;if(!a)return{changes:[],updatedInternals:c};const l=[],u=window.getComputedStyle(a),{m22:d}=new window.DOMMatrixReadOnly(u.transform),h=[];for(const p of e.values()){const f=t.get(p.id);if(f)if(f.hidden)f.internals={...f.internals,handleBounds:void 0},c=!0;else{const g=ll(p.nodeElement),m=f.measured.width!==g.width||f.measured.height!==g.height;if(!!(g.width&&g.height&&(m||!f.internals.handleBounds||p.force))){const x=p.nodeElement.getBoundingClientRect(),T=Dr(f.extent)?f.extent:o;let{positionAbsolute:w}=f.internals;f.parentId&&f.extent==="parent"?w=uv(w,g,t.get(f.parentId)):T&&(w=Li(w,T,g)),f.measured=g,f.internals={...f.internals,positionAbsolute:w,handleBounds:{source:Mg("source",p.nodeElement,x,d,f.id),target:Mg("target",p.nodeElement,x,d,f.id)}},f.parentId&&Ph(f,t,n,{nodeOrigin:r}),c=!0,m&&(l.push({id:f.id,type:"dimensions",dimensions:g}),f.expandParent&&f.parentId&&h.push({id:f.id,parentId:f.parentId,rect:Ir(f,r)}))}}}if(h.length>0){const p=$h(h,t,n,r);l.push(...p)}return{changes:l,updatedInternals:c}}async function ZA({delta:e,panZoom:t,transform:n,translateExtent:s,width:r,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const a=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[r,o]],s),c=!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]);return Promise.resolve(c)}function Sv(e,t,n){e.clear(),t.clear();for(const s of n){const{source:r,target:o,sourceHandle:a=null,targetHandle:c=null}=s,l=`${r}-source-${a}`,u=`${o}-target-${c}`,d=e.get(l)||new Map,h=e.get(u)||new Map,p={edgeId:s.id,source:r,target:o,sourceHandle:a,targetHandle:c};t.set(s.id,s),e.set(l,d.set(`${o}-${c}`,p)),e.set(u,h.set(`${r}-${a}`,p))}}function jv(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:jv(n,t):!1}function Bg(e,t,n){let s=e;do{if(s?.matches(t))return!0;if(s===n)return!1;s=s.parentElement}while(s);return!1}function JA(e,t,n,s){const r=new Map;for(const[o,a]of e)if((a.selected||a.id===s)&&(!a.parentId||!jv(a,e))&&(a.draggable||t&&typeof a.draggable>"u")){const c=e.get(o);c&&r.set(o,{id:o,position:c.position||{x:0,y:0},distance:{x:n.x-c.internals.positionAbsolute.x,y:n.y-c.internals.positionAbsolute.y},extent:c.extent,parentId:c.parentId,origin:c.origin,expandParent:c.expandParent,internals:{positionAbsolute:c.internals.positionAbsolute||{x:0,y:0}},measured:{width:c.measured.width??0,height:c.measured.height??0}})}return r}function Ml({nodeId:e,dragItems:t,nodeLookup:n,dragging:s=!0}){const r=[];for(const[a,c]of t){const l=n.get(a)?.internals.userNode;l&&r.push({...l,position:c.position,dragging:s})}if(!e)return[r[0],r];const o=n.get(e)?.internals.userNode;return[o?{...o,position:t.get(e)?.position||o.position,dragging:s}:r[0],r]}function KA({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:s,onDragStop:r}){let o={x:null,y:null},a=0,c=new Map,l=!1,u={x:0,y:0},d=null,h=!1,p=null,f=!1;function g({noDragClassName:b,handleSelector:x,domNode:T,isSelectable:w,nodeId:j,nodeClickDistance:N=0}){p=Tn(T);function I({x:k,y:P},q){const{nodeLookup:Q,nodeExtent:O,snapGrid:R,snapToGrid:D,nodeOrigin:$,onNodeDrag:M,onSelectionDrag:A,onError:H,updateNodePositions:Z}=t();o={x:k,y:P};let z=!1,se={x:0,y:0,x2:0,y2:0};if(c.size>1&&O){const oe=aa(c);se=ad(oe)}for(const[oe,ne]of c){if(!Q.has(oe))continue;let ce={x:k-ne.distance.x,y:P-ne.distance.y};D&&(ce=cl(ce,R));let he=[[O[0][0],O[0][1]],[O[1][0],O[1][1]]];if(c.size>1&&O&&!ne.extent){const{positionAbsolute:ge}=ne.internals,me=ge.x-se.x+O[0][0],ae=ge.x+ne.measured.width-se.x2+O[1][0],be=ge.y-se.y+O[0][1],ke=ge.y+ne.measured.height-se.y2+O[1][1];he=[[me,be],[ae,ke]]}const{position:K,positionAbsolute:ee}=lv({nodeId:oe,nextPosition:ce,nodeLookup:Q,nodeExtent:he,nodeOrigin:$,onError:H});z=z||ne.position.x!==K.x||ne.position.y!==K.y,ne.position=K,ne.internals.positionAbsolute=ee}if(z&&(Z(c,!0),q&&(s||M||!j&&A))){const[oe,ne]=Ml({nodeId:j,dragItems:c,nodeLookup:Q});s?.(q,c,oe,ne),M?.(q,oe,ne),j||A?.(q,ne)}}async function C(){if(!d)return;const{transform:k,panBy:P,autoPanSpeed:q}=t(),[Q,O]=dv(u,d,q);(Q!==0||O!==0)&&(o.x=(o.x??0)-Q/k[2],o.y=(o.y??0)-O/k[2],await P({x:Q,y:O})&&I(o,null)),a=requestAnimationFrame(C)}function S(k){const{nodeLookup:P,multiSelectionActive:q,nodesDraggable:Q,transform:O,snapGrid:R,snapToGrid:D,selectNodesOnDrag:$,onNodeDragStart:M,onSelectionDragStart:A,unselectNodesAndEdges:H}=t();h=!0,(!$||!w)&&!q&&j&&(P.get(j)?.selected||H()),w&&$&&j&&e?.(j);const Z=ho(k.sourceEvent,{transform:O,snapGrid:R,snapToGrid:D,containerBounds:d});if(o=Z,c=JA(P,Q,Z,j),c.size>0&&(n||M||!j&&A)){const[z,se]=Ml({nodeId:j,dragItems:c,nodeLookup:P});n?.(k.sourceEvent,c,z,se),M?.(k.sourceEvent,z,se),j||A?.(k.sourceEvent,se)}}const y=Vy().clickDistance(N).on("start",k=>{const{domNode:P,nodeDragThreshold:q,transform:Q,snapGrid:O,snapToGrid:R}=t();d=P?.getBoundingClientRect()||null,f=!1,q===0&&S(k),o=ho(k.sourceEvent,{transform:Q,snapGrid:O,snapToGrid:R,containerBounds:d}),u=Rs(k.sourceEvent,d)}).on("drag",k=>{const{autoPanOnNodeDrag:P,transform:q,snapGrid:Q,snapToGrid:O,nodeDragThreshold:R,nodeLookup:D}=t(),$=ho(k.sourceEvent,{transform:q,snapGrid:Q,snapToGrid:O,containerBounds:d});if((k.sourceEvent.type==="touchmove"&&k.sourceEvent.touches.length>1||j&&!D.has(j))&&(f=!0),!f){if(!l&&P&&h&&(l=!0,C()),!h){const M=$.xSnapped-(o.x??0),A=$.ySnapped-(o.y??0);Math.sqrt(M*M+A*A)>R&&S(k)}(o.x!==$.xSnapped||o.y!==$.ySnapped)&&c&&h&&(u=Rs(k.sourceEvent,d),I($,k.sourceEvent))}}).on("end",k=>{if(!(!h||f)&&(l=!1,h=!1,cancelAnimationFrame(a),c.size>0)){const{nodeLookup:P,updateNodePositions:q,onNodeDragStop:Q,onSelectionDragStop:O}=t();if(q(c,!1),r||Q||!j&&O){const[R,D]=Ml({nodeId:j,dragItems:c,nodeLookup:P,dragging:!1});r?.(k.sourceEvent,c,R,D),Q?.(k.sourceEvent,R,D),j||O?.(k.sourceEvent,D)}}}).filter(k=>{const P=k.target;return!k.button&&(!b||!Bg(P,`.${b}`,T))&&(!x||Bg(P,x,T))});p.call(y)}function m(){p?.on(".drag",null)}return{update:g,destroy:m}}function eP(e,t,n){const s=[],r={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())Io(r,Ir(o))>0&&s.push(o);return s}const tP=250;function nP(e,t,n,s){let r=[],o=1/0;const a=eP(e,n,t+tP);for(const c of a){const l=[...c.internals.handleBounds?.source??[],...c.internals.handleBounds?.target??[]];for(const u of l){if(s.nodeId===u.nodeId&&s.type===u.type&&s.id===u.id)continue;const{x:d,y:h}=Do(c,u,u.position,!0),p=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(h-e.y,2));p>t||(p<o?(r=[{...u,x:d,y:h}],o=p):p===o&&r.push({...u,x:d,y:h}))}}if(!r.length)return null;if(r.length>1){const c=s.type==="source"?"target":"source";return r.find(l=>l.type===c)??r[0]}return r[0]}function Tv(e,t,n,s,r,o=!1){const a=s.get(e);if(!a)return null;const c=r==="strict"?a.internals.handleBounds?.[t]:[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]],l=(n?c?.find(u=>u.id===n):c?.[0])??null;return l&&o?{...l,...Do(a,l,l.position,!0)}:l}function Ev(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function sP(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const kv=()=>!0;function iP(e,{connectionMode:t,connectionRadius:n,handleId:s,nodeId:r,edgeUpdaterType:o,isTarget:a,domNode:c,nodeLookup:l,lib:u,autoPanOnConnect:d,flowId:h,panBy:p,cancelConnection:f,onConnectStart:g,onConnect:m,onConnectEnd:b,isValidConnection:x=kv,onReconnectEnd:T,updateConnection:w,getTransform:j,getFromHandle:N,autoPanSpeed:I}){const C=gv(e.target);let S=0,y;const{x:k,y:P}=Rs(e),q=C?.elementFromPoint(k,P),Q=Ev(o,q),O=c?.getBoundingClientRect();if(!O||!Q)return;const R=Tv(r,Q,s,l,t);if(!R)return;let D=Rs(e,O),$=!1,M=null,A=!1,H=null;function Z(){if(!d||!O)return;const[ee,ge]=dv(D,O,I);p({x:ee,y:ge}),S=requestAnimationFrame(Z)}const z={...R,nodeId:r,type:Q,position:R.position},se=l.get(r),ne={inProgress:!0,isValid:null,from:Do(se,z,xe.Left,!0),fromHandle:z,fromPosition:z.position,fromNode:se,to:D,toHandle:null,toPosition:Pg[z.position],toNode:null};w(ne);let ce=ne;g?.(e,{nodeId:r,handleId:s,handleType:Q});function he(ee){if(!N()||!z){K(ee);return}const ge=j();D=Rs(ee,O),y=nP(ca(D,ge,!1,[1,1]),n,l,z),$||(Z(),$=!0);const me=Ov(ee,{handle:y,connectionMode:t,fromNodeId:r,fromHandleId:s,fromType:a?"target":"source",isValidConnection:x,doc:C,lib:u,flowId:h,nodeLookup:l});H=me.handleDomNode,M=me.connection,A=sP(!!y,me.isValid);const ae={...ce,isValid:A,to:y&&A?pv({x:y.x,y:y.y},ge):D,toHandle:me.toHandle,toPosition:A&&me.toHandle?me.toHandle.position:Pg[z.position],toNode:me.toHandle?l.get(me.toHandle.nodeId):null};A&&y&&ce.toHandle&&ae.toHandle&&ce.toHandle.type===ae.toHandle.type&&ce.toHandle.nodeId===ae.toHandle.nodeId&&ce.toHandle.id===ae.toHandle.id&&ce.to.x===ae.to.x&&ce.to.y===ae.to.y||(w(ae),ce=ae)}function K(ee){(y||H)&&M&&A&&m?.(M);const{inProgress:ge,...me}=ce,ae={...me,toPosition:ce.toHandle?ce.toPosition:null};b?.(ee,ae),o&&T?.(ee,ae),f(),cancelAnimationFrame(S),$=!1,A=!1,M=null,H=null,C.removeEventListener("mousemove",he),C.removeEventListener("mouseup",K),C.removeEventListener("touchmove",he),C.removeEventListener("touchend",K)}C.addEventListener("mousemove",he),C.addEventListener("mouseup",K),C.addEventListener("touchmove",he),C.addEventListener("touchend",K)}function Ov(e,{handle:t,connectionMode:n,fromNodeId:s,fromHandleId:r,fromType:o,doc:a,lib:c,flowId:l,isValidConnection:u=kv,nodeLookup:d}){const h=o==="target",p=t?a.querySelector(`.${c}-flow__handle[data-id="${l}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:f,y:g}=Rs(e),m=a.elementFromPoint(f,g),b=m?.classList.contains(`${c}-flow__handle`)?m:p,x={handleDomNode:b,isValid:!1,connection:null,toHandle:null};if(b){const T=Ev(void 0,b),w=b.getAttribute("data-nodeid"),j=b.getAttribute("data-handleid"),N=b.classList.contains("connectable"),I=b.classList.contains("connectableend");if(!w||!T)return x;const C={source:h?w:s,sourceHandle:h?j:r,target:h?s:w,targetHandle:h?r:j};x.connection=C;const y=N&&I&&(n===_r.Strict?h&&T==="source"||!h&&T==="target":w!==s||j!==r);x.isValid=y&&u(C),x.toHandle=Tv(w,T,j,d,n,!1)}return x}const hd={onPointerDown:iP,isValid:Ov};function rP({domNode:e,panZoom:t,getTransform:n,getViewScale:s}){const r=Tn(e);function o({translateExtent:c,width:l,height:u,zoomStep:d=10,pannable:h=!0,zoomable:p=!0,inversePan:f=!1}){const g=w=>{const j=n();if(w.sourceEvent.type!=="wheel"||!t)return;const N=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*d,I=j[2]*Math.pow(2,N);t.scaleTo(I)};let m=[0,0];const b=w=>{(w.sourceEvent.type==="mousedown"||w.sourceEvent.type==="touchstart")&&(m=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY])},x=w=>{const j=n();if(w.sourceEvent.type!=="mousemove"&&w.sourceEvent.type!=="touchmove"||!t)return;const N=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY],I=[N[0]-m[0],N[1]-m[1]];m=N;const C=s()*Math.max(j[2],Math.log(j[2]))*(f?-1:1),S={x:j[0]-I[0]*C,y:j[1]-I[1]*C},y=[[0,0],[l,u]];t.setViewportConstrained({x:S.x,y:S.y,zoom:j[2]},y,c)},T=sv().on("start",b).on("zoom",h?x:null).on("zoom.wheel",p?g:null);r.call(T,{})}function a(){r.on("zoom",null)}return{update:o,destroy:a,pointer:Hn}}const oP=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,ul=e=>({x:e.x,y:e.y,zoom:e.k}),Fl=({x:e,y:t,zoom:n})=>rl.translate(e,t).scale(n),sr=(e,t)=>e.target.closest(`.${t}`),Cv=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),ql=(e,t=0,n=()=>{})=>{const s=typeof t=="number"&&t>0;return s||n(),s?e.transition().duration(t).on("end",n):e},_v=e=>{const t=e.ctrlKey&&Sc()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function aP({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:s,panOnScrollMode:r,panOnScrollSpeed:o,zoomOnPinch:a,onPanZoomStart:c,onPanZoom:l,onPanZoomEnd:u}){return d=>{if(sr(d,t))return!1;d.preventDefault(),d.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(d.ctrlKey&&a){const b=Hn(d),x=_v(d),T=h*Math.pow(2,x);s.scaleTo(n,T,b,d);return}const p=d.deltaMode===1?20:1;let f=r===ki.Vertical?0:d.deltaX*p,g=r===ki.Horizontal?0:d.deltaY*p;!Sc()&&d.shiftKey&&r!==ki.Vertical&&(f=d.deltaY*p,g=0),s.translateBy(n,-(f/h)*o,-(g/h)*o,{internal:!0});const m=ul(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,c?.(d,m)),e.isPanScrolling&&(l?.(d,m),e.panScrollTimeout=setTimeout(()=>{u?.(d,m),e.isPanScrolling=!1},150))}}function cP({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(s,r){if(!t&&s.type==="wheel"&&!s.ctrlKey||sr(s,e))return null;s.preventDefault(),n.call(this,s,r)}}function lP({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return s=>{if(s.sourceEvent?.internal)return;const r=ul(s.transform);e.mouseButton=s.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=r,s.sourceEvent?.type==="mousedown"&&t(!0),n&&n?.(s.sourceEvent,r)}}function uP({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:s,onPanZoom:r}){return o=>{e.usedRightMouseButton=!!(n&&Cv(t,e.mouseButton??0)),o.sourceEvent?.sync||s([o.transform.x,o.transform.y,o.transform.k]),r&&!o.sourceEvent?.internal&&r?.(o.sourceEvent,ul(o.transform))}}function dP({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:s,onPanZoomEnd:r,onPaneContextMenu:o}){return a=>{if(!a.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,o&&Cv(t,e.mouseButton??0)&&!e.usedRightMouseButton&&a.sourceEvent&&o(a.sourceEvent),e.usedRightMouseButton=!1,s(!1),r&&oP(e.prevViewport,a.transform))){const c=ul(a.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{r?.(a.sourceEvent,c)},n?150:0)}}}function hP({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:s,panOnScroll:r,zoomOnDoubleClick:o,userSelectionActive:a,noWheelClassName:c,noPanClassName:l,lib:u}){return d=>{const h=e||t,p=n&&d.ctrlKey;if(d.button===1&&d.type==="mousedown"&&(sr(d,`${u}-flow__node`)||sr(d,`${u}-flow__edge`)))return!0;if(!s&&!h&&!r&&!o&&!n||a||sr(d,c)&&d.type==="wheel"||sr(d,l)&&(d.type!=="wheel"||r&&d.type==="wheel"&&!e)||!n&&d.ctrlKey&&d.type==="wheel")return!1;if(!n&&d.type==="touchstart"&&d.touches?.length>1)return d.preventDefault(),!1;if(!h&&!r&&!p&&d.type==="wheel"||!s&&(d.type==="mousedown"||d.type==="touchstart")||Array.isArray(s)&&!s.includes(d.button)&&d.type==="mousedown")return!1;const f=Array.isArray(s)&&s.includes(d.button)||!d.button||d.button<=1;return(!d.ctrlKey||d.type==="wheel")&&f}}function pP({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:s,translateExtent:r,viewport:o,onPanZoom:a,onPanZoomStart:c,onPanZoomEnd:l,onDraggingChange:u}){const d={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=e.getBoundingClientRect(),p=sv().clickDistance(!Zn(s)||s<0?0:s).scaleExtent([t,n]).translateExtent(r),f=Tn(e).call(p);w({x:o.x,y:o.y,zoom:Nr(o.zoom,t,n)},[[0,0],[h.width,h.height]],r);const g=f.on("wheel.zoom"),m=f.on("dblclick.zoom");p.wheelDelta(_v);function b(q,Q){return f?new Promise(O=>{p?.transform(ql(f,Q?.duration,()=>O(!0)),q)}):Promise.resolve(!1)}function x({noWheelClassName:q,noPanClassName:Q,onPaneContextMenu:O,userSelectionActive:R,panOnScroll:D,panOnDrag:$,panOnScrollMode:M,panOnScrollSpeed:A,preventScrolling:H,zoomOnPinch:Z,zoomOnScroll:z,zoomOnDoubleClick:se,zoomActivationKeyPressed:oe,lib:ne,onTransformChange:ce}){R&&!d.isZoomingOrPanning&&T();const K=D&&!oe&&!R?aP({zoomPanValues:d,noWheelClassName:q,d3Selection:f,d3Zoom:p,panOnScrollMode:M,panOnScrollSpeed:A,zoomOnPinch:Z,onPanZoomStart:c,onPanZoom:a,onPanZoomEnd:l}):cP({noWheelClassName:q,preventScrolling:H,d3ZoomHandler:g});if(f.on("wheel.zoom",K,{passive:!1}),!R){const ge=lP({zoomPanValues:d,onDraggingChange:u,onPanZoomStart:c});p.on("start",ge);const me=uP({zoomPanValues:d,panOnDrag:$,onPaneContextMenu:!!O,onPanZoom:a,onTransformChange:ce});p.on("zoom",me);const ae=dP({zoomPanValues:d,panOnDrag:$,panOnScroll:D,onPaneContextMenu:O,onPanZoomEnd:l,onDraggingChange:u});p.on("end",ae)}const ee=hP({zoomActivationKeyPressed:oe,panOnDrag:$,zoomOnScroll:z,panOnScroll:D,zoomOnDoubleClick:se,zoomOnPinch:Z,userSelectionActive:R,noPanClassName:Q,noWheelClassName:q,lib:ne});p.filter(ee),se?f.on("dblclick.zoom",m):f.on("dblclick.zoom",null)}function T(){p.on("zoom",null)}async function w(q,Q,O){const R=Fl(q),D=p?.constrain()(R,Q,O);return D&&await b(D),new Promise($=>$(D))}async function j(q,Q){const O=Fl(q);return await b(O,Q),new Promise(R=>R(O))}function N(q){if(f){const Q=Fl(q),O=f.property("__zoom");(O.k!==q.zoom||O.x!==q.x||O.y!==q.y)&&p?.transform(f,Q,null,{sync:!0})}}function I(){const q=f?nv(f.node()):{x:0,y:0,k:1};return{x:q.x,y:q.y,zoom:q.k}}function C(q,Q){return f?new Promise(O=>{p?.scaleTo(ql(f,Q?.duration,()=>O(!0)),q)}):Promise.resolve(!1)}function S(q,Q){return f?new Promise(O=>{p?.scaleBy(ql(f,Q?.duration,()=>O(!0)),q)}):Promise.resolve(!1)}function y(q){p?.scaleExtent(q)}function k(q){p?.translateExtent(q)}function P(q){const Q=!Zn(q)||q<0?0:q;p?.clickDistance(Q)}return{update:x,destroy:T,setViewport:j,setViewportConstrained:w,getViewport:I,scaleTo:C,scaleBy:S,setScaleExtent:y,setTranslateExtent:k,syncViewport:N,setClickDistance:P}}var po;(function(e){e.Line="line",e.Handle="handle"})(po||(po={}));function fP({width:e,prevWidth:t,height:n,prevHeight:s,affectsX:r,affectsY:o}){const a=e-t,c=n-s,l=[a>0?1:a<0?-1:0,c>0?1:c<0?-1:0];return a&&r&&(l[0]=l[0]*-1),c&&o&&(l[1]=l[1]*-1),l}function gP(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),s=e.includes("left"),r=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:s,affectsY:r}}function Us(e,t){return Math.max(0,t-e)}function zs(e,t){return Math.max(0,e-t)}function Ta(e,t,n){return Math.max(0,t-e,e-n)}function Hg(e,t){return e?!t:t}function mP(e,t,n,s,r,o,a,c){let{affectsX:l,affectsY:u}=t;const{isHorizontal:d,isVertical:h}=t,p=d&&h,{xSnapped:f,ySnapped:g}=n,{minWidth:m,maxWidth:b,minHeight:x,maxHeight:T}=s,{x:w,y:j,width:N,height:I,aspectRatio:C}=e;let S=Math.floor(d?f-e.pointerX:0),y=Math.floor(h?g-e.pointerY:0);const k=N+(l?-S:S),P=I+(u?-y:y),q=-o[0]*N,Q=-o[1]*I;let O=Ta(k,m,b),R=Ta(P,x,T);if(a){let M=0,A=0;l&&S<0?M=Us(w+S+q,a[0][0]):!l&&S>0&&(M=zs(w+k+q,a[1][0])),u&&y<0?A=Us(j+y+Q,a[0][1]):!u&&y>0&&(A=zs(j+P+Q,a[1][1])),O=Math.max(O,M),R=Math.max(R,A)}if(c){let M=0,A=0;l&&S>0?M=zs(w+S,c[0][0]):!l&&S<0&&(M=Us(w+k,c[1][0])),u&&y>0?A=zs(j+y,c[0][1]):!u&&y<0&&(A=Us(j+P,c[1][1])),O=Math.max(O,M),R=Math.max(R,A)}if(r){if(d){const M=Ta(k/C,x,T)*C;if(O=Math.max(O,M),a){let A=0;!l&&!u||l&&!u&&p?A=zs(j+Q+k/C,a[1][1])*C:A=Us(j+Q+(l?S:-S)/C,a[0][1])*C,O=Math.max(O,A)}if(c){let A=0;!l&&!u||l&&!u&&p?A=Us(j+k/C,c[1][1])*C:A=zs(j+(l?S:-S)/C,c[0][1])*C,O=Math.max(O,A)}}if(h){const M=Ta(P*C,m,b)/C;if(R=Math.max(R,M),a){let A=0;!l&&!u||u&&!l&&p?A=zs(w+P*C+q,a[1][0])/C:A=Us(w+(u?y:-y)*C+q,a[0][0])/C,R=Math.max(R,A)}if(c){let A=0;!l&&!u||u&&!l&&p?A=Us(w+P*C,c[1][0])/C:A=zs(w+(u?y:-y)*C,c[0][0])/C,R=Math.max(R,A)}}}y=y+(y<0?R:-R),S=S+(S<0?O:-O),r&&(p?k>P*C?y=(Hg(l,u)?-S:S)/C:S=(Hg(l,u)?-y:y)*C:d?(y=S/C,u=l):(S=y*C,l=u));const D=l?w+S:w,$=u?j+y:j;return{width:N+(l?-S:S),height:I+(u?-y:y),x:o[0]*S*(l?-1:1)+D,y:o[1]*y*(u?-1:1)+$}}const Nv={width:0,height:0,x:0,y:0},bP={...Nv,pointerX:0,pointerY:0,aspectRatio:1};function xP(e){return[[0,0],[e.measured.width,e.measured.height]]}function yP(e,t,n){const s=t.position.x+e.position.x,r=t.position.y+e.position.y,o=e.measured.width??0,a=e.measured.height??0,c=n[0]*o,l=n[1]*a;return[[s-c,r-l],[s+o-c,r+a-l]]}function vP({domNode:e,nodeId:t,getStoreItems:n,onChange:s,onEnd:r}){const o=Tn(e);function a({controlPosition:l,boundaries:u,keepAspectRatio:d,onResizeStart:h,onResize:p,onResizeEnd:f,shouldResize:g}){let m={...Nv},b={...bP};const x=gP(l);let T,w=null,j=[],N,I,C;const S=Vy().on("start",y=>{const{nodeLookup:k,transform:P,snapGrid:q,snapToGrid:Q,nodeOrigin:O,paneDomNode:R}=n();if(T=k.get(t),!T)return;w=R?.getBoundingClientRect()??null;const{xSnapped:D,ySnapped:$}=ho(y.sourceEvent,{transform:P,snapGrid:q,snapToGrid:Q,containerBounds:w});m={width:T.measured.width??0,height:T.measured.height??0,x:T.position.x??0,y:T.position.y??0},b={...m,pointerX:D,pointerY:$,aspectRatio:m.width/m.height},N=void 0,T.parentId&&(T.extent==="parent"||T.expandParent)&&(N=k.get(T.parentId),I=N&&T.extent==="parent"?xP(N):void 0),j=[],C=void 0;for(const[M,A]of k)if(A.parentId===t&&(j.push({id:M,position:{...A.position},extent:A.extent}),A.extent==="parent"||A.expandParent)){const H=yP(A,T,A.origin??O);C?C=[[Math.min(H[0][0],C[0][0]),Math.min(H[0][1],C[0][1])],[Math.max(H[1][0],C[1][0]),Math.max(H[1][1],C[1][1])]]:C=H}h?.(y,{...m})}).on("drag",y=>{const{transform:k,snapGrid:P,snapToGrid:q,nodeOrigin:Q}=n(),O=ho(y.sourceEvent,{transform:k,snapGrid:P,snapToGrid:q,containerBounds:w}),R=[];if(!T)return;const{x:D,y:$,width:M,height:A}=m,H={},Z=T.origin??Q,{width:z,height:se,x:oe,y:ne}=mP(b,x,O,u,d,Z,I,C),ce=z!==M,he=se!==A,K=oe!==D&&ce,ee=ne!==$&&he;if(!K&&!ee&&!ce&&!he)return;if((K||ee||Z[0]===1||Z[1]===1)&&(H.x=K?oe:m.x,H.y=ee?ne:m.y,m.x=H.x,m.y=H.y,j.length>0)){const be=oe-D,ke=ne-$;for(const Oe of j)Oe.position={x:Oe.position.x-be+Z[0]*(z-M),y:Oe.position.y-ke+Z[1]*(se-A)},R.push(Oe)}if((ce||he)&&(H.width=ce?z:m.width,H.height=he?se:m.height,m.width=H.width,m.height=H.height),N&&T.expandParent){const be=Z[0]*(H.width??0);H.x&&H.x<be&&(m.x=be,b.x=b.x-(H.x-be));const ke=Z[1]*(H.height??0);H.y&&H.y<ke&&(m.y=ke,b.y=b.y-(H.y-ke))}const ge=fP({width:m.width,prevWidth:M,height:m.height,prevHeight:A,affectsX:x.affectsX,affectsY:x.affectsY}),me={...m,direction:ge};g?.(y,me)!==!1&&(p?.(y,me),s(H,R))}).on("end",y=>{f?.(y,{...m}),r?.()});o.call(S)}function c(){o.on(".drag",null)}return{update:a,destroy:c}}const{useDebugValue:wP}=ET,{useSyncExternalStoreWithSelector:SP}=Ej,jP=e=>e;function Iv(e,t=jP,n){const s=SP(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return wP(s),s}const Gg=(e,t)=>{const n=kj(e),s=(r,o=t)=>Iv(n,r,o);return Object.assign(s,n),s},TP=(e,t)=>e?Gg(e,t):Gg;function kt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[s,r]of e)if(!Object.is(r,t.get(s)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const s of n)if(!Object.prototype.hasOwnProperty.call(t,s)||!Object.is(e[s],t[s]))return!1;return!0}const dl=v.createContext(null),EP=dl.Provider,Dv=Qs.error001();function qe(e,t){const n=v.useContext(dl);if(n===null)throw new Error(Dv);return Iv(n,e,t)}function xt(){const e=v.useContext(dl);if(e===null)throw new Error(Dv);return v.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Yg={display:"none"},kP={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Rv="react-flow__node-desc",Av="react-flow__edge-desc",OP="react-flow__aria-live",CP=e=>e.ariaLiveMessage;function _P({rfId:e}){const t=qe(CP);return i.jsx("div",{id:`${OP}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:kP,children:t})}function NP({rfId:e,disableKeyboardA11y:t}){return i.jsxs(i.Fragment,{children:[i.jsxs("div",{id:`${Rv}-${e}`,style:Yg,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),i.jsx("div",{id:`${Av}-${e}`,style:Yg,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&i.jsx(_P,{rfId:e})]})}const IP=e=>e.userSelectionActive?"none":"all";function Lh({position:e="top-left",children:t,className:n,style:s,...r}){const o=qe(IP),a=`${e}`.split("-");return i.jsx("div",{className:$t(["react-flow__panel",n,...a]),style:{...s,pointerEvents:o},...r,children:t})}function DP({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:i.jsx(Lh,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:i.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const RP=e=>{const t=[],n=[];for(const[,s]of e.nodeLookup)s.selected&&t.push(s.internals.userNode);for(const[,s]of e.edgeLookup)s.selected&&n.push(s);return{selectedNodes:t,selectedEdges:n}},Ea=e=>e.id;function AP(e,t){return kt(e.selectedNodes.map(Ea),t.selectedNodes.map(Ea))&&kt(e.selectedEdges.map(Ea),t.selectedEdges.map(Ea))}function PP({onSelectionChange:e}){const t=xt(),{selectedNodes:n,selectedEdges:s}=qe(RP,AP);return v.useEffect(()=>{const r={nodes:n,edges:s};e?.(r),t.getState().onSelectionChangeHandlers.forEach(o=>o(r))},[n,s,e]),null}const $P=e=>!!e.onSelectionChangeHandlers;function LP({onSelectionChange:e}){const t=qe($P);return e||t?i.jsx(PP,{onSelectionChange:e}):null}const Pv=[0,0],MP={x:0,y:0,zoom:1},FP=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],Xg=[...FP,"rfId"],qP=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),Wg={translateExtent:_o,nodeOrigin:Pv,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function QP(e){const{setNodes:t,setEdges:n,setMinZoom:s,setMaxZoom:r,setTranslateExtent:o,setNodeExtent:a,reset:c,setDefaultNodesAndEdges:l,setPaneClickDistance:u}=qe(qP,kt),d=xt();v.useEffect(()=>(l(e.defaultNodes,e.defaultEdges),()=>{h.current=Wg,c()}),[]);const h=v.useRef(Wg);return v.useEffect(()=>{for(const p of Xg){const f=e[p],g=h.current[p];f!==g&&(typeof e[p]>"u"||(p==="nodes"?t(f):p==="edges"?n(f):p==="minZoom"?s(f):p==="maxZoom"?r(f):p==="translateExtent"?o(f):p==="nodeExtent"?a(f):p==="paneClickDistance"?u(f):p==="fitView"?d.setState({fitViewOnInit:f}):p==="fitViewOptions"?d.setState({fitViewOnInitOptions:f}):d.setState({[p]:f})))}h.current=e},Xg.map(p=>e[p])),null}function Zg(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function VP(e){const[t,n]=v.useState(e==="system"?null:e);return v.useEffect(()=>{if(e!=="system"){n(e);return}const s=Zg(),r=()=>n(s?.matches?"dark":"light");return r(),s?.addEventListener("change",r),()=>{s?.removeEventListener("change",r)}},[e]),t!==null?t:Zg()?.matches?"dark":"light"}const Jg=typeof document<"u"?document:null;function Ro(e=null,t={target:Jg,actInsideInputWithModifier:!0}){const[n,s]=v.useState(!1),r=v.useRef(!1),o=v.useRef(new Set([])),[a,c]=v.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(h=>typeof h=="string").map(h=>h.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=u.reduce((h,p)=>h.concat(...p),[]);return[u,d]}return[[],[]]},[e]);return v.useEffect(()=>{const l=t?.target||Jg;if(e!==null){const u=p=>{if(r.current=p.ctrlKey||p.metaKey||p.shiftKey,(!r.current||r.current&&!t.actInsideInputWithModifier)&&cd(p))return!1;const g=em(p.code,c);o.current.add(p[g]),Kg(a,o.current,!1)&&(p.preventDefault(),s(!0))},d=p=>{if((!r.current||r.current&&!t.actInsideInputWithModifier)&&cd(p))return!1;const g=em(p.code,c);Kg(a,o.current,!0)?(s(!1),o.current.clear()):o.current.delete(p[g]),p.key==="Meta"&&o.current.clear(),r.current=!1},h=()=>{o.current.clear(),s(!1)};return l?.addEventListener("keydown",u),l?.addEventListener("keyup",d),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{l?.removeEventListener("keydown",u),l?.removeEventListener("keyup",d),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[e,s]),n}function Kg(e,t,n){return e.filter(s=>n||s.length===t.size).some(s=>s.every(r=>t.has(r)))}function em(e,t){return t.includes(e)?"code":"key"}const UP=()=>{const e=xt();return v.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:s}=e.getState();return s?s.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[s,r,o],panZoom:a}=e.getState();return a?(await a.setViewport({x:t.x??s,y:t.y??r,zoom:t.zoom??o},{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,s]=e.getState().transform;return{x:t,y:n,zoom:s}},fitView:t=>{const{nodeLookup:n,minZoom:s,maxZoom:r,panZoom:o,domNode:a}=e.getState();if(!o||!a)return Promise.resolve(!1);const c=rd(n,t),{width:l,height:u}=ll(a);return od({nodes:c,width:l,height:u,minZoom:s,maxZoom:r,panZoom:o},t)},setCenter:async(t,n,s)=>{const{width:r,height:o,maxZoom:a,panZoom:c}=e.getState(),l=typeof s?.zoom<"u"?s.zoom:a,u=r/2-t*l,d=o/2-n*l;return c?(await c.setViewport({x:u,y:d,zoom:l},{duration:s?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{const{width:s,height:r,minZoom:o,maxZoom:a,panZoom:c}=e.getState(),l=Ih(t,s,r,o,a,n?.padding??.1);return c?(await c.setViewport(l,{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={snapToGrid:!0})=>{const{transform:s,snapGrid:r,domNode:o}=e.getState();if(!o)return t;const{x:a,y:c}=o.getBoundingClientRect(),l={x:t.x-a,y:t.y-c};return ca(l,s,n.snapToGrid,r)},flowToScreenPosition:t=>{const{transform:n,domNode:s}=e.getState();if(!s)return t;const{x:r,y:o}=s.getBoundingClientRect(),a=pv(t,n);return{x:a.x+r,y:a.y+o}}}),[])};function $v(e,t){const n=[],s=new Map,r=[];for(const o of e)if(o.type==="add"){r.push(o);continue}else if(o.type==="remove"||o.type==="replace")s.set(o.id,[o]);else{const a=s.get(o.id);a?a.push(o):s.set(o.id,[o])}for(const o of t){const a=s.get(o.id);if(!a){n.push(o);continue}if(a[0].type==="remove")continue;if(a[0].type==="replace"){n.push({...a[0].item});continue}const c={...o};for(const l of a)zP(l,c);n.push(c)}return r.length&&r.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function zP(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&(t.width=e.dimensions.width,t.height=e.dimensions.height)),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function Lv(e,t){return $v(e,t)}function Mv(e,t){return $v(e,t)}function pi(e,t){return{id:e,type:"select",selected:t}}function ir(e,t=new Set,n=!1){const s=[];for(const[r,o]of e){const a=t.has(r);!(o.selected===void 0&&!a)&&o.selected!==a&&(n&&(o.selected=a),s.push(pi(o.id,a)))}return s}function tm({items:e=[],lookup:t}){const n=[],s=new Map(e.map(r=>[r.id,r]));for(const[r,o]of e.entries()){const a=t.get(o.id),c=a?.internals?.userNode??a;c!==void 0&&c!==o&&n.push({id:o.id,item:o,type:"replace"}),c===void 0&&n.push({item:o,type:"add",index:r})}for(const[r]of t)s.get(r)===void 0&&n.push({id:r,type:"remove"});return n}function nm(e){return{id:e.id,type:"remove"}}const sm=e=>NA(e),BP=e=>av(e);function Fv(e){return v.forwardRef(e)}const HP=typeof window<"u"?v.useLayoutEffect:v.useEffect;function im(e){const[t,n]=v.useState(BigInt(0)),[s]=v.useState(()=>GP(()=>n(r=>r+BigInt(1))));return HP(()=>{const r=s.get();r.length&&(e(r),s.reset())},[t]),s}function GP(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const qv=v.createContext(null);function YP({children:e}){const t=xt(),n=v.useCallback(c=>{const{nodes:l=[],setNodes:u,hasDefaultNodes:d,onNodesChange:h,nodeLookup:p}=t.getState();let f=l;for(const g of c)f=typeof g=="function"?g(f):g;d?u(f):h&&h(tm({items:f,lookup:p}))},[]),s=im(n),r=v.useCallback(c=>{const{edges:l=[],setEdges:u,hasDefaultEdges:d,onEdgesChange:h,edgeLookup:p}=t.getState();let f=l;for(const g of c)f=typeof g=="function"?g(f):g;d?u(f):h&&h(tm({items:f,lookup:p}))},[]),o=im(r),a=v.useMemo(()=>({nodeQueue:s,edgeQueue:o}),[]);return i.jsx(qv.Provider,{value:a,children:e})}function XP(){const e=v.useContext(qv);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const WP=e=>!!e.panZoom;function Ao(){const e=UP(),t=xt(),n=XP(),s=qe(WP),r=v.useMemo(()=>{const o=h=>t.getState().nodeLookup.get(h),a=h=>{n.nodeQueue.push(h)},c=h=>{n.edgeQueue.push(h)},l=h=>{const{nodeLookup:p,nodeOrigin:f}=t.getState(),g=sm(h)?h:p.get(h.id),m=g.parentId?fv(g.position,g.measured,g.parentId,p,f):g.position,b={id:g.id,position:m,width:g.measured?.width??g.width,height:g.measured?.height??g.height,data:g.data};return Ir(b)},u=(h,p,f={replace:!1})=>{a(g=>g.map(m=>{if(m.id===h){const b=typeof p=="function"?p(m):p;return f.replace&&sm(b)?b:{...m,...b}}return m}))},d=(h,p,f={replace:!1})=>{c(g=>g.map(m=>{if(m.id===h){const b=typeof p=="function"?p(m):p;return f.replace&&BP(b)?b:{...m,...b}}return m}))};return{getNodes:()=>t.getState().nodes.map(h=>({...h})),getNode:h=>o(h)?.internals.userNode,getInternalNode:o,getEdges:()=>{const{edges:h=[]}=t.getState();return h.map(p=>({...p}))},getEdge:h=>t.getState().edgeLookup.get(h),setNodes:a,setEdges:c,addNodes:h=>{const p=Array.isArray(h)?h:[h];n.nodeQueue.push(f=>[...f,...p])},addEdges:h=>{const p=Array.isArray(h)?h:[h];n.edgeQueue.push(f=>[...f,...p])},toObject:()=>{const{nodes:h=[],edges:p=[],transform:f}=t.getState(),[g,m,b]=f;return{nodes:h.map(x=>({...x})),edges:p.map(x=>({...x})),viewport:{x:g,y:m,zoom:b}}},deleteElements:async({nodes:h=[],edges:p=[]})=>{const{nodes:f,edges:g,onNodesDelete:m,onEdgesDelete:b,triggerNodeChanges:x,triggerEdgeChanges:T,onDelete:w,onBeforeDelete:j}=t.getState(),{nodes:N,edges:I}=await RA({nodesToRemove:h,edgesToRemove:p,nodes:f,edges:g,onBeforeDelete:j}),C=I.length>0,S=N.length>0;if(C){const y=I.map(nm);b?.(I),T(y)}if(S){const y=N.map(nm);m?.(N),x(y)}return(S||C)&&w?.({nodes:N,edges:I}),{deletedNodes:N,deletedEdges:I}},getIntersectingNodes:(h,p=!0,f)=>{const g=Lg(h),m=g?h:l(h),b=f!==void 0;return m?(f||t.getState().nodes).filter(x=>{const T=t.getState().nodeLookup.get(x.id);if(T&&!g&&(x.id===h.id||!T.internals.positionAbsolute))return!1;const w=Ir(b?x:T),j=Io(w,m);return p&&j>0||j>=m.width*m.height}):[]},isNodeIntersecting:(h,p,f=!0)=>{const m=Lg(h)?h:l(h);if(!m)return!1;const b=Io(m,p);return f&&b>0||b>=m.width*m.height},updateNode:u,updateNodeData:(h,p,f={replace:!1})=>{u(h,g=>{const m=typeof p=="function"?p(g):p;return f.replace?{...g,data:m}:{...g,data:{...g.data,...m}}},f)},updateEdge:d,updateEdgeData:(h,p,f={replace:!1})=>{d(h,g=>{const m=typeof p=="function"?p(g):p;return f.replace?{...g,data:m}:{...g,data:{...g.data,...m}}},f)},getNodesBounds:h=>{const{nodeLookup:p,nodeOrigin:f}=t.getState();return IA(h,{nodeLookup:p,nodeOrigin:f})},getHandleConnections:({type:h,id:p,nodeId:f})=>Array.from(t.getState().connectionLookup.get(`${f}-${h}-${p??null}`)?.values()??[])}},[]);return v.useMemo(()=>({...r,...e,viewportInitialized:s}),[s])}const rm=e=>e.selected,ZP={actInsideInputWithModifier:!1},JP=typeof window<"u"?window:void 0;function KP({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=xt(),{deleteElements:s}=Ao(),r=Ro(e,ZP),o=Ro(t,{target:JP});v.useEffect(()=>{if(r){const{edges:a,nodes:c}=n.getState();s({nodes:c.filter(rm),edges:a.filter(rm)}),n.setState({nodesSelectionActive:!1})}},[r]),v.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function e$(e){const t=xt();v.useEffect(()=>{const n=()=>{if(!e.current)return!1;const s=ll(e.current);(s.height===0||s.width===0)&&t.getState().onError?.("004",Qs.error004()),t.setState({width:s.width||500,height:s.height||500})};if(e.current){n(),window.addEventListener("resize",n);const s=new ResizeObserver(()=>n());return s.observe(e.current),()=>{window.removeEventListener("resize",n),s&&e.current&&s.unobserve(e.current)}}},[])}const hl={position:"absolute",width:"100%",height:"100%",top:0,left:0},t$=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function n$({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:s=!1,panOnScrollSpeed:r=.5,panOnScrollMode:o=ki.Free,zoomOnDoubleClick:a=!0,panOnDrag:c=!0,defaultViewport:l,translateExtent:u,minZoom:d,maxZoom:h,zoomActivationKeyCode:p,preventScrolling:f=!0,children:g,noWheelClassName:m,noPanClassName:b,onViewportChange:x,isControlledViewport:T,paneClickDistance:w}){const j=xt(),N=v.useRef(null),{userSelectionActive:I,lib:C}=qe(t$,kt),S=Ro(p),y=v.useRef();e$(N);const k=v.useCallback(P=>{x?.({x:P[0],y:P[1],zoom:P[2]}),T||j.setState({transform:P})},[x,T]);return v.useEffect(()=>{if(N.current){y.current=pP({domNode:N.current,minZoom:d,maxZoom:h,translateExtent:u,viewport:l,paneClickDistance:w,onDraggingChange:O=>j.setState({paneDragging:O}),onPanZoomStart:(O,R)=>{const{onViewportChangeStart:D,onMoveStart:$}=j.getState();$?.(O,R),D?.(R)},onPanZoom:(O,R)=>{const{onViewportChange:D,onMove:$}=j.getState();$?.(O,R),D?.(R)},onPanZoomEnd:(O,R)=>{const{onViewportChangeEnd:D,onMoveEnd:$}=j.getState();$?.(O,R),D?.(R)}});const{x:P,y:q,zoom:Q}=y.current.getViewport();return j.setState({panZoom:y.current,transform:[P,q,Q],domNode:N.current.closest(".react-flow")}),()=>{y.current?.destroy()}}},[]),v.useEffect(()=>{y.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:s,panOnScrollSpeed:r,panOnScrollMode:o,zoomOnDoubleClick:a,panOnDrag:c,zoomActivationKeyPressed:S,preventScrolling:f,noPanClassName:b,userSelectionActive:I,noWheelClassName:m,lib:C,onTransformChange:k})},[e,t,n,s,r,o,a,c,S,f,b,I,m,C,k]),i.jsx("div",{className:"react-flow__renderer",ref:N,style:hl,children:g})}const s$=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function i$(){const{userSelectionActive:e,userSelectionRect:t}=qe(s$,kt);return e&&t?i.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Ql=(e,t)=>n=>{n.target===t.current&&e?.(n)},r$=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging});function o$({isSelecting:e,selectionKeyPressed:t,selectionMode:n=No.Full,panOnDrag:s,selectionOnDrag:r,onSelectionStart:o,onSelectionEnd:a,onPaneClick:c,onPaneContextMenu:l,onPaneScroll:u,onPaneMouseEnter:d,onPaneMouseMove:h,onPaneMouseLeave:p,children:f}){const g=v.useRef(null),m=xt(),b=v.useRef(0),x=v.useRef(0),T=v.useRef(),w=v.useRef(new Map),{userSelectionActive:j,elementsSelectable:N,dragging:I}=qe(r$,kt),C=N&&(e||j),S=v.useRef(!1),y=v.useRef(!1),k=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),b.current=0,x.current=0},P=M=>{if(S.current){S.current=!1;return}c?.(M),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},q=M=>{if(Array.isArray(s)&&s?.includes(2)){M.preventDefault();return}l?.(M)},Q=u?M=>u(M):void 0,O=M=>{const{resetSelectedElements:A,domNode:H,edgeLookup:Z}=m.getState();if(T.current=H?.getBoundingClientRect(),!N||!e||M.button!==0||M.target!==g.current||!T.current)return;M.target?.setPointerCapture?.(M.pointerId),y.current=!0,S.current=!1,w.current=new Map;for(const[oe,ne]of Z)w.current.set(ne.source,w.current.get(ne.source)?.add(oe)||new Set([oe])),w.current.set(ne.target,w.current.get(ne.target)?.add(oe)||new Set([oe]));const{x:z,y:se}=Rs(M.nativeEvent,T.current);A(),m.setState({userSelectionRect:{width:0,height:0,startX:z,startY:se,x:z,y:se}}),o?.(M)},R=M=>{const{userSelectionRect:A,edgeLookup:H,transform:Z,nodeLookup:z,triggerNodeChanges:se,triggerEdgeChanges:oe}=m.getState();if(!T.current||!A)return;S.current=!0;const{x:ne,y:ce}=Rs(M.nativeEvent,T.current),{startX:he,startY:K}=A,ee={startX:he,startY:K,x:ne<he?ne:he,y:ce<K?ce:K,width:Math.abs(ne-he),height:Math.abs(ce-K)},ge=cv(z,ee,Z,n===No.Partial,!0),me=new Set,ae=new Set;for(const be of ge){ae.add(be.id);const ke=w.current.get(be.id);if(ke)for(const Oe of ke)me.add(Oe)}if(b.current!==ae.size){b.current=ae.size;const be=ir(z,ae,!0);se(be)}if(x.current!==me.size){x.current=me.size;const be=ir(H,me);oe(be)}m.setState({userSelectionRect:ee,userSelectionActive:!0,nodesSelectionActive:!1})},D=M=>{if(M.button!==0||!y.current)return;M.target?.releasePointerCapture?.(M.pointerId);const{userSelectionRect:A}=m.getState();!j&&A&&M.target===g.current&&P?.(M),b.current>0&&m.setState({nodesSelectionActive:!0}),k(),a?.(M),(t||r)&&(S.current=!1),y.current=!1},$=s===!0||Array.isArray(s)&&s.includes(0);return i.jsxs("div",{className:$t(["react-flow__pane",{draggable:$,dragging:I,selection:e}]),onClick:C?void 0:Ql(P,g),onContextMenu:Ql(q,g),onWheel:Ql(Q,g),onPointerEnter:C?void 0:d,onPointerDown:C?O:h,onPointerMove:C?R:h,onPointerUp:C?D:void 0,onPointerLeave:p,ref:g,style:hl,children:[f,i.jsx(i$,{})]})}function pd({id:e,store:t,unselect:n=!1,nodeRef:s}){const{addSelectedNodes:r,unselectNodesAndEdges:o,multiSelectionActive:a,nodeLookup:c,onError:l}=t.getState(),u=c.get(e);if(!u){l?.("012",Qs.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&a)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>s?.current?.blur())):r([e])}function Qv({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:s,nodeId:r,isSelectable:o,nodeClickDistance:a}){const c=xt(),[l,u]=v.useState(!1),d=v.useRef();return v.useEffect(()=>{d.current=KA({getStoreItems:()=>c.getState(),onNodeMouseDown:h=>{pd({id:h,store:c,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),v.useEffect(()=>{if(t)d.current?.destroy();else if(e.current)return d.current?.update({noDragClassName:n,handleSelector:s,domNode:e.current,isSelectable:o,nodeId:r,nodeClickDistance:a}),()=>{d.current?.destroy()}},[n,s,t,o,e,r]),l}const a$=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function Vv(){const e=xt();return v.useCallback(n=>{const{nodeExtent:s,snapToGrid:r,snapGrid:o,nodesDraggable:a,onError:c,updateNodePositions:l,nodeLookup:u,nodeOrigin:d}=e.getState(),h=new Map,p=a$(a),f=r?o[0]:5,g=r?o[1]:5,m=n.direction.x*f*n.factor,b=n.direction.y*g*n.factor;for(const[,x]of u){if(!p(x))continue;let T={x:x.internals.positionAbsolute.x+m,y:x.internals.positionAbsolute.y+b};r&&(T=cl(T,o));const{position:w,positionAbsolute:j}=lv({nodeId:x.id,nextPosition:T,nodeLookup:u,nodeExtent:s,nodeOrigin:d,onError:c});x.position=w,x.internals.positionAbsolute=j,h.set(x.id,x)}l(h)},[])}const Mh=v.createContext(null),c$=Mh.Provider;Mh.Consumer;const Uv=()=>v.useContext(Mh),l$=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),u$=(e,t,n)=>s=>{const{connectionClickStartHandle:r,connectionMode:o,connection:a}=s,{fromHandle:c,toHandle:l,isValid:u}=a,d=l?.nodeId===e&&l?.id===t&&l?.type===n;return{connectingFrom:c?.nodeId===e&&c?.id===t&&c?.type===n,connectingTo:d,clickConnecting:r?.nodeId===e&&r?.id===t&&r?.type===n,isPossibleEndHandle:o===_r.Strict?c?.type!==n:e!==c?.nodeId||t!==c?.id,connectionInProcess:!!c,valid:d&&u}};function d$({type:e="source",position:t=xe.Top,isValidConnection:n,isConnectable:s=!0,isConnectableStart:r=!0,isConnectableEnd:o=!0,id:a,onConnect:c,children:l,className:u,onMouseDown:d,onTouchStart:h,...p},f){const g=a||null,m=e==="target",b=xt(),x=Uv(),{connectOnClick:T,noPanClassName:w,rfId:j}=qe(l$,kt),{connectingFrom:N,connectingTo:I,clickConnecting:C,isPossibleEndHandle:S,connectionInProcess:y,valid:k}=qe(u$(x,g,e),kt);x||b.getState().onError?.("010",Qs.error010());const P=O=>{const{defaultEdgeOptions:R,onConnect:D,hasDefaultEdges:$}=b.getState(),M={...R,...O};if($){const{edges:A,setEdges:H}=b.getState();H(qA(M,A))}D?.(M),c?.(M)},q=O=>{if(!x)return;const R=mv(O.nativeEvent);if(r&&(R&&O.button===0||!R)){const D=b.getState();hd.onPointerDown(O.nativeEvent,{autoPanOnConnect:D.autoPanOnConnect,connectionMode:D.connectionMode,connectionRadius:D.connectionRadius,domNode:D.domNode,nodeLookup:D.nodeLookup,lib:D.lib,isTarget:m,handleId:g,nodeId:x,flowId:D.rfId,panBy:D.panBy,cancelConnection:D.cancelConnection,onConnectStart:D.onConnectStart,onConnectEnd:D.onConnectEnd,updateConnection:D.updateConnection,onConnect:P,isValidConnection:n||D.isValidConnection,getTransform:()=>b.getState().transform,getFromHandle:()=>b.getState().connection.fromHandle,autoPanSpeed:D.autoPanSpeed})}R?d?.(O):h?.(O)},Q=O=>{const{onClickConnectStart:R,onClickConnectEnd:D,connectionClickStartHandle:$,connectionMode:M,isValidConnection:A,lib:H,rfId:Z,nodeLookup:z,connection:se}=b.getState();if(!x||!$&&!r)return;if(!$){R?.(O.nativeEvent,{nodeId:x,handleId:g,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:x,type:e,id:g}});return}const oe=gv(O.target),ne=n||A,{connection:ce,isValid:he}=hd.isValid(O.nativeEvent,{handle:{nodeId:x,id:g,type:e},connectionMode:M,fromNodeId:$.nodeId,fromHandleId:$.id||null,fromType:$.type,isValidConnection:ne,flowId:Z,doc:oe,lib:H,nodeLookup:z});he&&ce&&P(ce);const K=structuredClone(se);delete K.inProgress,K.toPosition=K.toHandle?K.toHandle.position:null,D?.(O,K),b.setState({connectionClickStartHandle:null})};return i.jsx("div",{"data-handleid":g,"data-nodeid":x,"data-handlepos":t,"data-id":`${j}-${x}-${g}-${e}`,className:$t(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,u,{source:!m,target:m,connectable:s,connectablestart:r,connectableend:o,clickconnecting:C,connectingfrom:N,connectingto:I,valid:k,connectionindicator:s&&(!y||S)&&(y?o:r)}]),onMouseDown:q,onTouchStart:q,onClick:T?Q:void 0,ref:f,...p,children:l})}const Rr=v.memo(Fv(d$));function h$({data:e,isConnectable:t,sourcePosition:n=xe.Bottom}){return i.jsxs(i.Fragment,{children:[e?.label,i.jsx(Rr,{type:"source",position:n,isConnectable:t})]})}function p$({data:e,isConnectable:t,targetPosition:n=xe.Top,sourcePosition:s=xe.Bottom}){return i.jsxs(i.Fragment,{children:[i.jsx(Rr,{type:"target",position:n,isConnectable:t}),e?.label,i.jsx(Rr,{type:"source",position:s,isConnectable:t})]})}function f$(){return null}function g$({data:e,isConnectable:t,targetPosition:n=xe.Top}){return i.jsxs(i.Fragment,{children:[i.jsx(Rr,{type:"target",position:n,isConnectable:t}),e?.label]})}const jc={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},om={input:h$,default:p$,output:g$,group:f$};function m$(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const b$=e=>{const{width:t,height:n,x:s,y:r}=aa(e.nodeLookup,{filter:o=>!!o.selected});return{width:Zn(t)?t:null,height:Zn(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${s}px,${r}px)`}};function x$({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const s=xt(),{width:r,height:o,transformString:a,userSelectionActive:c}=qe(b$,kt),l=Vv(),u=v.useRef(null);if(v.useEffect(()=>{n||u.current?.focus({preventScroll:!0})},[n]),Qv({nodeRef:u}),c||!r||!o)return null;const d=e?p=>{const f=s.getState().nodes.filter(g=>g.selected);e(p,f)}:void 0,h=p=>{Object.prototype.hasOwnProperty.call(jc,p.key)&&l({direction:jc[p.key],factor:p.shiftKey?4:1})};return i.jsx("div",{className:$t(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a},children:i.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:r,height:o}})})}const am=typeof window<"u"?window:void 0,y$=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function zv({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:r,onPaneContextMenu:o,onPaneScroll:a,paneClickDistance:c,deleteKeyCode:l,selectionKeyCode:u,selectionOnDrag:d,selectionMode:h,onSelectionStart:p,onSelectionEnd:f,multiSelectionKeyCode:g,panActivationKeyCode:m,zoomActivationKeyCode:b,elementsSelectable:x,zoomOnScroll:T,zoomOnPinch:w,panOnScroll:j,panOnScrollSpeed:N,panOnScrollMode:I,zoomOnDoubleClick:C,panOnDrag:S,defaultViewport:y,translateExtent:k,minZoom:P,maxZoom:q,preventScrolling:Q,onSelectionContextMenu:O,noWheelClassName:R,noPanClassName:D,disableKeyboardA11y:$,onViewportChange:M,isControlledViewport:A}){const{nodesSelectionActive:H,userSelectionActive:Z}=qe(y$),z=Ro(u,{target:am}),se=Ro(m,{target:am}),oe=se||S,ne=se||j,ce=d&&oe!==!0,he=z||Z||ce;return KP({deleteKeyCode:l,multiSelectionKeyCode:g}),i.jsx(n$,{onPaneContextMenu:o,elementsSelectable:x,zoomOnScroll:T,zoomOnPinch:w,panOnScroll:ne,panOnScrollSpeed:N,panOnScrollMode:I,zoomOnDoubleClick:C,panOnDrag:!z&&oe,defaultViewport:y,translateExtent:k,minZoom:P,maxZoom:q,zoomActivationKeyCode:b,preventScrolling:Q,noWheelClassName:R,noPanClassName:D,onViewportChange:M,isControlledViewport:A,paneClickDistance:c,children:i.jsxs(o$,{onSelectionStart:p,onSelectionEnd:f,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:r,onPaneContextMenu:o,onPaneScroll:a,panOnDrag:oe,isSelecting:!!he,selectionMode:h,selectionKeyPressed:z,selectionOnDrag:ce,children:[e,H&&i.jsx(x$,{onSelectionContextMenu:O,noPanClassName:D,disableKeyboardA11y:$})]})})}zv.displayName="FlowRenderer";const v$=v.memo(zv),w$=e=>t=>e?cv(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function S$(e){return qe(v.useCallback(w$(e),[e]),kt)}const j$=e=>e.updateNodeInternals;function T$(){const e=qe(j$),[t]=v.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const s=new Map;n.forEach(r=>{const o=r.target.getAttribute("data-id");s.set(o,{id:o,nodeElement:r.target,force:!0})}),e(s)}));return v.useEffect(()=>()=>{t?.disconnect()},[t]),t}function E$({node:e,nodeType:t,hasDimensions:n,resizeObserver:s}){const r=xt(),o=v.useRef(null),a=v.useRef(null),c=v.useRef(e.sourcePosition),l=v.useRef(e.targetPosition),u=v.useRef(t),d=n&&!!e.internals.handleBounds;return v.useEffect(()=>{o.current&&!e.hidden&&(!d||a.current!==o.current)&&(a.current&&s?.unobserve(a.current),s?.observe(o.current),a.current=o.current)},[d,e.hidden]),v.useEffect(()=>()=>{a.current&&(s?.unobserve(a.current),a.current=null)},[]),v.useEffect(()=>{if(o.current){const h=u.current!==t,p=c.current!==e.sourcePosition,f=l.current!==e.targetPosition;(h||p||f)&&(u.current=t,c.current=e.sourcePosition,l.current=e.targetPosition,r.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function k$({id:e,onClick:t,onMouseEnter:n,onMouseMove:s,onMouseLeave:r,onContextMenu:o,onDoubleClick:a,nodesDraggable:c,elementsSelectable:l,nodesConnectable:u,nodesFocusable:d,resizeObserver:h,noDragClassName:p,noPanClassName:f,disableKeyboardA11y:g,rfId:m,nodeTypes:b,nodeExtent:x,nodeClickDistance:T,onError:w}){const{node:j,internals:N,isParent:I}=qe(K=>{const ee=K.nodeLookup.get(e),ge=K.parentLookup.has(e);return{node:ee,internals:ee.internals,isParent:ge}},kt);let C=j.type||"default",S=b?.[C]||om[C];S===void 0&&(w?.("003",Qs.error003(C)),C="default",S=om.default);const y=!!(j.draggable||c&&typeof j.draggable>"u"),k=!!(j.selectable||l&&typeof j.selectable>"u"),P=!!(j.connectable||u&&typeof j.connectable>"u"),q=!!(j.focusable||d&&typeof j.focusable>"u"),Q=xt(),O=Dh(j),R=E$({node:j,nodeType:C,hasDimensions:O,resizeObserver:h}),D=Qv({nodeRef:R,disabled:j.hidden||!y,noDragClassName:p,handleSelector:j.dragHandle,nodeId:e,isSelectable:k,nodeClickDistance:T}),$=Vv();if(j.hidden)return null;const M=Vs(j),A=m$(j),H=k||y||t||n||s||r,Z=n?K=>n(K,{...N.userNode}):void 0,z=s?K=>s(K,{...N.userNode}):void 0,se=r?K=>r(K,{...N.userNode}):void 0,oe=o?K=>o(K,{...N.userNode}):void 0,ne=a?K=>a(K,{...N.userNode}):void 0,ce=K=>{const{selectNodesOnDrag:ee,nodeDragThreshold:ge}=Q.getState();k&&(!ee||!y||ge>0)&&pd({id:e,store:Q,nodeRef:R}),t&&t(K,{...N.userNode})},he=K=>{if(!(cd(K.nativeEvent)||g))if(iv.includes(K.key)&&k){const ee=K.key==="Escape";pd({id:e,store:Q,unselect:ee,nodeRef:R})}else y&&j.selected&&Object.prototype.hasOwnProperty.call(jc,K.key)&&(Q.setState({ariaLiveMessage:`Moved selected node ${K.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~N.positionAbsolute.x}, y: ${~~N.positionAbsolute.y}`}),$({direction:jc[K.key],factor:K.shiftKey?4:1}))};return i.jsx("div",{className:$t(["react-flow__node",`react-flow__node-${C}`,{[f]:y},j.className,{selected:j.selected,selectable:k,parent:I,draggable:y,dragging:D}]),ref:R,style:{zIndex:N.z,transform:`translate(${N.positionAbsolute.x}px,${N.positionAbsolute.y}px)`,pointerEvents:H?"all":"none",visibility:O?"visible":"hidden",...j.style,...A},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:Z,onMouseMove:z,onMouseLeave:se,onContextMenu:oe,onClick:ce,onDoubleClick:ne,onKeyDown:q?he:void 0,tabIndex:q?0:void 0,role:q?"button":void 0,"aria-describedby":g?void 0:`${Rv}-${m}`,"aria-label":j.ariaLabel,children:i.jsx(c$,{value:e,children:i.jsx(S,{id:e,data:j.data,type:C,positionAbsoluteX:N.positionAbsolute.x,positionAbsoluteY:N.positionAbsolute.y,selected:j.selected,selectable:k,draggable:y,deletable:j.deletable??!0,isConnectable:P,sourcePosition:j.sourcePosition,targetPosition:j.targetPosition,dragging:D,dragHandle:j.dragHandle,zIndex:N.z,parentId:j.parentId,...M})})})}const O$=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Bv(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:s,elementsSelectable:r,onError:o}=qe(O$,kt),a=S$(e.onlyRenderVisibleElements),c=T$();return i.jsx("div",{className:"react-flow__nodes",style:hl,children:a.map(l=>i.jsx(k$,{id:l,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:c,nodesDraggable:t,nodesConnectable:n,nodesFocusable:s,elementsSelectable:r,nodeClickDistance:e.nodeClickDistance,onError:o},l))})}Bv.displayName="NodeRenderer";const C$=v.memo(Bv);function _$(e){return qe(v.useCallback(n=>{if(!e)return n.edges.map(r=>r.id);const s=[];if(n.width&&n.height)for(const r of n.edges){const o=n.nodeLookup.get(r.source),a=n.nodeLookup.get(r.target);o&&a&&LA({sourceNode:o,targetNode:a,width:n.width,height:n.height,transform:n.transform})&&s.push(r.id)}return s},[e]),kt)}const N$=({color:e="none",strokeWidth:t=1})=>i.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),I$=({color:e="none",strokeWidth:t=1})=>i.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),cm={[Oi.Arrow]:N$,[Oi.ArrowClosed]:I$};function D$(e){const t=xt();return v.useMemo(()=>Object.prototype.hasOwnProperty.call(cm,e)?cm[e]:(t.getState().onError?.("009",Qs.error009(e)),null),[e])}const R$=({id:e,type:t,color:n,width:s=12.5,height:r=12.5,markerUnits:o="strokeWidth",strokeWidth:a,orient:c="auto-start-reverse"})=>{const l=D$(t);return l?i.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${s}`,markerHeight:`${r}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:c,refX:"0",refY:"0",children:i.jsx(l,{color:n,strokeWidth:a})}):null},Hv=({defaultColor:e,rfId:t})=>{const n=qe(o=>o.edges),s=qe(o=>o.defaultEdgeOptions),r=v.useMemo(()=>BA(n,{id:t,defaultColor:e,defaultMarkerStart:s?.markerStart,defaultMarkerEnd:s?.markerEnd}),[n,s,t,e]);return r.length?i.jsx("svg",{className:"react-flow__marker",children:i.jsx("defs",{children:r.map(o=>i.jsx(R$,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};Hv.displayName="MarkerDefinitions";var A$=v.memo(Hv);function Gv({x:e,y:t,label:n,labelStyle:s={},labelShowBg:r=!0,labelBgStyle:o={},labelBgPadding:a=[2,4],labelBgBorderRadius:c=2,children:l,className:u,...d}){const[h,p]=v.useState({x:1,y:0,width:0,height:0}),f=$t(["react-flow__edge-textwrapper",u]),g=v.useRef(null);return v.useEffect(()=>{if(g.current){const m=g.current.getBBox();p({x:m.x,y:m.y,width:m.width,height:m.height})}},[n]),typeof n>"u"||!n?null:i.jsxs("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:f,visibility:h.width?"visible":"hidden",...d,children:[r&&i.jsx("rect",{width:h.width+2*a[0],x:-a[0],y:-a[1],height:h.height+2*a[1],className:"react-flow__edge-textbg",style:o,rx:c,ry:c}),i.jsx("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:g,style:s,children:n}),l]})}Gv.displayName="EdgeText";const P$=v.memo(Gv);function la({id:e,path:t,labelX:n,labelY:s,label:r,labelStyle:o,labelShowBg:a,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:p,className:f,interactionWidth:g=20}){return i.jsxs(i.Fragment,{children:[i.jsx("path",{id:e,style:d,d:t,fill:"none",className:$t(["react-flow__edge-path",f]),markerEnd:h,markerStart:p}),g&&i.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),r&&Zn(n)&&Zn(s)?i.jsx(P$,{x:n,y:s,label:r,labelStyle:o,labelShowBg:a,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:u}):null]})}function lm({pos:e,x1:t,y1:n,x2:s,y2:r}){return e===xe.Left||e===xe.Right?[.5*(t+s),n]:[t,.5*(n+r)]}function Yv({sourceX:e,sourceY:t,sourcePosition:n=xe.Bottom,targetX:s,targetY:r,targetPosition:o=xe.Top}){const[a,c]=lm({pos:n,x1:e,y1:t,x2:s,y2:r}),[l,u]=lm({pos:o,x1:s,y1:r,x2:e,y2:t}),[d,h,p,f]=bv({sourceX:e,sourceY:t,targetX:s,targetY:r,sourceControlX:a,sourceControlY:c,targetControlX:l,targetControlY:u});return[`M${e},${t} C${a},${c} ${l},${u} ${s},${r}`,d,h,p,f]}function Xv(e){return v.memo(({id:t,sourceX:n,sourceY:s,targetX:r,targetY:o,sourcePosition:a=xe.Bottom,targetPosition:c=xe.Top,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:f,style:g,markerEnd:m,markerStart:b,interactionWidth:x})=>{const[T,w,j]=Yv({sourceX:n,sourceY:s,sourcePosition:a,targetX:r,targetY:o,targetPosition:c}),N=e.isInternal?void 0:t;return i.jsx(la,{id:N,path:T,labelX:w,labelY:j,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:f,style:g,markerEnd:m,markerStart:b,interactionWidth:x})})}const $$=Xv({isInternal:!1}),Wv=Xv({isInternal:!0});$$.displayName="SimpleBezierEdge";Wv.displayName="SimpleBezierEdgeInternal";function Zv(e){return v.memo(({id:t,sourceX:n,sourceY:s,targetX:r,targetY:o,label:a,labelStyle:c,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:p,sourcePosition:f=xe.Bottom,targetPosition:g=xe.Top,markerEnd:m,markerStart:b,pathOptions:x,interactionWidth:T})=>{const[w,j,N]=ld({sourceX:n,sourceY:s,sourcePosition:f,targetX:r,targetY:o,targetPosition:g,borderRadius:x?.borderRadius,offset:x?.offset}),I=e.isInternal?void 0:t;return i.jsx(la,{id:I,path:w,labelX:j,labelY:N,label:a,labelStyle:c,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:b,interactionWidth:T})})}const Fh=Zv({isInternal:!1}),Jv=Zv({isInternal:!0});Fh.displayName="SmoothStepEdge";Jv.displayName="SmoothStepEdgeInternal";function Kv(e){return v.memo(({id:t,...n})=>{const s=e.isInternal?void 0:t;return i.jsx(Fh,{...n,id:s,pathOptions:v.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const L$=Kv({isInternal:!1}),ew=Kv({isInternal:!0});L$.displayName="StepEdge";ew.displayName="StepEdgeInternal";function tw(e){return v.memo(({id:t,sourceX:n,sourceY:s,targetX:r,targetY:o,label:a,labelStyle:c,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:f,markerStart:g,interactionWidth:m})=>{const[b,x,T]=vv({sourceX:n,sourceY:s,targetX:r,targetY:o}),w=e.isInternal?void 0:t;return i.jsx(la,{id:w,path:b,labelX:x,labelY:T,label:a,labelStyle:c,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:f,markerStart:g,interactionWidth:m})})}const M$=tw({isInternal:!1}),nw=tw({isInternal:!0});M$.displayName="StraightEdge";nw.displayName="StraightEdgeInternal";function sw(e){return v.memo(({id:t,sourceX:n,sourceY:s,targetX:r,targetY:o,sourcePosition:a=xe.Bottom,targetPosition:c=xe.Top,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:f,style:g,markerEnd:m,markerStart:b,pathOptions:x,interactionWidth:T})=>{const[w,j,N]=xv({sourceX:n,sourceY:s,sourcePosition:a,targetX:r,targetY:o,targetPosition:c,curvature:x?.curvature}),I=e.isInternal?void 0:t;return i.jsx(la,{id:I,path:w,labelX:j,labelY:N,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:f,style:g,markerEnd:m,markerStart:b,interactionWidth:T})})}const F$=sw({isInternal:!1}),iw=sw({isInternal:!0});F$.displayName="BezierEdge";iw.displayName="BezierEdgeInternal";const um={default:iw,straight:nw,step:ew,smoothstep:Jv,simplebezier:Wv},dm={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},q$=(e,t,n)=>n===xe.Left?e-t:n===xe.Right?e+t:e,Q$=(e,t,n)=>n===xe.Top?e-t:n===xe.Bottom?e+t:e,hm="react-flow__edgeupdater";function pm({position:e,centerX:t,centerY:n,radius:s=10,onMouseDown:r,onMouseEnter:o,onMouseOut:a,type:c}){return i.jsx("circle",{onMouseDown:r,onMouseEnter:o,onMouseOut:a,className:$t([hm,`${hm}-${c}`]),cx:q$(t,s,e),cy:Q$(n,s,e),r:s,stroke:"transparent",fill:"transparent"})}function V$({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:s,sourceY:r,targetX:o,targetY:a,sourcePosition:c,targetPosition:l,onReconnect:u,onReconnectStart:d,onReconnectEnd:h,setReconnecting:p,setUpdateHover:f}){const g=xt(),m=(j,N)=>{if(j.button!==0)return;const{autoPanOnConnect:I,domNode:C,isValidConnection:S,connectionMode:y,connectionRadius:k,lib:P,onConnectStart:q,onConnectEnd:Q,cancelConnection:O,nodeLookup:R,rfId:D,panBy:$,updateConnection:M}=g.getState(),A=N.type==="target";p(!0),d?.(j,n,N.type);const H=(z,se)=>{p(!1),h?.(z,n,N.type,se)},Z=z=>u?.(n,z);hd.onPointerDown(j.nativeEvent,{autoPanOnConnect:I,connectionMode:y,connectionRadius:k,domNode:C,handleId:N.id,nodeId:N.nodeId,nodeLookup:R,isTarget:A,edgeUpdaterType:N.type,lib:P,flowId:D,cancelConnection:O,panBy:$,isValidConnection:S,onConnect:Z,onConnectStart:q,onConnectEnd:Q,onReconnectEnd:H,updateConnection:M,getTransform:()=>g.getState().transform,getFromHandle:()=>g.getState().connection.fromHandle})},b=j=>m(j,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),x=j=>m(j,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),T=()=>f(!0),w=()=>f(!1);return i.jsxs(i.Fragment,{children:[(e===!0||e==="source")&&i.jsx(pm,{position:c,centerX:s,centerY:r,radius:t,onMouseDown:b,onMouseEnter:T,onMouseOut:w,type:"source"}),(e===!0||e==="target")&&i.jsx(pm,{position:l,centerX:o,centerY:a,radius:t,onMouseDown:x,onMouseEnter:T,onMouseOut:w,type:"target"})]})}function U$({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:s,onClick:r,onDoubleClick:o,onContextMenu:a,onMouseEnter:c,onMouseMove:l,onMouseLeave:u,reconnectRadius:d,onReconnect:h,onReconnectStart:p,onReconnectEnd:f,rfId:g,edgeTypes:m,noPanClassName:b,onError:x,disableKeyboardA11y:T}){let w=qe(ae=>ae.edgeLookup.get(e));const j=qe(ae=>ae.defaultEdgeOptions);w=j?{...j,...w}:w;let N=w.type||"default",I=m?.[N]||um[N];I===void 0&&(x?.("011",Qs.error011(N)),N="default",I=um.default);const C=!!(w.focusable||t&&typeof w.focusable>"u"),S=typeof h<"u"&&(w.reconnectable||n&&typeof w.reconnectable>"u"),y=!!(w.selectable||s&&typeof w.selectable>"u"),k=v.useRef(null),[P,q]=v.useState(!1),[Q,O]=v.useState(!1),R=xt(),{zIndex:D,sourceX:$,sourceY:M,targetX:A,targetY:H,sourcePosition:Z,targetPosition:z}=qe(v.useCallback(ae=>{const be=ae.nodeLookup.get(w.source),ke=ae.nodeLookup.get(w.target);if(!be||!ke)return{zIndex:w.zIndex,...dm};const Oe=zA({id:e,sourceNode:be,targetNode:ke,sourceHandle:w.sourceHandle||null,targetHandle:w.targetHandle||null,connectionMode:ae.connectionMode,onError:x});return{zIndex:$A({selected:w.selected,zIndex:w.zIndex,sourceNode:be,targetNode:ke,elevateOnSelect:ae.elevateEdgesOnSelect}),...Oe||dm}},[w.source,w.target,w.sourceHandle,w.targetHandle,w.selected,w.zIndex]),kt),se=v.useMemo(()=>w.markerStart?`url('#${ud(w.markerStart,g)}')`:void 0,[w.markerStart,g]),oe=v.useMemo(()=>w.markerEnd?`url('#${ud(w.markerEnd,g)}')`:void 0,[w.markerEnd,g]);if(w.hidden||$===null||M===null||A===null||H===null)return null;const ne=ae=>{const{addSelectedEdges:be,unselectNodesAndEdges:ke,multiSelectionActive:Oe}=R.getState();y&&(R.setState({nodesSelectionActive:!1}),w.selected&&Oe?(ke({nodes:[],edges:[w]}),k.current?.blur()):be([e])),r&&r(ae,w)},ce=o?ae=>{o(ae,{...w})}:void 0,he=a?ae=>{a(ae,{...w})}:void 0,K=c?ae=>{c(ae,{...w})}:void 0,ee=l?ae=>{l(ae,{...w})}:void 0,ge=u?ae=>{u(ae,{...w})}:void 0,me=ae=>{if(!T&&iv.includes(ae.key)&&y){const{unselectNodesAndEdges:be,addSelectedEdges:ke}=R.getState();ae.key==="Escape"?(k.current?.blur(),be({edges:[w]})):ke([e])}};return i.jsx("svg",{style:{zIndex:D},children:i.jsxs("g",{className:$t(["react-flow__edge",`react-flow__edge-${N}`,w.className,b,{selected:w.selected,animated:w.animated,inactive:!y&&!r,updating:P,selectable:y}]),onClick:ne,onDoubleClick:ce,onContextMenu:he,onMouseEnter:K,onMouseMove:ee,onMouseLeave:ge,onKeyDown:C?me:void 0,tabIndex:C?0:void 0,role:C?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":w.ariaLabel===null?void 0:w.ariaLabel||`Edge from ${w.source} to ${w.target}`,"aria-describedby":C?`${Av}-${g}`:void 0,ref:k,children:[!Q&&i.jsx(I,{id:e,source:w.source,target:w.target,type:w.type,selected:w.selected,animated:w.animated,selectable:y,deletable:w.deletable??!0,label:w.label,labelStyle:w.labelStyle,labelShowBg:w.labelShowBg,labelBgStyle:w.labelBgStyle,labelBgPadding:w.labelBgPadding,labelBgBorderRadius:w.labelBgBorderRadius,sourceX:$,sourceY:M,targetX:A,targetY:H,sourcePosition:Z,targetPosition:z,data:w.data,style:w.style,sourceHandleId:w.sourceHandle,targetHandleId:w.targetHandle,markerStart:se,markerEnd:oe,pathOptions:"pathOptions"in w?w.pathOptions:void 0,interactionWidth:w.interactionWidth}),S&&i.jsx(V$,{edge:w,isReconnectable:S,reconnectRadius:d,onReconnect:h,onReconnectStart:p,onReconnectEnd:f,sourceX:$,sourceY:M,targetX:A,targetY:H,sourcePosition:Z,targetPosition:z,setUpdateHover:q,setReconnecting:O})]})})}const z$=e=>({width:e.width,height:e.height,edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function rw({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:s,noPanClassName:r,onReconnect:o,onEdgeContextMenu:a,onEdgeMouseEnter:c,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:d,reconnectRadius:h,onEdgeDoubleClick:p,onReconnectStart:f,onReconnectEnd:g,disableKeyboardA11y:m}){const{edgesFocusable:b,edgesReconnectable:x,elementsSelectable:T,onError:w}=qe(z$,kt),j=_$(t);return i.jsxs("div",{className:"react-flow__edges",children:[i.jsx(A$,{defaultColor:e,rfId:n}),j.map(N=>i.jsx(U$,{id:N,edgesFocusable:b,edgesReconnectable:x,elementsSelectable:T,noPanClassName:r,onReconnect:o,onContextMenu:a,onMouseEnter:c,onMouseMove:l,onMouseLeave:u,onClick:d,reconnectRadius:h,onDoubleClick:p,onReconnectStart:f,onReconnectEnd:g,rfId:n,onError:w,edgeTypes:s,disableKeyboardA11y:m},N))]})}rw.displayName="EdgeRenderer";const B$=v.memo(rw),H$=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function G$({children:e}){const t=qe(H$);return i.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function Y$(e){const t=Ao(),n=v.useRef(!1);v.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const X$=e=>e.panZoom?.syncViewport;function W$(e){const t=qe(X$),n=xt();return v.useEffect(()=>{e&&(t?.(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function Z$(e){return e.connection.inProgress?{...e.connection,to:ca(e.connection.to,e.transform)}:{...e.connection}}function J$(e){return Z$}function K$(e){const t=J$();return qe(t,kt)}const eL=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function tL({containerStyle:e,style:t,type:n,component:s}){const{nodesConnectable:r,width:o,height:a,isValid:c,inProgress:l}=qe(eL,kt);return!(o&&r&&l)?null:i.jsx("svg",{style:e,width:o,height:a,className:"react-flow__connectionline react-flow__container",children:i.jsx("g",{className:$t(["react-flow__connection",ov(c)]),children:i.jsx(ow,{style:t,type:n,CustomComponent:s,isValid:c})})})}const ow=({style:e,type:t=Xs.Bezier,CustomComponent:n,isValid:s})=>{const{inProgress:r,from:o,fromNode:a,fromHandle:c,fromPosition:l,to:u,toNode:d,toHandle:h,toPosition:p}=K$();if(!r)return;if(n)return i.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:a,fromHandle:c,fromX:o.x,fromY:o.y,toX:u.x,toY:u.y,fromPosition:l,toPosition:p,connectionStatus:ov(s),toNode:d,toHandle:h});let f="";const g={sourceX:o.x,sourceY:o.y,sourcePosition:l,targetX:u.x,targetY:u.y,targetPosition:p};switch(t){case Xs.Bezier:[f]=xv(g);break;case Xs.SimpleBezier:[f]=Yv(g);break;case Xs.Step:[f]=ld({...g,borderRadius:0});break;case Xs.SmoothStep:[f]=ld(g);break;default:[f]=vv(g)}return i.jsx("path",{d:f,fill:"none",className:"react-flow__connection-path",style:e})};ow.displayName="ConnectionLine";const nL={};function fm(e=nL){v.useRef(e),xt(),v.useEffect(()=>{},[e])}function sL(){xt(),v.useRef(!1),v.useEffect(()=>{},[])}function aw({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:s,onEdgeClick:r,onNodeDoubleClick:o,onEdgeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:d,onSelectionContextMenu:h,onSelectionStart:p,onSelectionEnd:f,connectionLineType:g,connectionLineStyle:m,connectionLineComponent:b,connectionLineContainerStyle:x,selectionKeyCode:T,selectionOnDrag:w,selectionMode:j,multiSelectionKeyCode:N,panActivationKeyCode:I,zoomActivationKeyCode:C,deleteKeyCode:S,onlyRenderVisibleElements:y,elementsSelectable:k,defaultViewport:P,translateExtent:q,minZoom:Q,maxZoom:O,preventScrolling:R,defaultMarkerColor:D,zoomOnScroll:$,zoomOnPinch:M,panOnScroll:A,panOnScrollSpeed:H,panOnScrollMode:Z,zoomOnDoubleClick:z,panOnDrag:se,onPaneClick:oe,onPaneMouseEnter:ne,onPaneMouseMove:ce,onPaneMouseLeave:he,onPaneScroll:K,onPaneContextMenu:ee,paneClickDistance:ge,nodeClickDistance:me,onEdgeContextMenu:ae,onEdgeMouseEnter:be,onEdgeMouseMove:ke,onEdgeMouseLeave:Oe,reconnectRadius:ye,onReconnect:$e,onReconnectStart:pt,onReconnectEnd:At,noDragClassName:Ut,noWheelClassName:Wt,noPanClassName:Xe,disableKeyboardA11y:ot,nodeExtent:zn,rfId:Ve,viewport:Pn,onViewportChange:un}){return fm(e),fm(t),sL(),Y$(n),W$(Pn),i.jsx(v$,{onPaneClick:oe,onPaneMouseEnter:ne,onPaneMouseMove:ce,onPaneMouseLeave:he,onPaneContextMenu:ee,onPaneScroll:K,paneClickDistance:ge,deleteKeyCode:S,selectionKeyCode:T,selectionOnDrag:w,selectionMode:j,onSelectionStart:p,onSelectionEnd:f,multiSelectionKeyCode:N,panActivationKeyCode:I,zoomActivationKeyCode:C,elementsSelectable:k,zoomOnScroll:$,zoomOnPinch:M,zoomOnDoubleClick:z,panOnScroll:A,panOnScrollSpeed:H,panOnScrollMode:Z,panOnDrag:se,defaultViewport:P,translateExtent:q,minZoom:Q,maxZoom:O,onSelectionContextMenu:h,preventScrolling:R,noDragClassName:Ut,noWheelClassName:Wt,noPanClassName:Xe,disableKeyboardA11y:ot,onViewportChange:un,isControlledViewport:!!Pn,children:i.jsxs(G$,{children:[i.jsx(B$,{edgeTypes:t,onEdgeClick:r,onEdgeDoubleClick:a,onReconnect:$e,onReconnectStart:pt,onReconnectEnd:At,onlyRenderVisibleElements:y,onEdgeContextMenu:ae,onEdgeMouseEnter:be,onEdgeMouseMove:ke,onEdgeMouseLeave:Oe,reconnectRadius:ye,defaultMarkerColor:D,noPanClassName:Xe,disableKeyboardA11y:ot,rfId:Ve}),i.jsx(tL,{style:m,type:g,component:b,containerStyle:x}),i.jsx("div",{className:"react-flow__edgelabel-renderer"}),i.jsx(C$,{nodeTypes:e,onNodeClick:s,onNodeDoubleClick:o,onNodeMouseEnter:c,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:d,nodeClickDistance:me,onlyRenderVisibleElements:y,noPanClassName:Xe,noDragClassName:Ut,disableKeyboardA11y:ot,nodeExtent:zn,rfId:Ve}),i.jsx("div",{className:"react-flow__viewport-portal"})]})})}aw.displayName="GraphView";const iL=v.memo(aw),gm=({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,width:r,height:o,fitView:a,nodeOrigin:c,nodeExtent:l}={})=>{const u=new Map,d=new Map,h=new Map,p=new Map,f=s??t??[],g=n??e??[],m=c??[0,0],b=l??_o;Sv(h,p,f),dd(g,u,d,{nodeOrigin:m,nodeExtent:b,elevateNodesOnSelect:!1});let x=[0,0,1];if(a&&r&&o){const T=aa(u,{filter:I=>!!((I.width||I.initialWidth)&&(I.height||I.initialHeight))}),{x:w,y:j,zoom:N}=Ih(T,r,o,.5,2,.1);x=[w,j,N]}return{rfId:"1",width:0,height:0,transform:x,nodes:g,nodeLookup:u,parentLookup:d,edges:f,edgeLookup:p,connectionLookup:h,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:s!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:_o,nodeExtent:b,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:_r.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:m,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...rv},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:AA,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},rL=({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,width:r,height:o,fitView:a,nodeOrigin:c,nodeExtent:l})=>TP((u,d)=>({...gm({nodes:e,edges:t,width:r,height:o,fitView:a,nodeOrigin:c,nodeExtent:l,defaultNodes:n,defaultEdges:s}),setNodes:h=>{const{nodeLookup:p,parentLookup:f,nodeOrigin:g,elevateNodesOnSelect:m}=d();dd(h,p,f,{nodeOrigin:g,nodeExtent:l,elevateNodesOnSelect:m,checkEquality:!0}),u({nodes:h})},setEdges:h=>{const{connectionLookup:p,edgeLookup:f}=d();Sv(p,f,h),u({edges:h})},setDefaultNodesAndEdges:(h,p)=>{if(h){const{setNodes:f}=d();f(h),u({hasDefaultNodes:!0})}if(p){const{setEdges:f}=d();f(p),u({hasDefaultEdges:!0})}},updateNodeInternals:(h,p={triggerFitView:!0})=>{const{triggerNodeChanges:f,nodeLookup:g,parentLookup:m,fitViewOnInit:b,fitViewDone:x,fitViewOnInitOptions:T,domNode:w,nodeOrigin:j,nodeExtent:N,debug:I,fitViewSync:C}=d(),{changes:S,updatedInternals:y}=WA(h,g,m,w,j,N);if(y){if(GA(g,m,{nodeOrigin:j,nodeExtent:N}),p.triggerFitView){let k=x;!x&&b&&(k=C({...T,nodes:T?.nodes})),u({fitViewDone:k})}else u({});S?.length>0&&(I&&console.log("React Flow: trigger node changes",S),f?.(S))}},updateNodePositions:(h,p=!1)=>{const f=[],g=[];for(const[m,b]of h){const x={id:m,type:"position",position:b.position,dragging:p};b?.expandParent&&b?.parentId&&x.position&&(f.push({id:m,parentId:b.parentId,rect:{...b.internals.positionAbsolute,width:b.measured.width,height:b.measured.height}}),x.position.x=Math.max(0,x.position.x),x.position.y=Math.max(0,x.position.y)),g.push(x)}if(f.length>0){const{nodeLookup:m,parentLookup:b,nodeOrigin:x}=d(),T=$h(f,m,b,x);g.push(...T)}d().triggerNodeChanges(g)},triggerNodeChanges:h=>{const{onNodesChange:p,setNodes:f,nodes:g,hasDefaultNodes:m,debug:b}=d();if(h?.length){if(m){const x=Lv(h,g);f(x)}b&&console.log("React Flow: trigger node changes",h),p?.(h)}},triggerEdgeChanges:h=>{const{onEdgesChange:p,setEdges:f,edges:g,hasDefaultEdges:m,debug:b}=d();if(h?.length){if(m){const x=Mv(h,g);f(x)}b&&console.log("React Flow: trigger edge changes",h),p?.(h)}},addSelectedNodes:h=>{const{multiSelectionActive:p,edgeLookup:f,nodeLookup:g,triggerNodeChanges:m,triggerEdgeChanges:b}=d();if(p){const x=h.map(T=>pi(T,!0));m(x);return}m(ir(g,new Set([...h]),!0)),b(ir(f))},addSelectedEdges:h=>{const{multiSelectionActive:p,edgeLookup:f,nodeLookup:g,triggerNodeChanges:m,triggerEdgeChanges:b}=d();if(p){const x=h.map(T=>pi(T,!0));b(x);return}b(ir(f,new Set([...h]))),m(ir(g,new Set,!0))},unselectNodesAndEdges:({nodes:h,edges:p}={})=>{const{edges:f,nodes:g,nodeLookup:m,triggerNodeChanges:b,triggerEdgeChanges:x}=d(),T=h||g,w=p||f,j=T.map(I=>{const C=m.get(I.id);return C&&(C.selected=!1),pi(I.id,!1)}),N=w.map(I=>pi(I.id,!1));b(j),x(N)},setMinZoom:h=>{const{panZoom:p,maxZoom:f}=d();p?.setScaleExtent([h,f]),u({minZoom:h})},setMaxZoom:h=>{const{panZoom:p,minZoom:f}=d();p?.setScaleExtent([f,h]),u({maxZoom:h})},setTranslateExtent:h=>{d().panZoom?.setTranslateExtent(h),u({translateExtent:h})},setPaneClickDistance:h=>{d().panZoom?.setClickDistance(h)},resetSelectedElements:()=>{const{edges:h,nodes:p,triggerNodeChanges:f,triggerEdgeChanges:g}=d(),m=p.reduce((x,T)=>T.selected?[...x,pi(T.id,!1)]:x,[]),b=h.reduce((x,T)=>T.selected?[...x,pi(T.id,!1)]:x,[]);f(m),g(b)},setNodeExtent:h=>{const{nodes:p,nodeLookup:f,parentLookup:g,nodeOrigin:m,elevateNodesOnSelect:b,nodeExtent:x}=d();h[0][0]===x[0][0]&&h[0][1]===x[0][1]&&h[1][0]===x[1][0]&&h[1][1]===x[1][1]||(dd(p,f,g,{nodeOrigin:m,nodeExtent:h,elevateNodesOnSelect:b,checkEquality:!1}),u({nodeExtent:h}))},panBy:h=>{const{transform:p,width:f,height:g,panZoom:m,translateExtent:b}=d();return ZA({delta:h,panZoom:m,transform:p,translateExtent:b,width:f,height:g})},fitView:h=>{const{panZoom:p,width:f,height:g,minZoom:m,maxZoom:b,nodeLookup:x}=d();if(!p)return Promise.resolve(!1);const T=rd(x,h);return od({nodes:T,width:f,height:g,panZoom:p,minZoom:m,maxZoom:b},h)},fitViewSync:h=>{const{panZoom:p,width:f,height:g,minZoom:m,maxZoom:b,nodeLookup:x}=d();if(!p)return!1;const T=rd(x,h);return od({nodes:T,width:f,height:g,panZoom:p,minZoom:m,maxZoom:b},h),T.size>0},cancelConnection:()=>{u({connection:{...rv}})},updateConnection:h=>{u({connection:h})},reset:()=>u({...gm()})}),Object.is);function cw({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:s,initialWidth:r,initialHeight:o,fitView:a,nodeOrigin:c,nodeExtent:l,children:u}){const[d]=v.useState(()=>rL({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,width:r,height:o,fitView:a,nodeOrigin:c,nodeExtent:l}));return i.jsx(EP,{value:d,children:i.jsx(YP,{children:u})})}function oL({children:e,nodes:t,edges:n,defaultNodes:s,defaultEdges:r,width:o,height:a,fitView:c,nodeOrigin:l,nodeExtent:u}){return v.useContext(dl)?i.jsx(i.Fragment,{children:e}):i.jsx(cw,{initialNodes:t,initialEdges:n,defaultNodes:s,defaultEdges:r,initialWidth:o,initialHeight:a,fitView:c,nodeOrigin:l,nodeExtent:u,children:e})}const aL={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function cL({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,className:r,nodeTypes:o,edgeTypes:a,onNodeClick:c,onEdgeClick:l,onInit:u,onMove:d,onMoveStart:h,onMoveEnd:p,onConnect:f,onConnectStart:g,onConnectEnd:m,onClickConnectStart:b,onClickConnectEnd:x,onNodeMouseEnter:T,onNodeMouseMove:w,onNodeMouseLeave:j,onNodeContextMenu:N,onNodeDoubleClick:I,onNodeDragStart:C,onNodeDrag:S,onNodeDragStop:y,onNodesDelete:k,onEdgesDelete:P,onDelete:q,onSelectionChange:Q,onSelectionDragStart:O,onSelectionDrag:R,onSelectionDragStop:D,onSelectionContextMenu:$,onSelectionStart:M,onSelectionEnd:A,onBeforeDelete:H,connectionMode:Z,connectionLineType:z=Xs.Bezier,connectionLineStyle:se,connectionLineComponent:oe,connectionLineContainerStyle:ne,deleteKeyCode:ce="Backspace",selectionKeyCode:he="Shift",selectionOnDrag:K=!1,selectionMode:ee=No.Full,panActivationKeyCode:ge="Space",multiSelectionKeyCode:me=Sc()?"Meta":"Control",zoomActivationKeyCode:ae=Sc()?"Meta":"Control",snapToGrid:be,snapGrid:ke,onlyRenderVisibleElements:Oe=!1,selectNodesOnDrag:ye,nodesDraggable:$e,nodesConnectable:pt,nodesFocusable:At,nodeOrigin:Ut=Pv,edgesFocusable:Wt,edgesReconnectable:Xe,elementsSelectable:ot=!0,defaultViewport:zn=MP,minZoom:Ve=.5,maxZoom:Pn=2,translateExtent:un=_o,preventScrolling:Es=!0,nodeExtent:$n,defaultMarkerColor:us="#b1b1b7",zoomOnScroll:ds=!0,zoomOnPinch:dn=!0,panOnScroll:Zi=!1,panOnScrollSpeed:hn=.5,panOnScrollMode:ua=ki.Free,zoomOnDoubleClick:zr=!0,panOnDrag:Yw=!0,onPaneClick:Xw,onPaneMouseEnter:Ww,onPaneMouseMove:Zw,onPaneMouseLeave:Jw,onPaneScroll:Kw,onPaneContextMenu:e0,paneClickDistance:Gh=0,nodeClickDistance:t0=0,children:n0,onReconnect:s0,onReconnectStart:i0,onReconnectEnd:r0,onEdgeContextMenu:o0,onEdgeDoubleClick:a0,onEdgeMouseEnter:c0,onEdgeMouseMove:l0,onEdgeMouseLeave:u0,reconnectRadius:d0=10,onNodesChange:h0,onEdgesChange:p0,noDragClassName:f0="nodrag",noWheelClassName:g0="nowheel",noPanClassName:Yh="nopan",fitView:Xh,fitViewOptions:m0,connectOnClick:b0,attributionPosition:x0,proOptions:y0,defaultEdgeOptions:v0,elevateNodesOnSelect:w0,elevateEdgesOnSelect:S0,disableKeyboardA11y:Wh=!1,autoPanOnConnect:j0,autoPanOnNodeDrag:T0,autoPanSpeed:E0,connectionRadius:k0,isValidConnection:O0,onError:C0,style:_0,id:Zh,nodeDragThreshold:N0,viewport:I0,onViewportChange:D0,width:R0,height:A0,colorMode:P0="light",debug:$0,...L0},M0){const xl=Zh||"1",F0=VP(P0);return i.jsx("div",{...L0,style:{..._0,...aL},ref:M0,className:$t(["react-flow",r,F0]),"data-testid":"rf__wrapper",id:Zh,children:i.jsxs(oL,{nodes:e,edges:t,width:R0,height:A0,fitView:Xh,nodeOrigin:Ut,nodeExtent:$n,children:[i.jsx(iL,{onInit:u,onNodeClick:c,onEdgeClick:l,onNodeMouseEnter:T,onNodeMouseMove:w,onNodeMouseLeave:j,onNodeContextMenu:N,onNodeDoubleClick:I,nodeTypes:o,edgeTypes:a,connectionLineType:z,connectionLineStyle:se,connectionLineComponent:oe,connectionLineContainerStyle:ne,selectionKeyCode:he,selectionOnDrag:K,selectionMode:ee,deleteKeyCode:ce,multiSelectionKeyCode:me,panActivationKeyCode:ge,zoomActivationKeyCode:ae,onlyRenderVisibleElements:Oe,defaultViewport:zn,translateExtent:un,minZoom:Ve,maxZoom:Pn,preventScrolling:Es,zoomOnScroll:ds,zoomOnPinch:dn,zoomOnDoubleClick:zr,panOnScroll:Zi,panOnScrollSpeed:hn,panOnScrollMode:ua,panOnDrag:Yw,onPaneClick:Xw,onPaneMouseEnter:Ww,onPaneMouseMove:Zw,onPaneMouseLeave:Jw,onPaneScroll:Kw,onPaneContextMenu:e0,paneClickDistance:Gh,nodeClickDistance:t0,onSelectionContextMenu:$,onSelectionStart:M,onSelectionEnd:A,onReconnect:s0,onReconnectStart:i0,onReconnectEnd:r0,onEdgeContextMenu:o0,onEdgeDoubleClick:a0,onEdgeMouseEnter:c0,onEdgeMouseMove:l0,onEdgeMouseLeave:u0,reconnectRadius:d0,defaultMarkerColor:us,noDragClassName:f0,noWheelClassName:g0,noPanClassName:Yh,rfId:xl,disableKeyboardA11y:Wh,nodeExtent:$n,viewport:I0,onViewportChange:D0}),i.jsx(QP,{nodes:e,edges:t,defaultNodes:n,defaultEdges:s,onConnect:f,onConnectStart:g,onConnectEnd:m,onClickConnectStart:b,onClickConnectEnd:x,nodesDraggable:$e,nodesConnectable:pt,nodesFocusable:At,edgesFocusable:Wt,edgesReconnectable:Xe,elementsSelectable:ot,elevateNodesOnSelect:w0,elevateEdgesOnSelect:S0,minZoom:Ve,maxZoom:Pn,nodeExtent:$n,onNodesChange:h0,onEdgesChange:p0,snapToGrid:be,snapGrid:ke,connectionMode:Z,translateExtent:un,connectOnClick:b0,defaultEdgeOptions:v0,fitView:Xh,fitViewOptions:m0,onNodesDelete:k,onEdgesDelete:P,onDelete:q,onNodeDragStart:C,onNodeDrag:S,onNodeDragStop:y,onSelectionDrag:R,onSelectionDragStart:O,onSelectionDragStop:D,onMove:d,onMoveStart:h,onMoveEnd:p,noPanClassName:Yh,nodeOrigin:Ut,rfId:xl,autoPanOnConnect:j0,autoPanOnNodeDrag:T0,autoPanSpeed:E0,onError:C0,connectionRadius:k0,isValidConnection:O0,selectNodesOnDrag:ye,nodeDragThreshold:N0,onBeforeDelete:H,paneClickDistance:Gh,debug:$0}),i.jsx(LP,{onSelectionChange:Q}),n0,i.jsx(DP,{proOptions:y0,position:x0}),i.jsx(NP,{rfId:xl,disableKeyboardA11y:Wh})]})})}var lL=Fv(cL);function uL(e){const[t,n]=v.useState(e),s=v.useCallback(r=>n(o=>Lv(r,o)),[]);return[t,n,s]}function dL(e){const[t,n]=v.useState(e),s=v.useCallback(r=>n(o=>Mv(r,o)),[]);return[t,n,s]}const hL=e=>t=>{if(t.nodeLookup.size===0)return!1;for(const[,{hidden:n,internals:s}]of t.nodeLookup)if((e.includeHiddenNodes||!n)&&(s.handleBounds===void 0||!Dh(s.userNode)))return!1;return!0},pL={includeHiddenNodes:!1};function fL(e=pL){return qe(hL(e))}function gL({dimensions:e,lineWidth:t,variant:n,className:s}){return i.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:$t(["react-flow__background-pattern",n,s])})}function mL({radius:e,className:t}){return i.jsx("circle",{cx:e,cy:e,r:e,className:$t(["react-flow__background-pattern","dots",t])})}var ii;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ii||(ii={}));const bL={[ii.Dots]:1,[ii.Lines]:1,[ii.Cross]:6},xL=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function lw({id:e,variant:t=ii.Dots,gap:n=20,size:s,lineWidth:r=1,offset:o=0,color:a,bgColor:c,style:l,className:u,patternClassName:d}){const h=v.useRef(null),{transform:p,patternId:f}=qe(xL,kt),g=s||bL[t],m=t===ii.Dots,b=t===ii.Cross,x=Array.isArray(n)?n:[n,n],T=[x[0]*p[2]||1,x[1]*p[2]||1],w=g*p[2],j=Array.isArray(o)?o:[o,o],N=b?[w,w]:T,I=[j[0]*p[2]||1+N[0]/2,j[1]*p[2]||1+N[1]/2],C=`${f}${e||""}`;return i.jsxs("svg",{className:$t(["react-flow__background",u]),style:{...l,...hl,"--xy-background-color-props":c,"--xy-background-pattern-color-props":a},ref:h,"data-testid":"rf__background",children:[i.jsx("pattern",{id:C,x:p[0]%T[0],y:p[1]%T[1],width:T[0],height:T[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${I[0]},-${I[1]})`,children:m?i.jsx(mL,{radius:w/2,className:d}):i.jsx(gL,{dimensions:N,lineWidth:r,variant:t,className:d})}),i.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${C})`})]})}lw.displayName="Background";const yL=v.memo(lw);function vL(){return i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:i.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function wL(){return i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:i.jsx("path",{d:"M0 0h32v4.2H0z"})})}function SL(){return i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:i.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function jL(){return i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:i.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function TL(){return i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:i.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function ka({children:e,className:t,...n}){return i.jsx("button",{type:"button",className:$t(["react-flow__controls-button",t]),...n,children:e})}const EL=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function uw({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:s=!0,fitViewOptions:r,onZoomIn:o,onZoomOut:a,onFitView:c,onInteractiveChange:l,className:u,children:d,position:h="bottom-left",orientation:p="vertical","aria-label":f="React Flow controls"}){const g=xt(),{isInteractive:m,minZoomReached:b,maxZoomReached:x}=qe(EL,kt),{zoomIn:T,zoomOut:w,fitView:j}=Ao(),N=()=>{T(),o?.()},I=()=>{w(),a?.()},C=()=>{j(r),c?.()},S=()=>{g.setState({nodesDraggable:!m,nodesConnectable:!m,elementsSelectable:!m}),l?.(!m)},y=p==="horizontal"?"horizontal":"vertical";return i.jsxs(Lh,{className:$t(["react-flow__controls",y,u]),position:h,style:e,"data-testid":"rf__controls","aria-label":f,children:[t&&i.jsxs(i.Fragment,{children:[i.jsx(ka,{onClick:N,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x,children:i.jsx(vL,{})}),i.jsx(ka,{onClick:I,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b,children:i.jsx(wL,{})})]}),n&&i.jsx(ka,{className:"react-flow__controls-fitview",onClick:C,title:"fit view","aria-label":"fit view",children:i.jsx(SL,{})}),s&&i.jsx(ka,{className:"react-flow__controls-interactive",onClick:S,title:"toggle interactivity","aria-label":"toggle interactivity",children:m?i.jsx(TL,{}):i.jsx(jL,{})}),d]})}uw.displayName="Controls";v.memo(uw);function kL({id:e,x:t,y:n,width:s,height:r,style:o,color:a,strokeColor:c,strokeWidth:l,className:u,borderRadius:d,shapeRendering:h,selected:p,onClick:f}){const{background:g,backgroundColor:m}=o||{},b=a||g||m;return i.jsx("rect",{className:$t(["react-flow__minimap-node",{selected:p},u]),x:t,y:n,rx:d,ry:d,width:s,height:r,style:{fill:b,stroke:c,strokeWidth:l},shapeRendering:h,onClick:f?x=>f(x,e):void 0})}const OL=v.memo(kL),CL=e=>e.nodes.map(t=>t.id),Vl=e=>e instanceof Function?e:()=>e;function _L({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:s=5,nodeStrokeWidth:r,nodeComponent:o=OL,onClick:a}){const c=qe(CL,kt),l=Vl(t),u=Vl(e),d=Vl(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return i.jsx(i.Fragment,{children:c.map(p=>i.jsx(IL,{id:p,nodeColorFunc:l,nodeStrokeColorFunc:u,nodeClassNameFunc:d,nodeBorderRadius:s,nodeStrokeWidth:r,NodeComponent:o,onClick:a,shapeRendering:h},p))})}function NL({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:s,nodeBorderRadius:r,nodeStrokeWidth:o,shapeRendering:a,NodeComponent:c,onClick:l}){const{node:u,x:d,y:h,width:p,height:f}=qe(g=>{const m=g.nodeLookup.get(e),{x:b,y:x}=m.internals.positionAbsolute,{width:T,height:w}=Vs(m);return{node:m,x:b,y:x,width:T,height:w}},kt);return!u||u.hidden||!Dh(u)?null:i.jsx(c,{x:d,y:h,width:p,height:f,style:u.style,selected:!!u.selected,className:s(u),color:t(u),borderRadius:r,strokeColor:n(u),strokeWidth:o,shapeRendering:a,onClick:l,id:u.id})}const IL=v.memo(NL);var DL=v.memo(_L);const RL=200,AL=150,PL=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?hv(aa(e.nodeLookup),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}},$L="react-flow__minimap-desc";function dw({style:e,className:t,nodeStrokeColor:n,nodeColor:s,nodeClassName:r="",nodeBorderRadius:o=5,nodeStrokeWidth:a,nodeComponent:c,bgColor:l,maskColor:u,maskStrokeColor:d,maskStrokeWidth:h,position:p="bottom-right",onClick:f,onNodeClick:g,pannable:m=!1,zoomable:b=!1,ariaLabel:x="React Flow mini map",inversePan:T,zoomStep:w=10,offsetScale:j=5}){const N=xt(),I=v.useRef(null),{boundingRect:C,viewBB:S,rfId:y,panZoom:k,translateExtent:P,flowWidth:q,flowHeight:Q}=qe(PL,kt),O=e?.width??RL,R=e?.height??AL,D=C.width/O,$=C.height/R,M=Math.max(D,$),A=M*O,H=M*R,Z=j*M,z=C.x-(A-C.width)/2-Z,se=C.y-(H-C.height)/2-Z,oe=A+Z*2,ne=H+Z*2,ce=`${$L}-${y}`,he=v.useRef(0),K=v.useRef();he.current=M,v.useEffect(()=>{if(I.current&&k)return K.current=rP({domNode:I.current,panZoom:k,getTransform:()=>N.getState().transform,getViewScale:()=>he.current}),()=>{K.current?.destroy()}},[k]),v.useEffect(()=>{K.current?.update({translateExtent:P,width:q,height:Q,inversePan:T,pannable:m,zoomStep:w,zoomable:b})},[m,b,T,w,P,q,Q]);const ee=f?me=>{const[ae,be]=K.current?.pointer(me)||[0,0];f(me,{x:ae,y:be})}:void 0,ge=g?v.useCallback((me,ae)=>{const be=N.getState().nodeLookup.get(ae);g(me,be)},[]):void 0;return i.jsx(Lh,{position:p,style:{...e,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof h=="number"?h*M:void 0,"--xy-minimap-node-background-color-props":typeof s=="string"?s:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof a=="string"?a:void 0},className:$t(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:i.jsxs("svg",{width:O,height:R,viewBox:`${z} ${se} ${oe} ${ne}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ce,ref:I,onClick:ee,children:[x&&i.jsx("title",{id:ce,children:x}),i.jsx(DL,{onClick:ge,nodeColor:s,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:r,nodeStrokeWidth:a,nodeComponent:c}),i.jsx("path",{className:"react-flow__minimap-mask",d:`M${z-Z},${se-Z}h${oe+Z*2}v${ne+Z*2}h${-oe-Z*2}z
        M${S.x},${S.y}h${S.width}v${S.height}h${-S.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}dw.displayName="MiniMap";v.memo(dw);function LL({nodeId:e,position:t,variant:n=po.Handle,className:s,style:r={},children:o,color:a,minWidth:c=10,minHeight:l=10,maxWidth:u=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:h=!1,shouldResize:p,onResizeStart:f,onResize:g,onResizeEnd:m}){const b=Uv(),x=typeof e=="string"?e:b,T=xt(),w=v.useRef(null),j=n===po.Line?"right":"bottom-right",N=t??j,I=v.useRef(null);v.useEffect(()=>{if(!(!w.current||!x))return I.current||(I.current=vP({domNode:w.current,nodeId:x,getStoreItems:()=>{const{nodeLookup:k,transform:P,snapGrid:q,snapToGrid:Q,nodeOrigin:O,domNode:R}=T.getState();return{nodeLookup:k,transform:P,snapGrid:q,snapToGrid:Q,nodeOrigin:O,paneDomNode:R}},onChange:(k,P)=>{const{triggerNodeChanges:q,nodeLookup:Q,parentLookup:O,nodeOrigin:R}=T.getState(),D=[],$={x:k.x,y:k.y},M=Q.get(x);if(M&&M.expandParent&&M.parentId){const A=M.origin??R,H=k.width??M.measured.width,Z=k.height??M.measured.height,z={id:M.id,parentId:M.parentId,rect:{width:H,height:Z,...fv({x:k.x??M.position.x,y:k.y??M.position.y},{width:H,height:Z},M.parentId,Q,A)}},se=$h([z],Q,O,R);D.push(...se),$.x=k.x?Math.max(A[0]*H,k.x):void 0,$.y=k.y?Math.max(A[1]*Z,k.y):void 0}if($.x!==void 0&&$.y!==void 0){const A={id:x,type:"position",position:{...$}};D.push(A)}if(k.width!==void 0&&k.height!==void 0){const A={id:x,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:k.width,height:k.height}};D.push(A)}for(const A of P){const H={...A,type:"position"};D.push(H)}q(D)},onEnd:()=>{const k={id:x,type:"dimensions",resizing:!1};T.getState().triggerNodeChanges([k])}})),I.current.update({controlPosition:N,boundaries:{minWidth:c,minHeight:l,maxWidth:u,maxHeight:d},keepAspectRatio:h,onResizeStart:f,onResize:g,onResizeEnd:m,shouldResize:p}),()=>{I.current?.destroy()}},[N,c,l,u,d,h,f,g,m,p]);const C=N.split("-"),S=n===po.Line?"borderColor":"backgroundColor",y=a?{...r,[S]:a}:r;return i.jsx("div",{className:$t(["react-flow__resize-control","nodrag",...C,n,s]),ref:w,style:y,children:o})}v.memo(LL);function Ul(e){return`

-- ------------------------------
-- ${e}
-- ------------------------------ 

`}async function ML(e){try{const t=await cu("INFO FOR DB"),n=await cu(`INFO FOR TABLE ${it(e)}`),s=`${t.tables[e]};`,r=Object.values(n.fields),o=Object.values(n.indexes),a=Object.values(n.events),c=r.length>0,l=o.length>0,u=a.length>0,d=c?`${Ul("FIELDS")}${r.join(`;
`)};`:"",h=l?`${Ul("INDEXES")}${o.join(`;
`)};`:"",p=u?`${Ul("EVENTS")}${a.join(";\\n")};`:"",f=s+d+h+p;wn({title:i.jsx(ve,{children:"Table definition"}),size:"xl",withCloseButton:!0,styles:{header:{paddingBottom:0}},children:i.jsxs(B,{children:[i.jsxs(_,{mt:"xs",children:["This is the full definition of the ",i.jsx("strong",{children:e})," table including fields, indexes, and events."]}),i.jsx(Ho,{mt:"xl",withCopy:!0,language:"surrealql",value:f})]})})}catch(t){console.warn("Failed to generate definition",t),Rt({title:"Failed to generate table definition",subtitle:t.message})}}const FL="_scroller_vojzo_1",qL={scroller:FL};function hw({icon:e,activeTable:t,closeDisabled:n,extraSection:s,onClose:r,onTableSelect:o,onTableContextMenu:a}){const{openTableCreator:c}=Ye.getState(),l=Se(j=>j.toggleTablePin),u=Qe(),[d,h]=Ee(""),p=Oj(),f=Et(),g=ln(),m=Uo(),{showContextMenu:b}=Qo(),x=v.useMemo(()=>{const j=d.toLowerCase(),N=d?m.filter(I=>Cj(j,I.schema.name)):m;return _j(N,I=>{const[C]=Ga(I),S=f.pinnedTables.includes(I.schema.name);return Number(C)-(S?999:0)})},[f.pinnedTables,m,d]),T=L(j=>{j&&f&&l(j)}),w=_n({message:"You are about to remove this table and all data contained within it. This action cannot be undone.",confirmText:"Remove",onConfirm:async j=>{await qt(`REMOVE TABLE ${it(j)}`),await It({tables:[j]}),t===j&&o("")}});return i.jsx(Dn,{title:"Tables",icon:e,style:{flexShrink:0},infoSection:m.length>0&&i.jsx(Ft,{color:u?"slate.0":"slate.9",radius:"sm",c:"inherit",children:m.length}),rightSection:i.jsxs(i.Fragment,{children:[r&&i.jsx(xo,{label:"Hide tables",disabled:n,onClick:r,children:i.jsx(E,{path:Ac})}),i.jsx(xo,{label:"New table",onClick:c,disabled:!g,children:i.jsx(E,{path:Ie})})]}),children:i.jsxs(B,{pos:"absolute",top:0,left:12,right:12,bottom:12,gap:0,children:[i.jsx(Fe,{classNames:{viewport:qL.scroller},children:i.jsxs(B,{gap:"xs",pb:"md",children:[g&&m.length>0&&i.jsx(le,{placeholder:"Search tables...",leftSection:i.jsx(E,{path:Ss}),value:d,spellCheck:!1,onChange:h,variant:"unstyled",autoFocus:!0}),g?x.length===0&&i.jsx(_,{c:"slate",ta:"center",mt:"lg",children:p?"No tables found":"Unsupported auth mode"}):i.jsx(_,{c:"slate",ta:"center",mt:"lg",children:"Not connected"}),x.map(j=>{const N=t===j.schema.name,I=f.pinnedTables.includes(j.schema.name),[C]=Ga(j);return i.jsx(Tt,{isActive:N,onClick:()=>o(j.schema.name),onContextMenu:b([...a?.(j.schema.name)||[],{key:"divider-1"},{key:"pin",title:I?"Unpin table":"Pin table",icon:i.jsx(E,{path:I?Nj:up}),onClick:()=>T(j.schema.name)},{key:"definition",title:"Show definition",icon:i.jsx(E,{path:Ui}),onClick:()=>ML(j.schema.name)},{key:"divider-2"},{key:"remove",title:"Remove table",color:"pink.7",icon:i.jsx(E,{path:ts}),onClick:()=>w(j.schema.name)}]),leftSection:i.jsx(E,{path:C?li:qn}),rightSection:I&&i.jsx(E,{title:"Pinned table",path:up,size:"sm"}),children:i.jsx(_,{style:{textOverflow:"ellipsis",overflow:"hidden"},children:j.schema.name})},j.schema.name)})]})}),s&&i.jsxs(i.Fragment,{children:[i.jsx(je,{}),i.jsx(Ne,{mb:"xs"}),s]})]})})}const QL="_scroll-area_rpud8_1",VL="_fields-scroll_rpud8_10",UL="_list_rpud8_14",zL="_diagram_rpud8_21",BL="_record-link_rpud8_29",qh={scrollArea:QL,fieldsScroll:VL,list:UL,diagram:zL,recordLink:BL};function HL(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),s=n.createElement("base"),r=n.createElement("a");return n.head.appendChild(s),n.body.appendChild(r),t&&(s.href=t),r.href=e,r.href}const GL=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function As(e){const t=[];for(let n=0,s=e.length;n<s;n++)t.push(e[n]);return t}function Tc(e,t){const s=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return s?parseFloat(s.replace("px","")):0}function YL(e){const t=Tc(e,"border-left-width"),n=Tc(e,"border-right-width");return e.clientWidth+t+n}function XL(e){const t=Tc(e,"border-top-width"),n=Tc(e,"border-bottom-width");return e.clientHeight+t+n}function pw(e,t={}){const n=t.width||YL(e),s=t.height||XL(e);return{width:n,height:s}}function WL(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Sn=16384;function ZL(e){(e.width>Sn||e.height>Sn)&&(e.width>Sn&&e.height>Sn?e.width>e.height?(e.height*=Sn/e.width,e.width=Sn):(e.width*=Sn/e.height,e.height=Sn):e.width>Sn?(e.height*=Sn/e.width,e.width=Sn):(e.width*=Sn/e.height,e.height=Sn))}function JL(e,t={}){return e.toBlob?new Promise(n=>{e.toBlob(n,t.type?t.type:"image/png",t.quality?t.quality:1)}):new Promise(n=>{const s=window.atob(e.toDataURL(t.type?t.type:void 0,t.quality?t.quality:void 0).split(",")[1]),r=s.length,o=new Uint8Array(r);for(let a=0;a<r;a+=1)o[a]=s.charCodeAt(a);n(new Blob([o],{type:t.type?t.type:"image/png"}))})}function Ec(e){return new Promise((t,n)=>{const s=new Image;s.decode=()=>t(s),s.onload=()=>t(s),s.onerror=n,s.crossOrigin="anonymous",s.decoding="async",s.src=e})}async function KL(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function eM(e,t,n){const s="http://www.w3.org/2000/svg",r=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return r.setAttribute("width",`${t}`),r.setAttribute("height",`${n}`),r.setAttribute("viewBox",`0 0 ${t} ${n}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),r.appendChild(o),o.appendChild(e),KL(r)}const yn=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||yn(n,t)};function tM(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function nM(e){return As(e).map(t=>{const n=e.getPropertyValue(t),s=e.getPropertyPriority(t);return`${t}: ${n}${s?" !important":""};`}).join(" ")}function sM(e,t,n){const s=`.${e}:${t}`,r=n.cssText?tM(n):nM(n);return document.createTextNode(`${s}{${r}}`)}function mm(e,t,n){const s=window.getComputedStyle(e,n),r=s.getPropertyValue("content");if(r===""||r==="none")return;const o=GL();try{t.className=`${t.className} ${o}`}catch{return}const a=document.createElement("style");a.appendChild(sM(o,n,s)),t.appendChild(a)}function iM(e,t){mm(e,t,":before"),mm(e,t,":after")}const bm="application/font-woff",xm="image/jpeg",rM={woff:bm,woff2:bm,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:xm,jpeg:xm,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function oM(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Qh(e){const t=oM(e).toLowerCase();return rM[t]||""}function aM(e){return e.split(/,/)[1]}function fd(e){return e.search(/^(data:)/)!==-1}function cM(e,t){return`data:${t};base64,${e}`}async function fw(e,t,n){const s=await fetch(e,t);if(s.status===404)throw new Error(`Resource "${s.url}" not found`);const r=await s.blob();return new Promise((o,a)=>{const c=new FileReader;c.onerror=a,c.onloadend=()=>{try{o(n({res:s,result:c.result}))}catch(l){a(l)}},c.readAsDataURL(r)})}const zl={};function lM(e,t,n){let s=e.replace(/\?.*/,"");return n&&(s=e),/ttf|otf|eot|woff2?/i.test(s)&&(s=s.replace(/.*\//,"")),t?`[${t}]${s}`:s}async function Vh(e,t,n){const s=lM(e,t,n.includeQueryParams);if(zl[s]!=null)return zl[s];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let r;try{const o=await fw(e,n.fetchRequestInit,({res:a,result:c})=>(t||(t=a.headers.get("Content-Type")||""),aM(c)));r=cM(o,t)}catch(o){r=n.imagePlaceholder||"";let a=`Failed to fetch resource: ${e}`;o&&(a=typeof o=="string"?o:o.message),a&&console.warn(a)}return zl[s]=r,r}async function uM(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Ec(t)}async function dM(e,t){if(e.currentSrc){const o=document.createElement("canvas"),a=o.getContext("2d");o.width=e.clientWidth,o.height=e.clientHeight,a?.drawImage(e,0,0,o.width,o.height);const c=o.toDataURL();return Ec(c)}const n=e.poster,s=Qh(n),r=await Vh(n,s,t);return Ec(r)}async function hM(e){var t;try{if(!((t=e?.contentDocument)===null||t===void 0)&&t.body)return await pl(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function pM(e,t){return yn(e,HTMLCanvasElement)?uM(e):yn(e,HTMLVideoElement)?dM(e,t):yn(e,HTMLIFrameElement)?hM(e):e.cloneNode(!1)}const fM=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function gM(e,t,n){var s,r;let o=[];return fM(e)&&e.assignedNodes?o=As(e.assignedNodes()):yn(e,HTMLIFrameElement)&&(!((s=e.contentDocument)===null||s===void 0)&&s.body)?o=As(e.contentDocument.body.childNodes):o=As(((r=e.shadowRoot)!==null&&r!==void 0?r:e).childNodes),o.length===0||yn(e,HTMLVideoElement)||await o.reduce((a,c)=>a.then(()=>pl(c,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function mM(e,t){const n=t.style;if(!n)return;const s=window.getComputedStyle(e);s.cssText?(n.cssText=s.cssText,n.transformOrigin=s.transformOrigin):As(s).forEach(r=>{let o=s.getPropertyValue(r);r==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),yn(e,HTMLIFrameElement)&&r==="display"&&o==="inline"&&(o="block"),r==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),n.setProperty(r,o,s.getPropertyPriority(r))})}function bM(e,t){yn(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),yn(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function xM(e,t){if(yn(e,HTMLSelectElement)){const n=t,s=Array.from(n.children).find(r=>e.value===r.getAttribute("value"));s&&s.setAttribute("selected","")}}function yM(e,t){return yn(t,Element)&&(mM(e,t),iM(e,t),bM(e,t),xM(e,t)),t}async function vM(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const s={};for(let o=0;o<n.length;o++){const c=n[o].getAttribute("xlink:href");if(c){const l=e.querySelector(c),u=document.querySelector(c);!l&&u&&!s[c]&&(s[c]=await pl(u,t,!0))}}const r=Object.values(s);if(r.length){const o="http://www.w3.org/1999/xhtml",a=document.createElementNS(o,"svg");a.setAttribute("xmlns",o),a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.display="none";const c=document.createElementNS(o,"defs");a.appendChild(c);for(let l=0;l<r.length;l++)c.appendChild(r[l]);e.appendChild(a)}return e}async function pl(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(s=>pM(s,t)).then(s=>gM(e,s,t)).then(s=>yM(e,s)).then(s=>vM(s,t))}const gw=/url\((['"]?)([^'"]+?)\1\)/g,wM=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,SM=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function jM(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function TM(e){const t=[];return e.replace(gw,(n,s,r)=>(t.push(r),n)),t.filter(n=>!fd(n))}async function EM(e,t,n,s,r){try{const o=n?HL(t,n):t,a=Qh(t);let c;return r||(c=await Vh(o,a,s)),e.replace(jM(t),`$1${c}$3`)}catch{}return e}function kM(e,{preferredFontFormat:t}){return t?e.replace(SM,n=>{for(;;){const[s,,r]=wM.exec(n)||[];if(!r)return"";if(r===t)return`src: ${s};`}}):e}function mw(e){return e.search(gw)!==-1}async function bw(e,t,n){if(!mw(e))return e;const s=kM(e,n);return TM(s).reduce((o,a)=>o.then(c=>EM(c,a,t,n)),Promise.resolve(s))}async function Oa(e,t,n){var s;const r=(s=t.style)===null||s===void 0?void 0:s.getPropertyValue(e);if(r){const o=await bw(r,null,n);return t.style.setProperty(e,o,t.style.getPropertyPriority(e)),!0}return!1}async function OM(e,t){await Oa("background",e,t)||await Oa("background-image",e,t),await Oa("mask",e,t)||await Oa("mask-image",e,t)}async function CM(e,t){const n=yn(e,HTMLImageElement);if(!(n&&!fd(e.src))&&!(yn(e,SVGImageElement)&&!fd(e.href.baseVal)))return;const s=n?e.src:e.href.baseVal,r=await Vh(s,Qh(s),t);await new Promise((o,a)=>{e.onload=o,e.onerror=a;const c=e;c.decode&&(c.decode=o),c.loading==="lazy"&&(c.loading="eager"),n?(e.srcset="",e.src=r):e.href.baseVal=r})}async function _M(e,t){const s=As(e.childNodes).map(r=>xw(r,t));await Promise.all(s).then(()=>e)}async function xw(e,t){yn(e,Element)&&(await OM(e,t),await CM(e,t),await _M(e,t))}function NM(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const s=t.style;return s!=null&&Object.keys(s).forEach(r=>{n[r]=s[r]}),e}const ym={};async function vm(e){let t=ym[e];if(t!=null)return t;const s=await(await fetch(e)).text();return t={url:e,cssText:s},ym[e]=t,t}async function wm(e,t){let n=e.cssText;const s=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map(async a=>{let c=a.replace(s,"$1");return c.startsWith("https://")||(c=new URL(c,e.url).href),fw(c,t.fetchRequestInit,({result:l})=>(n=n.replace(a,`url(${l})`),[a,l]))});return Promise.all(o).then(()=>n)}function Sm(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let s=e.replace(n,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=r.exec(s);if(l===null)break;t.push(l[0])}s=s.replace(r,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",c=new RegExp(a,"gi");for(;;){let l=o.exec(s);if(l===null){if(l=c.exec(s),l===null)break;o.lastIndex=c.lastIndex}else c.lastIndex=o.lastIndex;t.push(l[0])}return t}async function IM(e,t){const n=[],s=[];return e.forEach(r=>{if("cssRules"in r)try{As(r.cssRules||[]).forEach((o,a)=>{if(o.type===CSSRule.IMPORT_RULE){let c=a+1;const l=o.href,u=vm(l).then(d=>wm(d,t)).then(d=>Sm(d).forEach(h=>{try{r.insertRule(h,h.startsWith("@import")?c+=1:r.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:h,error:p})}})).catch(d=>{console.error("Error loading remote css",d.toString())});s.push(u)}})}catch(o){const a=e.find(c=>c.href==null)||document.styleSheets[0];r.href!=null&&s.push(vm(r.href).then(c=>wm(c,t)).then(c=>Sm(c).forEach(l=>{a.insertRule(l,r.cssRules.length)})).catch(c=>{console.error("Error loading remote stylesheet",c)})),console.error("Error inlining remote css file",o)}}),Promise.all(s).then(()=>(e.forEach(r=>{if("cssRules"in r)try{As(r.cssRules||[]).forEach(o=>{n.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${r.href}`,o)}}),n))}function DM(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>mw(t.style.getPropertyValue("src")))}async function RM(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=As(e.ownerDocument.styleSheets),s=await IM(n,t);return DM(s)}async function AM(e,t){const n=await RM(e,t);return(await Promise.all(n.map(r=>{const o=r.parentStyleSheet?r.parentStyleSheet.href:null;return bw(r.cssText,o,t)}))).join(`
`)}async function PM(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await AM(e,t);if(n){const s=document.createElement("style"),r=document.createTextNode(n);s.appendChild(r),e.firstChild?e.insertBefore(s,e.firstChild):e.appendChild(s)}}async function yw(e,t={}){const{width:n,height:s}=pw(e,t),r=await pl(e,t,!0);return await PM(r,t),await xw(r,t),NM(r,t),await eM(r,n,s)}async function $M(e,t={}){const{width:n,height:s}=pw(e,t),r=await yw(e,t),o=await Ec(r),a=document.createElement("canvas"),c=a.getContext("2d"),l=t.pixelRatio||WL(),u=t.canvasWidth||n,d=t.canvasHeight||s;return a.width=u*l,a.height=d*l,t.skipAutoScale||ZL(a),a.style.width=`${u}`,a.style.height=`${d}`,t.backgroundColor&&(c.fillStyle=t.backgroundColor,c.fillRect(0,0,a.width,a.height)),c.drawImage(o,0,0,a.width,a.height),a}async function LM(e,t={}){const n=await $M(e,t);return await JL(n)}function MM({sourceX:e,sourceY:t,targetX:n,targetY:s,data:r,...o}){const a=r?.path,c=v.useMemo(()=>{if(!a)return`M${e},${t} L${n},${s}`;const u=a.bendPoints?.map((d,h,p)=>{const m=p[h-1]??a.startPoint,b=p[h+1]??a.endPoint,x=Math.max(Math.abs(m.x-d.x),Math.abs(m.y-d.y)),T=Math.max(Math.abs(b.x-d.x),Math.abs(b.y-d.y)),w=Math.min(x,T)/2,j=Math.max(Math.min(w,36),8),N={x:Math.round(m.x),y:Math.round(m.y)},I={x:Math.round(d.x),y:Math.round(d.y)},C={x:Math.round(b.x),y:Math.round(b.y)};return I.x===N.x&&C.x>I.x?N.y>I.y?`L${d.x},${d.y+j} Q${d.x},${d.y}, ${d.x+j},${d.y}`:`L${d.x},${d.y-j} Q${d.x},${d.y}, ${d.x+j},${d.y}`:I.x===N.x&&C.x<I.x?N.y>I.y?`L${d.x},${d.y+j} Q${d.x},${d.y}, ${d.x-j},${d.y}`:`L${d.x},${d.y-j} Q${d.x},${d.y}, ${d.x-j},${d.y}`:I.y===N.y&&C.y>I.y?N.x>I.x?`L${d.x+j},${d.y} Q${d.x},${d.y}, ${d.x},${d.y+j}`:`L${d.x-j},${d.y} Q${d.x},${d.y}, ${d.x},${d.y+j}`:I.y===N.y&&C.y<I.y?N.x>I.x?`L${d.x+j},${d.y} Q${d.x},${d.y}, ${d.x},${d.y-j}`:`L${d.x-j},${d.y} Q${d.x},${d.y}, ${d.x},${d.y-j}`:(console.error("Unknown bend direction",N,I,C),`L${d.x},${d.y}`)}).join(" ")||"";return`M${a.startPoint.x},${a.startPoint.y} ${u} L${a.endPoint.x},${a.endPoint.y}`},[a,e,t,n,s]),l=v.useMemo(()=>{if(!a)return{x:e+(n-e)/2,y:t+(s-t)/2};const u={x:a.startPoint.x+(a.endPoint.x-a.startPoint.x)/2,y:a.startPoint.y+(a.endPoint.y-a.startPoint.y)/2};if(a.bendPoints&&a.bendPoints.length>0){const d=Math.floor(a.bendPoints.length/2)-1,h=a.bendPoints[d],p=Math.ceil(a.bendPoints.length/2)-1,f=p===d?a.bendPoints[p+1]:a.bendPoints[p];u.x=h.x+(f.x-h.x)/2,u.y=h.y+(f.y-h.y)/2}return u},[a,e,t,n,s]);return!a||r?.isDragged?i.jsx(Fh,{...o,sourceX:e,sourceY:t,targetX:n,targetY:s}):i.jsx(la,{...o,path:c,labelX:l.x,labelY:l.y})}function Bl(e){const t=e.value>0?"surreal":"dimmed";return i.jsxs(U,{pr:4,wrap:"nowrap",children:[i.jsx(E,{path:e.icon}),i.jsx(_,{c:e.isLight?"slate.9":"white",children:e.title}),i.jsx(je,{}),i.jsx(_,{c:t,fw:600,children:e.value})]})}function FM({kind:e}){const t=Ij(e),n=i.jsx(_,{c:"surreal.6",ff:"mono",maw:"50%",truncate:!0,children:t});return e===t?n:i.jsx(Me,{position:"top",openDelay:0,label:i.jsx(_,{fw:500,ff:"monospace",children:e}),children:n})}function gd({isLight:e,name:t,value:n}){return i.jsxs(on,{justify:"space-between",gap:"xl",children:[i.jsx(_,{title:t,c:e?void 0:"white",truncate:!0,children:t}),n]},t)}function qM(e){const t=e.table.fields.filter(o=>o.name!=="in"&&o.name!=="out"&&o.name!=="id"),n=v.useRef(!1),s=o=>{n.current&&(n.current=!1,o.stopPropagation())},r=L(()=>{n.current=!0});return i.jsx(G,{display:"flex",style:{cursor:"pointer"},children:i.jsx(Fe,{flex:1,mah:210,onClickCapture:s,onWheelCapture:ji,onMouseDownCapture:ji,onMouseUpCapture:ji,className:qh.fieldsScroll,onScrollPositionChange:r,children:i.jsx(B,{gap:"xs",mt:10,p:0,children:t.map(o=>i.jsx(gd,{isLight:e.isLight,name:o.name,value:o.kind?i.jsx(FM,{kind:o.kind}):i.jsx(_,{c:"slate",title:o.kind,children:"none"})},o.name))})})})}function vw({icon:e,table:t,direction:n,mode:s,isSelected:r,isEdge:o}){const a=Qe(),c=n==="ltr",l=s==="summary"||s==="fields"&&t.fields.length>0,u=t.fields.find(h=>h.name==="in"),d=t.fields.find(h=>h.name==="out");return console.log(),i.jsxs(i.Fragment,{children:[i.jsx(Rr,{type:"target",position:c?xe.Left:xe.Right,style:{visibility:"hidden"}}),i.jsx(Rr,{type:"source",position:c?xe.Right:xe.Left,style:{visibility:"hidden"}}),i.jsxs(De,{p:"md",w:250,title:`Click to edit ${t.schema.name}`,bg:a?"slate.0":"slate.7",shadow:`0 8px 15px rgba(30, 0, 80, ${a?.025:.05})`,style:{border:`1px solid ${yd(r?"surreal":a?"slate.2":"slate.5")}`,userSelect:"none"},children:[i.jsxs(U,{style:{color:a?void 0:"white"},gap:"xs",wrap:"nowrap",children:[i.jsx(E,{path:e,color:r?"surreal":a?"slate.7":"slate.2"}),i.jsx(_,{style:{textOverflow:"ellipsis",overflow:"hidden"},children:t.schema.name})]}),o&&u&&d&&i.jsxs(i.Fragment,{children:[i.jsx(Ne,{color:a?"slate.2":"slate.6",my:"sm"}),i.jsxs(B,{gap:"xs",mt:10,p:0,children:[i.jsx(gd,{isLight:a,name:"in",value:i.jsx(_,{ta:"right",children:lu(u.kind??"").join(", ")})}),i.jsx(gd,{isLight:a,name:"out",value:i.jsx(_,{ta:"right",children:lu(d.kind??"").join(", ")})})]})]}),l&&i.jsxs(i.Fragment,{children:[i.jsx(Ne,{color:a?"slate.2":"slate.6",mt:"sm"}),s==="fields"?i.jsx(qM,{isLight:a,table:t}):i.jsxs(B,{gap:"xs",mt:10,p:0,children:[i.jsx(Bl,{isLight:a,icon:_c,title:"Fields",value:t.fields.length}),i.jsx(Bl,{isLight:a,icon:fb,title:"Indexes",value:t.indexes.length}),i.jsx(Bl,{isLight:a,icon:Cd,title:"Events",value:t.events.length})]})]})]})]})}function QM({data:e}){return i.jsx(vw,{icon:li,table:e.table,mode:e.mode,direction:e.direction,isSelected:e.isSelected,isEdge:!0})}function VM({data:e}){return i.jsx(vw,{icon:qn,table:e.table,mode:e.mode,direction:e.direction,isSelected:e.isSelected})}const UM={table:VM,edge:QM},zM={elk:MM};function BM(e){return e.map(t=>{const[n,s,r]=Ga(t);return{table:t,isEdge:n,to:r,from:s}})}function HM(e,t,n,s,r){const o=BM(e),a={},c=[],l=[],u={deletable:!1};switch(r){case"metro":{u.type="elk",u.pathOptions={borderRadius:50};break}case"smooth":{u.type="default";break}case"straight":{u.type="straight";break}}for(const{table:f,isEdge:g}of o){const m=f.schema.name,b={id:m,type:g?"edge":"table",position:{x:0,y:0},deletable:!1,data:{table:f,isSelected:!1,direction:n,mode:t}};l.push(b),a[m]=b}const d=o.filter(f=>f.isEdge),h=new Map,p=[];for(const{table:f,from:g,to:m}of d){for(const b of g){if(!a[b]){p.push({type:"edge",table:f.schema.name,foreign:b,direction:"in"});continue}c.push({...u,id:`tb-${f.schema.name}-from-edge-${b}`,source:b,target:f.schema.name,markerEnd:{type:Oi.Arrow,width:14,height:14,color:"#ffffff"}}),h.set(`${b}:${f.schema.name}`,!0),h.set(`${f.schema.name}:${b}`,!0)}for(const b of m){if(!a[b]){p.push({type:"edge",table:f.schema.name,foreign:b,direction:"out"});continue}c.push({...u,id:`tb-${f.schema.name}-to-edge-${b}`,source:f.schema.name,target:b,markerEnd:{type:Oi.Arrow,width:14,height:14,color:"#ffffff"}}),h.set(`${b}:${f.schema.name}`,!0),h.set(`${f.schema.name}:${b}`,!0)}}if(s==="visible"){const f=new Set,g=getComputedStyle(document.body).getPropertyValue("--mantine-color-slate-5");for(const m of e)for(const b of m.fields){if(!b.kind||b.name==="id"||b.name==="in"||b.name==="out")continue;const x=lu(b.kind);for(const T of x){if(T===m.schema.name||h.has(`${m.schema.name}:${T}`)||h.has(`${T}:${m.schema.name}`))continue;if(!a[T]){p.push({type:"link",table:m.schema.name,foreign:T,field:b.name});continue}if(f.has(`${m.schema.name}:${T}`)||f.has(`${T}:${m.schema.name}`))continue;const j={...u,id:`tb-${m.schema.name}-field-${b.name}:${T}`,source:m.schema.name,target:T,className:qh.recordLink,label:b.name,labelBgStyle:{fill:"var(--mantine-color-slate-8"},labelStyle:{fill:"currentColor"},data:{linkCount:1},markerEnd:{type:Oi.Arrow,width:14,height:14,color:g}};f.add(`${m.schema.name}:${T}`),f.add(`${T}:${m.schema.name}`),c.push(j)}}}return[l,c,p]}async function GM(e,t,n,s){const r=await Bb(()=>import("./elk.bundled-BsgMx7Np.js").then(f=>f.e),__vite__mapDeps([2,1])),o=new r.default,a=Ia(t,f=>f.id),c={id:"root",children:e.map(f=>({id:f.id,width:f.measured?.width??f.width,height:f.measured?.height??f.height})),edges:t.map(f=>({id:f.id,sources:[f.source],targets:[f.target]}))},l=await o.layout(c,{layoutOptions:{"elk.algorithm":n==="spaced"?"force":"layered","elk.layered.spacing.nodeNodeBetweenLayers":"100","elk.spacing.nodeNode":"80","elk.direction":s==="ltr"?"RIGHT":"LEFT"}}),u=l.children||[],d=l.edges||[],h=u.map(({id:f,x:g,y:m})=>({id:f,type:"position",position:{x:g??0,y:m??0}})),p=d.map(({id:f,sections:g})=>{const m=a[f];return{id:f,type:"replace",item:{...m,data:{...m.data,isDragged:!1,path:g?.[0]}}}});return[h,p]}async function YM(e,t){if(t==="png")return LM(e,{cacheBust:!0});const n=await yw(e,{cacheBust:!0});return await(await fetch(n)).blob()}function Zr(e,t){return e==="default"?t:e}function XM({warning:e}){const t=Qe(),n=e.type==="edge"?li:Ib,s=e.type==="edge"?i.jsxs(i.Fragment,{children:["Edge"," ",i.jsx(_,{c:"bright",span:!0,children:e.table})," ","references invalid ",e.direction," table"," ",i.jsx(_,{c:"bright",span:!0,children:e.foreign})]}):i.jsxs(i.Fragment,{children:['Field "',i.jsx(_,{c:"bright",span:!0,children:e.field}),'" on'," ",i.jsx(_,{c:"bright",span:!0,children:e.table})," ","references invalid table"," ",i.jsx(_,{c:"bright",span:!0,children:e.foreign})]});return i.jsxs(U,{c:t?"slate.5":"slate.2",children:[i.jsx(E,{path:n}),i.jsx(_,{fz:"sm",children:s})]})}function WM(e){const{openTableCreator:t}=Ye.getState(),{updateCurrentConnection:n}=Se.getState(),{showContextMenu:s}=Qo(),r=qs(),o=ln(),a=Et(),[c]=Fs(),[l,u]=v.useState(!1),d=v.useRef(null),h=Et(),p=Qe(),{fitView:f,getViewport:g,setViewport:m}=Ao(),[b,x]=v.useState([]),[T,w,j]=uL([]),[N,I,C]=dL([]),[S,y]=v.useState(!1),{getNodes:k,getEdges:P}=Ao(),q=fL({includeHiddenNodes:!0}),Q=v.useRef(!1),[O]=ut("appearance","defaultDiagramAlgorithm"),[R]=ut("appearance","defaultDiagramDirection"),[D]=ut("appearance","defaultDiagramLineStyle"),[$]=ut("appearance","defaultDiagramLinkMode"),[M]=ut("appearance","defaultDiagramMode"),A=Zr(h.diagramAlgorithm,O),H=Zr(h.diagramDirection,R),Z=Zr(h.diagramLineStyle,D),z=Zr(h.diagramLinkMode,$),se=Zr(h.diagramMode,M);v.useLayoutEffect(()=>{Q.current||!q||(Q.current=!0,GM(k(),P(),A,H).then(([ye,$e])=>{j(ye),C($e),setTimeout(f,0)}).finally(()=>{y(!1)}))},[q,A,H]);const oe=L(async()=>{const[ye,$e,pt]=HM(e.tables,se,H,z,Z);if(x(pt),ye.length===0){w([]),I([]),y(!1);return}Q.current=!1,y(!0),w(ye),I($e)}),ne=L((ye,$e)=>{e.setActiveTable($e.id)}),ce=L((ye,$e)=>{I(pt=>pt.map(At=>{const Ut=At.source===$e.id||At.target===$e.id;return{...At,data:{...At.data,isDragged:Ut?!0:At.data?.isDragged??!1}}}))}),he=L(async ye=>{const $e=g(),pt=await fe.saveFile("Save snapshot",`snapshot.${ye}`,[{name:"Image",extensions:[ye]}],async()=>d.current?(u(!0),await qo(50),f(),await YM(d.current,ye)):"");u(!1),m($e),pt&&Ls({title:"Designer",subtitle:"Snapshot saved to disk"})}),K=L(()=>{n({designerTableList:!0})}),ee=!o||e.tables.length===0,ge=L(ye=>{n({id:h?.id,diagramAlgorithm:ye})}),me=L(ye=>{n({id:h?.id,diagramDirection:ye})}),ae=L(ye=>{n({id:h?.id,diagramLineStyle:ye})}),be=L(ye=>{n({id:h?.id,diagramLinkMode:ye})}),ke=L(ye=>{n({id:h?.id,diagramMode:ye})}),Oe=c?.id==="designer";return v.useLayoutEffect(()=>{if(Oe&&o){oe();return}o||(w([]),I([]))},[r,Oe,o,A,H,Z,z,se]),v.useEffect(()=>{w(ye=>ye.map($e=>({...$e,data:{...$e.data,isSelected:$e.id===e.active}})))},[e.active]),Pe("focus-table",({table:ye})=>{const $e=k().find(pt=>pt.id===ye);$e&&f({nodes:[$e],duration:300})}),i.jsx(Dn,{title:"Table Graph",icon:li,style:{overflow:"hidden"},leftSection:!a.designerTableList&&i.jsx(xo,{label:"Reveal tables",mr:"sm",color:"slate",variant:"light",onClick:K,children:i.jsx(E,{path:bt})}),rightSection:i.jsxs(U,{wrap:"nowrap",children:[b.length>0&&i.jsxs(rr,{position:"bottom-end",children:[i.jsx(rr.Target,{children:i.jsxs(Ft,{variant:"light",color:"orange",h:26,children:["Encountered ",b.length," warnings"]})}),i.jsx(rr.Dropdown,{children:i.jsx(B,{children:b.map((ye,$e)=>i.jsx(XM,{warning:ye},$e))})})]}),i.jsx(Me,{label:"New table",children:i.jsx(de,{onClick:t,"aria-label":"Create new table",disabled:!o,children:i.jsx(E,{path:Ie})})}),i.jsxs(Is,{position:"bottom-end",transitionProps:{transition:"scale-y"},offset:{crossAxis:-4,mainAxis:8},shadow:"sm",children:[i.jsx(Is.Target,{children:i.jsx(Me,{label:"Graph Options",children:i.jsx(de,{"aria-label":"Expand graph options",children:i.jsx(E,{path:Vo})})})}),i.jsxs(Is.Dropdown,{maw:325,children:[i.jsx(_,{c:"bright",fw:500,fz:15,children:"Table graph settings"}),i.jsx(_,{fz:"sm",children:"Local to this connection"}),i.jsx(Ne,{my:"md"}),i.jsxs(dt,{cols:2,style:{alignItems:"center"},verticalSpacing:"sm",children:[i.jsx(Ht,{children:"Line style"}),i.jsx(yt,{data:Rj,value:h.diagramLineStyle,onChange:ae,comboboxProps:{withinPortal:!1}}),i.jsx(Ht,{children:"Algorithm"}),i.jsx(yt,{data:Aj,value:h.diagramAlgorithm,onChange:ge,comboboxProps:{withinPortal:!1}}),i.jsx(Ht,{children:"Appearance"}),i.jsx(yt,{data:Pj,value:h.diagramMode,onChange:ke,comboboxProps:{withinPortal:!1}}),i.jsx(Ht,{children:"Direction"}),i.jsx(yt,{data:$j,value:h.diagramDirection,onChange:me,comboboxProps:{withinPortal:!1}}),i.jsx(Ht,{children:"Record links"}),i.jsx(yt,{data:Lj,value:h.diagramLinkMode,onChange:be,comboboxProps:{withinPortal:!1}})]}),i.jsx(Ne,{my:"md"}),i.jsx(_,{fz:"sm",children:"You can customise default values in the settings menu"})]})]}),i.jsx(Pt,{href:"https://surrealdb.com/docs/surrealist/concepts/designing-the-database-schema",children:i.jsx(Me,{label:"Designer help",children:i.jsx(de,{"aria-label":"Open designer help",children:i.jsx(E,{path:Qi})})})})]}),children:i.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[i.jsx(lL,{ref:d,fitView:!0,nodes:T,edges:N,minZoom:.1,nodeTypes:UM,edgeTypes:zM,nodesConnectable:!1,edgesFocusable:!1,proOptions:{hideAttribution:!0},onNodesChange:j,onEdgesChange:C,className:qh.diagram,style:{opacity:S?0:1,transition:S?void 0:"opacity .15s"},onNodeClick:ne,onNodeDragStart:ce,onContextMenu:s([{key:"create",icon:i.jsx(E,{path:Ie}),title:"Create table...",onClick:t},{key:"view",icon:i.jsx(E,{path:Dj}),title:"Fit viewport",onClick:()=>f({duration:300})},{key:"refresh",icon:i.jsx(E,{path:Vc}),title:"Reset graph",onClick:oe},{key:"divider"},{key:"download-png",icon:i.jsx(E,{path:$b}),title:"Export as PNG",onClick:()=>he("png")},{key:"download-svg",icon:i.jsx(E,{path:Ui}),title:"Export as SVG",onClick:()=>he("svg")}]),children:i.jsx(yL,{color:yd(p?"slate.2":"slate.6")})}),l&&i.jsxs(B,{inset:0,pos:"absolute",align:"center",justify:"center",bg:"var(--mantine-color-body)",style:{zIndex:5},children:[i.jsx(ys,{}),i.jsx(_,{fz:"xl",fw:600,children:"Exporting graph..."})]}),ee&&i.jsxs(B,{inset:0,pos:"absolute",align:"center",justify:"center",gap:"xl",children:[i.jsxs(G,{ta:"center",children:[i.jsx(_,{fz:"xl",fw:600,children:"No tables defined"}),i.jsx(_,{children:"Define tables to visualize them in the table graph"})]}),i.jsx(X,{variant:"gradient",leftSection:i.jsx(E,{path:Ie}),disabled:!o,onClick:t,children:"Create table"})]})]})})}const ZM=v.memo(WM);function JM(){const{updateCurrentConnection:e}=Se.getState(),{design:t,stopDesign:n,active:s,isDesigning:r}=Jx(),{designerTableList:o}=Et(),a=ln(),c=Uo(),l=L(p=>[{key:"open",title:"Open designer",icon:i.jsx(E,{path:xr}),onClick:()=>t(p)},{key:"open",title:"Focus table",icon:i.jsx(E,{path:Lb}),onClick:()=>vt("focus-table",{table:p})}]),u=L(()=>{e({designerTableList:!1})});v.useEffect(()=>{a||n()},[a,n]),Pe("design-table",({table:p})=>{t(p)}),Fi("designer",()=>{It()});const[d,h]=Ed(275);return i.jsx(i.Fragment,{children:i.jsx(G,{h:"100%",ref:h,children:i.jsxs(br,{direction:"horizontal",style:{opacity:d===0?0:1},children:[o&&i.jsxs(i.Fragment,{children:[i.jsx(kn,{defaultSize:d,minSize:d,maxSize:35,id:"tables",order:1,children:i.jsx(hw,{icon:xr,onTableSelect:t,onTableContextMenu:l,onClose:u})}),i.jsx(Ni,{})]}),i.jsx(kn,{minSize:d,id:"graph",order:2,children:i.jsx(cw,{children:i.jsx(ZM,{tables:c,active:r?s:null,setActiveTable:t})})})]})})})}const KM="_article_1nc09_1",eF={article:KM};function ht({title:e,children:t}){return i.jsxs(G,{className:eF.article,children:[e&&i.jsx(xn,{mb:"sm",c:"bright",children:e}),i.jsx(dt,{cols:2,spacing:64,children:t})]})}function Xi({title:e,table:t}){return i.jsxs(U,{children:[e,i.jsx(Ft,{variant:"light",children:t})]})}function tF({language:e,topic:t}){const n=v.useMemo(()=>({cli:`
			RETURN $auth;
		`,js:`
			await db.info();
		`,csharp:`
		await db.Info<User>();
		`,php:`
		$info = $db->info();
		`}),[]);return i.jsxs(ht,{title:"Access user data",children:[i.jsx("div",{children:i.jsx("p",{children:"You can access information about a user that is currently authenticated with an access method. This information may include the user's name, email, and other details."})}),i.jsx(G,{children:i.jsx(St,{language:e,title:"Access user data",values:n})})]})}function nF({language:e}){const{authentication:t}=Et(),n=Uc(t),s=JSON.stringify(n),r=JSON.stringify(t.namespace),o=JSON.stringify(t.database),a={cli:"With the CLI's surreal sql command, you can sign in as a system (Root, Namespace and Database) users. This example shows a command on how to sign in as a root user with the username and password left blank.",_:"With SurrealDB's SDKs, you can signin both system (Root, Namespace and Database) users and scope users. The example shows how to sigin a new user based on the credentials required for access."},c=v.useMemo(()=>({cli:`
			surreal sql  -e ${s} --ns ${r} --db ${o} --user ... --pass ...
		`,js:`
		// Authenticate with a root user
		await db.signin({
			username: 'root',
			password: 'surrealdb',
		});

		// Authenticate with a Namespace user
		await db.signin({
			namespace: 'surrealdb',
			username: 'tobie',
			password: 'surrealdb',
		});

		// Authenticate with a Database user
		await db.signin({
			namespace: 'surrealdb',
			database: 'docs',
			username: 'tobie',
			password: 'surrealdb',
		});

		// Authenticate with a Scope user
		await db.signin({
			namespace: 'surrealdb',
			database: 'docs',
			scope: 'user',

			// Also pass any properties required by the scope definition
			email: 'info@surrealdb.com',
			pass: '123456',
		});
		`,rust:`
		// Sign in a Root user
		db.signin(Root {
			params: Credentials {
				email: "info@surrealdb.com",
				pass: "123456",
			},
		}).await?;

		// Sign in a Namespace user
		db.signin(Namespace {
			namespace: "test",
			params: Credentials {
				email: "info@surrealdb.com",
				pass: "123456",
			},
		}).await?;

		// Sign in a Database user
		db.signin(Database {
			namespace: "test",
			database: "test",
			params: Credentials {
				email: "info@surrealdb.com",
				pass: "123456",
			},
		}).await?;

		// Sign in a Record user
		db.signin(Scope {
			namespace: "test",
			database: "test",
			access: "user",
			params: Credentials {
				email: "info@surrealdb.com",
				pass: "123456",
			},
		}).await?;
		`,py:`
		token = await db.signin({
			'user': 'root',
			'pass': 'root',
		})
		token = await db.signin({
			'user': 'root',
			'pass': 'root',
			'namespace': 'test',
			'database': 'test',
			'scope': 'user',
		})
		`,go:`
		db.Signin(map[string]string{
			"user": "root",
			"pass": "root",
		})
		`,csharp:`
		// Sign in as root user
		await db.SignIn(
			new RootAuth
			{
				Username = "root",
				Password = "root"
			}
		);

		// Sign in using namespace auth
		await db.SignIn(
			new NamespaceAuth
			{
				Namespace = "test",
				Username = "johndoe",
				Password = "password123"
			}
		);

		// Sign in using database auth
		await db.SignIn(
			new DatabaseAuth
			{
				Namespace = "test",
				Database = "test",
				Username = "johndoe",
				Password = "password123"
			}
		);

		// Sign in as a scoped user
		var authParams = new AuthParams
		{
			Namespace = "test",
			Database = "test",
			Scope = "user",
			Email = "info@surrealdb.com",
			Password = "123456"
		};

		Jwt jwt = await db.SignIn(authParams);

		public class AuthParams : ScopeAuth
		{
			public string? Username { get; set; }
			public string? Email { get; set; }
			public string? Password { get; set; }
		}
		`,java:`
		// Connect to a local endpoint
		driver.signIn(user, pass)
		`,php:`
		$jtw = $db->signin([
			"user" => "user",
			"pass" => "password",
			"namespace" => "test",
			"database" => "test",
			"scope" => "user"
		]);
		`}),[s,r,o]);return i.jsxs(ht,{title:"Sign In",children:[i.jsx("div",{children:i.jsx("p",{children:a[e]??a._})}),i.jsx(G,{children:i.jsx(St,{language:e,title:"Sign In",values:c})})]})}function sF({language:e}){const{authentication:t}=Et(),n=JSON.stringify(t.namespace),s=JSON.stringify(t.database),r=v.useMemo(()=>({js:`
			await db.signup({
				namespace: ${n},
				database: ${s},
				scope: "user",
				email: "info@surrealdb.com",
				pass: "123456",
			});
		`,rust:`
			use serde::Serialize;
			use surrealdb::opt::auth::Record;

			#[derive(Serialize)]
			struct Credentials<'a> {
				email: &'a str,
				pass: &'a str,
			}

			let jwt = db.signup(Record {
				namespace: ${n},
				database: ${s},
				access: "user",
				params: Credentials {
					email: "info@surrealdb.com",
					pass: "123456",
				},
			}).await?;

			let token = jwt.as_insecure_token();
		`,py:`
		token = await db.signup({
			'NS': 'test',
			'DB': 'test',
			'SC': 'user',
			'email': 'info@surrealdb.com',
			'pass': '123456',
		})
		`,go:`
		db.Signup(map[string]string{
			"NS": "clear-crocodile-production",
			"DB": "web-scraping-application",
			"SC": "user",
			"email": "info@surrealdb.com",
			"pass": "123456",
		})
		`,csharp:`
		var authParams = new AuthParams
		{
			Namespace = "test",
			Database = "test",
			Scope = "user",
			Email = "info@surrealdb.com",
			Password = "123456"
		};

		Jwt jwt = await db.SignUp(authParams);

		public class AuthParams : ScopeAuth
		{
			public string? Username { get; set; }
			public string? Email { get; set; }
			public string? Password { get; set; }
		}
		`,java:`
		driver.signUp(namespace, database, scope, email, password)
		`,php:`
		$jwt = $db->signup([
			"user" => "user",
			"pass" => "password",
			"namespace" => "test",
			"database" => "test",
			"scope" => "user"
		]);
		`}),[n,s]);return i.jsxs(ht,{title:"Sign Up",children:[i.jsx("div",{children:i.jsx("p",{children:"When working with SurrealDB Scopes, you can let anonymous users signup and create an account in your database. In a scope's SIGNUP-clause, you can specify variables which later need to be passed in an SDK or Web Request, email and pass in this case. The scope is called user for this example."})}),i.jsx(G,{children:i.jsx(St,{language:e,title:"Sign Up",values:r})})]})}function iF({language:e,topic:t}){qs();const n=v.useMemo(()=>({js:`
			await db.authenticate("...");
		`,rust:`
			use surrealdb::opt::auth::Jwt;

			let jwt = Jwt::from("...");
			db.authenticate(jwt).await?;
		`,py:`
		# Connect to a local endpoint
		db = Surreal()
		await db.connect('http://127.0.0.1:8000/rpc')
		# Connect to a remote endpoint
		db = Surreal()
		await db.connect('https://cloud.surrealdb.com/rpc')
		`,go:`
		db.Authenticate("jwt")
		`,csharp:`
		// Sign in or sign up as a scoped user
		Jwt jwt = await db.SignUp(authParams);

		await db.Authenticate(jwt);
		`,java:`
		// Connect to a local endpoint
		driver.authenticate(token)
		`,php:`
		$db->authenticate($token);
		`}),[]);return i.jsxs(ht,{title:"Tokens",children:[i.jsx("div",{children:i.jsx("p",{children:"When signin in or up to SurrealDB, you receive a JWT token. This JWT, for the time it lives, can be used to authenticate future sessions to SurrealDB. As an integrator, you are expected yourself to persist this token, if you need to retrieve it at a later moment in time."})}),i.jsx(G,{children:i.jsx(St,{language:e,title:"Authenticate with an issued token",values:n})})]})}function rF({language:e}){const t=v.useMemo(()=>({cli:`
		DEFINE TABLE page SCHEMALESS PERMISSIONS FOR select FULL;
		DEFINE ANALYZER simple TOKENIZERS blank,class,camel,punct FILTERS snowball(english);
		DEFINE INDEX page_hostname ON page FIELDS hostname;
		DEFINE INDEX page_date_indexed ON page FIELDS date;
		DEFINE INDEX unique_page ON page FIELDS hostname, path UNIQUE;
		DEFINE INDEX page_title ON page FIELDS title SEARCH ANALYZER simple BM25(1.2,0.75);
		DEFINE INDEX page_path ON page FIELDS path SEARCH ANALYZER simple BM25(1.2,0.75);
		DEFINE INDEX page_h1 ON page FIELDS h1 SEARCH ANALYZER simple BM25(1.2,0.75);
		DEFINE INDEX page_h2 ON page FIELDS h2 SEARCH ANALYZER simple BM25(1.2,0.75);
		DEFINE INDEX page_h3 ON page FIELDS h3 SEARCH ANALYZER simple BM25(1.2,0.75);
		DEFINE INDEX page_h4 ON page FIELDS h4 SEARCH ANALYZER simple BM25(1.2,0.75);
		DEFINE INDEX page_content ON page FIELDS content SEARCH ANALYZER simple BM25(1.2,0.75) HIGHLIGHTS;
		DEFINE INDEX page_code ON page FIELDS code SEARCH ANALYZER simple BM25(1.2,0.75);
		`,js:`
		db.query('DEFINE TABLE page SCHEMALESS PERMISSIONS FOR select FULL;
		DEFINE ANALYZER simple TOKENIZERS blank,class,camel,punct FILTERS snowball(english);
		DEFINE INDEX page_hostname ON page FIELDS hostname;
		DEFINE INDEX page_date_indexed ON page FIELDS date;');
		`,rust:`
		db.query('DEFINE TABLE page SCHEMALESS PERMISSIONS FOR select FULL;
		DEFINE ANALYZER simple TOKENIZERS blank,class,camel,punct FILTERS snowball(english);
		DEFINE INDEX page_hostname ON page FIELDS hostname;
		DEFINE INDEX page_date_indexed ON page FIELDS date;');
		`,py:`
		db.query('DEFINE TABLE page SCHEMALESS PERMISSIONS FOR select FULL;
		DEFINE ANALYZER simple TOKENIZERS blank,class,camel,punct FILTERS snowball(english);
		DEFINE INDEX page_hostname ON page FIELDS hostname;
		DEFINE INDEX page_date_indexed ON page FIELDS date;');
		`,go:`
		// Connect to a local endpoint
		surrealdb.New("ws://localhost:8000/rpc");
		// Connect to a remote endpoint
		surrealdb.New("ws://cloud.surrealdb.com/rpc");
		`,csharp:`
		await db.RawQuery(
			"""
				DEFINE TABLE page SCHEMALESS PERMISSIONS FOR select FULL;

				DEFINE ANALYZER simple TOKENIZERS blank,class,camel,punct FILTERS snowball(english);
				DEFINE INDEX page_hostname ON page FIELDS hostname;
				DEFINE INDEX page_date_indexed ON page FIELDS date;
			"""
		);
		`,java:`
		// Connect to a local endpoint
		SurrealWebSocketConnection.connect(timeout)
		`,php:`
		$db->query('
			DEFINE TABLE page SCHEMALESS PERMISSIONS FOR select FULL;
			DEFINE ANALYZER simple TOKENIZERS blank,class,camel,punct FILTERS snowball(english);
			DEFINE INDEX page_hostname ON page FIELDS hostname;
			DEFINE INDEX page_date_indexed ON page FIELDS date;
		');
		`}),[]);return i.jsxs(ht,{title:"Full Text Search",children:[i.jsx("div",{children:i.jsxs("p",{children:["Full Text Search enables search capabilities within your database connection. This enables text matching, proximity matching, proximity search, and more. In SurrealDB Full-Text Search is ACID-compliant and can be accessed using"," ",i.jsxs(Pt,{href:"https://surrealdb.com/docs/surrealdb/surrealql/functions/search#searchhighlight",children:[" ","Search functions"]}),","," ",i.jsxs(Pt,{href:"https://surrealdb.com/docs/surrealdb/surrealql/statements/define/indexes/",children:[" ","Indexes"]}),". To learn more, check out this"," ",i.jsxs(Pt,{href:"https://surrealdb.com/docs/surrealdb/reference-guide/full-text-search",children:[" ","Reference guide"]})]})}),i.jsx(G,{children:i.jsx(St,{language:e,title:"Full Text Search",values:t})})]})}function oF({language:e,topic:t}){return qs(),i.jsx(ht,{title:"Surreal ML",children:i.jsxs("div",{children:[i.jsxs("p",{children:["SurrealML is an engine that seeks to do one thing, and one thing well: store and execute trained ML models. SurrealML does not intrude on the training frameworks that are already out there, instead works with them to ease the storage, loading, and execution of models. Someone using SurrealML will be able to train their model in a chosen framework in Python, save the model, and load and execute it in either Python or Rust. You can use SurrealML within your database connection to store and execute trained ML models using"," ",i.jsx(Pt,{href:"https://surrealdb.com/docs/surrealdb/surrealql/functions/ml",children:"Machine learning functions"}),". Learn more about"," ",i.jsx(Pt,{href:"https://surrealdb.com/docs/surrealdb/surrealml",children:"SurrealML in the documentation"})]}),i.jsx("p",{children:t.extra?.table?.schema?.name})]})})}function aF({language:e}){const{authentication:t}=Et(),n=Uc(t),s=JSON.stringify(n),r=JSON.stringify(t.namespace),o=JSON.stringify(t.database),a=v.useMemo(()=>({cli:`
			surreal sql --endpoint ${s} --namespace ${r} --database ${o}
		`,js:`
			await db.connect(${s}, {
				namespace: ${r},
				database: ${o}
			});
		`,rust:`
			let db = any::connect(${s}).await?;
			db.use_ns(${r}).use_db(${o}).await?;
		`,py:`
		# Connect to a local endpoint
		db = Surreal()
		await db.connect('http://127.0.0.1:8000/rpc')
		# Connect to a remote endpoint
		db = Surreal()
		await db.connect('https://cloud.surrealdb.com/rpc')
		`,go:`
		// Connect to a local endpoint
		surrealdb.New("ws://localhost:8000/rpc");
		// Connect to a remote endpoint
		surrealdb.New("ws://cloud.surrealdb.com/rpc");
		`,csharp:`
		await db.Connect();
		`,java:`
		// Connect to a local endpoint
		SurrealWebSocketConnection.connect(timeout)
		`,php:`
		$db->connect("http://localhost:8000", [
			"namespace" => "test",
			"database" => "test"
		]);
		`}),[s,r,o]);return i.jsxs(ht,{title:"Connecting",children:[i.jsx("div",{children:i.jsx("p",{children:"The connection API is used to establish a connection to a SurrealDB instance. The connection is used to interact with the database and perform operations on the data. While connecting to the database, the user can specify the namespace and database to connect to, as well as the authentication details for the connection."})}),i.jsx(G,{children:i.jsx(St,{language:e,title:"Opening a connection",values:a})})]})}function cF({language:e}){const{authentication:t}=Et(),n=JSON.stringify(t.namespace),s=JSON.stringify(t.database),r=v.useMemo(()=>({cli:`
			USE DB ${s};
		`,js:`
			await db.use({
				database: ${s}
			});
		`,rust:`
			db.use_db(${s}).await?;
		`,py:`
		await db.use(database:${s})
		`,go:`
		db.Use(database:${s})
		`,csharp:`
		await db.Use(${n}, ${s});
		`,java:`
		// Connect to a local endpoint
		driver.use(${s});
		`,php:`
		$db->use([
			"database" => "test"
		]);
		`}),[n,s]);return i.jsxs(ht,{title:"Databases",children:[i.jsx("div",{children:i.jsx("p",{children:"The database is the primary storage in a namespace. It contains the tables, views, and indexes that are used to store and retrieve data. You can specify which database to use and also switch between multiple databases."})}),i.jsx(G,{children:i.jsx(St,{language:e,title:"Define the database to use for the connection",values:r})})]})}function lF({language:e}){const{authentication:t}=Et(),n=Uc(t),s=JSON.stringify(n),r=JSON.stringify(t.namespace),o=JSON.stringify(t.database),a=v.useMemo(()=>({cli:`
			surreal sql --endpoint ${s} --namespace ${r} --database ${o}
		`,js:`
			import { Surreal } from 'surrealdb';

			// Create a new Surreal instance
			const db = new Surreal();

			// Connect to the database
			await db.connect(${s}, {
				namespace: ${r},
				database: ${o}
			});
		`,rust:`
			use surrealdb::engine::any;

			// Connect to the database
			let db = any::connect(${s}).await?;

			// Specify namespace and database
			db.use_ns(${r}).use_db(${o}).await?;
		`,py:`
		# Connect to a local endpoint
		db = Surreal()
		await db.connect('http://127.0.0.1:8000/rpc')
		# Connect to a remote endpoint
		db = Surreal()
		await db.connect('https://cloud.surrealdb.com/rpc')
		`,go:`
		// Connect to a local endpoint
		surrealdb.New("ws://localhost:8000/rpc");
		// Connect to a remote endpoint
		surrealdb.New("wss://cloud.surrealdb.com/rpc");
		`,csharp:`
			// Connect to a local endpoint
		var db = new SurrealDbClient("http://127.0.0.1:8000");

		// Connect to a remote endpoint
		var db = new SurrealDbClient("wss://cloud.surrealdb.com/rpc");
		`,java:`
		// Connect to a local endpoint
		SurrealWebSocketConnection.connect(timeout)
		`,php:`
		$db = new \\Surreal\\Surreal();
		`}),[s,r,o]);return i.jsxs(ht,{title:"Initialising",children:[i.jsx("div",{children:i.jsx("p",{children:"To initialise a connection to SurrealDB, you need to create a new instance of a SurrealDB client and connect. This will allow you to interact with the database and run queries to the database. Do this by importing the Surreal class and create a new instance of the class. Then, use the connect method to connect to the database."})}),i.jsx(G,{children:i.jsx(St,{language:e,title:"initialise",values:a})})]})}function uF(){const[e,t]=ut("behavior","docsLanguage"),n=Lc.find(s=>s.id===e);return i.jsxs(ht,{children:[i.jsxs("div",{children:[i.jsx("p",{children:"SurrealDB offers a rich set of client libraries and connection protocols to make it easy to integrate SurrealDB into your application. This page provides documentation for using these libraries and protocols within the context of your database and schema. You can change the language of the code examples by selecting a different language from the dropdown in the top right corner of this panel."}),i.jsx(xn,{order:2,mt:"xl",children:"Client libraries"}),i.jsx("p",{children:"Client libraries provide the most streamlined way to interact with SurrealDB. They handle the low-level details of the connection and provide a high-level API for interacting with the database. We provide client libraries for a variety of languages, including Rust, JavaScript, Python, and many more."}),i.jsx(xn,{order:2,mt:"xl",children:"Using the CLI"}),i.jsx("p",{children:"The SurrealDB CLI provides a convenient way to interact with your database on the command line. It provides a simple interface for executing queries, which is especially useful for limited environments."}),n&&i.jsxs(i.Fragment,{children:[i.jsx(xn,{order:2,mt:"xl",children:"Learn more"}),i.jsx("p",{children:"You can learn more about the selected language by visiting the official documentation."}),i.jsxs(X,{variant:"gradient",rightSection:i.jsx(E,{path:Vn}),onClick:()=>fe.openUrl(n.link),size:"xs",radius:"sm",children:["Visit ",n.name," docs"]})]})]}),i.jsxs(G,{children:[i.jsx(_,{fz:"lg",ff:"mono",tt:"uppercase",fw:600,mb:"sm",c:"bright",children:"Select a preview language"}),i.jsx(De,{radius:"xl",children:i.jsx(my,{value:e,onChange:t,disabled:["java","go","c"],cols:{xs:1,sm:2,md:3,lg:4,xl:6}})})]})]})}function dF({language:e}){const{authentication:t}=Et(),n=JSON.stringify(t.namespace),s=JSON.stringify(t.database),r=v.useMemo(()=>({cli:`
			USE NS ${n};
		`,js:`
			await db.use({
				namespace: ${n}
			});
		`,rust:`
			db.use_ns(${n}).await?;
		`,py:`
		await db.use(namespace:${n})
		`,go:`
		db.Use(namespace:${n})
		`,csharp:`
		await db.Use(${n}, ${s});
		`,java:`
		driver.use(namespace:${n});
		`,php:`
		$db->use([
			"namespace" => "test"
		]);
		`}),[n,s]);return i.jsxs(ht,{title:"Namespaces",children:[i.jsx("div",{children:i.jsx("p",{children:"After connecting to a SurrealDB instance, you can specify the namespace to use. Namespaces are used to group related data together, contains information regarding the users, roles, tokens, and databases it contains."})}),i.jsx(G,{children:i.jsx(St,{language:e,title:"Define the namespaces to use for the connection",values:r})})]})}function hF({language:e}){const t=v.useMemo(()=>({cli:`
		DEFINE ANALYZER example_ngram TOKENIZERS class FILTERS ngram(1,3);
		`,js:`
		import { Surreal } from 'surrealdb';

		const db = new Surreal();

		import { Surreal } from 'surrealdb';
		const db = new Surreal();
		await db.connect('<the actual address of the connection>/rpc', {
			namespace: '<the actual ns of the connection>',
			database: '<the action db of the connection>'
		});

		`,rust:`
		//Connect to a local endpoint
		DB.connect::<Ws>("127.0.0.1:8000").await?;
		//Connect to a remote endpoint
		DB.connect::<Wss>("cloud.surrealdb.com").await?;
		`,py:`
		# Connect to a local endpoint
		db = Surreal()
		await db.connect('http://127.0.0.1:8000/rpc')
		# Connect to a remote endpoint
		db = Surreal()
		await db.connect('https://cloud.surrealdb.com/rpc')
		`,go:`
		// Connect to a local endpoint
		surrealdb.New("ws://localhost:8000/rpc");
		// Connect to a remote endpoint
		surrealdb.New("ws://cloud.surrealdb.com/rpc");
		`,csharp:`
		await db.RawQuery(
			"""
				DEFINE ANALYZER example_ngram TOKENIZERS class FILTERS ngram(1,3);
			"""
		);
		`,java:`
		// Connect to a local endpoint
		SurrealWebSocketConnection.connect(timeout)
		`,php:`
		$db->query("DEFINE ANALYZER example_ngram TOKENIZERS class FILTERS ngram(1,3)");
		`}),[]);return i.jsxs(ht,{title:"Analyzers",children:[i.jsx("div",{children:i.jsxs("p",{children:["Analyzers are used to enable full-text search on a table within your database. If you have any analyzers defined for a table, you can use the full-text search capabilities of SurrealDB. Check out the section on"," ",i.jsxs(Pt,{href:"https://surrealdb.com/docs/surrealdb/reference-guide/full-text-search",children:[" ","Full Text Search for more information."]})]})}),i.jsx(G,{children:i.jsx(St,{language:e,title:"Analyzers",values:t})})]})}function pF({language:e}){const t=v.useMemo(()=>({cli:`
		-- It is necessary to prefix the name of your function with "fn::"
		-- This indicates that it's a custom function
		DEFINE FUNCTION fn::greet($name: string) {
			RETURN "Hello, " + $name + "!";
		};

		-- Returns: "Hello, BOB!"
		RETURN fn::greet("BOB");
		`,js:`
		import { Surreal } from 'surrealdb';

		const db = new Surreal();

		import { Surreal } from 'surrealdb';
		const db = new Surreal();
		await db.connect('<the actual address of the connection>/rpc', {
			namespace: '<the actual ns of the connection>',
			database: '<the action db of the connection>'
		});

		`,rust:`
		//Connect to a local endpoint
		DB.connect::<Ws>("127.0.0.1:8000").await?;
		//Connect to a remote endpoint
		DB.connect::<Wss>("cloud.surrealdb.com").await?;
		`,py:`
		# Connect to a local endpoint
		db = Surreal()
		await db.connect('http://127.0.0.1:8000/rpc')
		# Connect to a remote endpoint
		db = Surreal()
		await db.connect('https://cloud.surrealdb.com/rpc')
		`,go:`
		// Connect to a local endpoint
		surrealdb.New("ws://localhost:8000/rpc");
		// Connect to a remote endpoint
		surrealdb.New("ws://cloud.surrealdb.com/rpc");
		`,csharp:`
			await db.RawQuery(
				"""
					-- It is necessary to prefix the name of your function with "fn::"
					-- This indicates that it's a custom function
					DEFINE FUNCTION fn::greet($name: string) {
						RETURN "Hello, " + $name + "!";
					}

					-- Returns: "Hello, BOB!"
					RETURN fn::greet("BOB");
				"""
			);
		`,java:`
		// Connect to a local endpoint
		SurrealWebSocketConnection.connect(timeout)
		`,php:`
		// Connect to a local endpoint
		$db = new SurrealDB();
		`}),[]);return i.jsxs(ht,{title:"Functions",children:[i.jsx("div",{children:i.jsx("p",{children:"Functions are a way to encapsulate logic in a database. To define functions you have to be a system user (namespace, database, or root). They can be used to perform calculations, manipulate data, or perform other operations. In SurrealDB functions can be written just as you would in your programming language of choice."})}),i.jsx(G,{children:i.jsx(St,{language:e,title:"Functions",values:t})})]})}function fF({language:e}){const t=v.useMemo(()=>({cli:`
		// Assign a variable on the connection
		DEFINE PARAM $endpointBase VALUE "https://dummyjson.com";

		// Remove a parameter from the connection
		REMOVE PARAM $endpointBase;

		`,js:`
			// Assign a variable on the connection
			await db.let('name', {
				first: 'Tobie',
				last: 'Morgan Hitchcock',
			});

			// Use the variable in a subsequent query
			await db.query('CREATE person SET name = $name');

			// Use the variable in a subsequent query
			await db.query('SELECT * FROM person WHERE name.first = $name.first');

			// Remove a parameter from the connection
			async db.unset(name);

		`,rust:`
		// Assign a variable on the connection
		db.set("name", Name {
			first: "Tobie",
			last: "Morgan Hitchcock",
		}).await?;


		// Use the variable in a subsequent query
		db.query("CREATE person SET name = $name").await?;


		// Use the variable in a subsequent query
		db.query("SELECT * FROM person WHERE name.first = $name.first").await?;
		`,py:`
		# Assign a variable on the connection
		await db.let("name", {
			"first": "Tobie",
			"last": "Morgan Hitchcock",
		})

		# Use the variable in a subsequent query
		await db.query('CREATE person SET name = $name')

		# Use the variable in a subsequent query
		await db.query('SELECT * FROM person WHERE name.first = $name.first')
		`,go:`
		// Assign a variable on the connection

		db.Let("name", map[string]string{
			"first": "ElecTwix",
			"last": "Morgan Hitchcock",
		});

		// Use the variable in a subsequent query
		db.Query("CREATE person SET name = $name", nil);

		// Use the variable in a subsequent query
		db.Query("SELECT * FROM person WHERE name.first = $name.first", nil);
		`,csharp:`
		// Assign a variable on the connection
		await db.Set("name", new { FirstName = "Tobie", LastName = "Morgan Hitchcock" });

		// Use the variable in a subsequent query
		await db.Query($"CREATE person SET name = $name");

		// Use the variable in a subsequent query
		await db.Query($"SELECT * FROM person WHERE name.first_name = $name.first_name");
		`,java:`
		driver.let(key, value)
		`,php:`
		$db->let("name", [
			"firstname" => "Tobie",
			"lastname" => "Morgan Hitchcock"
		]);

		$db->query('SELECT * FROM person WHERE name.firstname = $name.firstname');
		`}),[]);return i.jsxs(ht,{title:"Params",children:[i.jsx("div",{children:i.jsx("p",{children:"In your database you can define parameters that can be used in your queries. These parameters can be used to store values that are used in multiple queries, or to store values that are used in other parts of your application."})}),i.jsx(G,{children:i.jsx(St,{language:e,title:"Params",values:t})})]})}function gF({language:e}){const t=v.useMemo(()=>({cli:`
		-- Enable scope authentication directly in SurrealDB
		DEFINE SCOPE account SESSION 24h
		SIGNUP (
			CREATE user SET email = $email, pass = crypto::argon2::generate($pass)
		)
		SIGNIN (
			SELECT * FROM user WHERE email = $email AND crypto::argon2::compare(pass, $pass)
		);
		`,js:`
		import { Surreal } from 'surrealdb';

		const db = new Surreal();

		import { Surreal } from 'surrealdb';
		const db = new Surreal();
		await db.connect('<the actual address of the connection>/rpc', {
			namespace: '<the actual ns of the connection>',
			database: '<the action db of the connection>'
		});

		`,rust:`
		//Connect to a local endpoint
		DB.connect::<Ws>("127.0.0.1:8000").await?;
		//Connect to a remote endpoint
		DB.connect::<Wss>("cloud.surrealdb.com").await?;
		`,py:`
		# Connect to a local endpoint
		db = Surreal()
		await db.connect('http://127.0.0.1:8000/rpc')
		# Connect to a remote endpoint
		db = Surreal()
		await db.connect('https://cloud.surrealdb.com/rpc')
		`,go:`
		// Connect to a local endpoint
		surrealdb.New("ws://localhost:8000/rpc");
		// Connect to a remote endpoint
		surrealdb.New("ws://cloud.surrealdb.com/rpc");
		`,csharp:`
		await db.RawQuery(
			"""
				-- Enable scope authentication directly in SurrealDB
				DEFINE SCOPE account SESSION 24h
				SIGNUP (
					CREATE user SET email = $email, pass = crypto::argon2::generate($pass)
				)
				SIGNIN (
					SELECT * FROM user WHERE email = $email AND crypto::argon2::compare(pass, $pass)
				);
			"""
		);
		`,java:`
		// Connect to a local endpoint
		SurrealWebSocketConnection.connect(timeout)
		`,php:`
		$db->query('
			-- Enable scope authentication directly in SurrealDB
			DEFINE SCOPE account SESSION 24h
			SIGNUP (
				CREATE user SET email = $email, pass = crypto::argon2::generate($pass)
			)
			SIGNIN (
				SELECT * FROM user WHERE email = $email AND crypto::argon2::compare(pass, $pass)
			);
		');
		`}),[]);return i.jsxs(ht,{title:"Scopes",children:[i.jsx("div",{children:i.jsx("p",{children:"Within SurrealDB, accesses are a way to manage access to data. They are defined within the schema and can be used to restrict access to certain parts of the data. To access data within an access, you must first sign in with the appropriate credentials."})}),i.jsx(G,{children:i.jsx(St,{language:e,title:"Scopes",values:t})})]})}function mF({language:e}){const t=v.useMemo(()=>({cli:`

		-- Create a root user
		DEFINE USER username ON ROOT PASSWORD '123456' ROLES OWNER;
		`,js:`
		import { Surreal } from 'surrealdb';

		const db = new Surreal();

		import { Surreal } from 'surrealdb';
		const db = new Surreal();
		await db.connect('<the actual address of the connection>/rpc', {
			namespace: '<the actual ns of the connection>',
			database: '<the action db of the connection>'
		});

		`,rust:`
		//Connect to a local endpoint
		DB.connect::<Ws>("127.0.0.1:8000").await?;
		//Connect to a remote endpoint
		DB.connect::<Wss>("cloud.surrealdb.com").await?;
		`,py:`
		# Connect to a local endpoint
		db = Surreal()
		await db.connect('http://127.0.0.1:8000/rpc')
		# Connect to a remote endpoint
		db = Surreal()
		await db.connect('https://cloud.surrealdb.com/rpc')
		`,go:`
		// Connect to a local endpoint
		surrealdb.New("ws://localhost:8000/rpc");
		// Connect to a remote endpoint
		surrealdb.New("ws://cloud.surrealdb.com/rpc");
		`,csharp:`
		await db.RawQuery(
			"""
				-- Create a root user
				DEFINE USER username ON ROOT PASSWORD '123456' ROLES OWNER;
			"""
		);
		`,java:`
		// Connect to a local endpoint
		SurrealWebSocketConnection.connect(timeout)
		`,php:`
		// Connect to a local endpoint
		$db = new SurrealDB();
		`}),[]);return i.jsxs(ht,{title:"Users",children:[i.jsx("div",{children:i.jsx("p",{children:"Managing permissions for system Users within SurrealDB can be done using the roles OWNER, EDITOR, and VIEWER."})}),i.jsx(G,{children:i.jsx(St,{language:e,title:"Users",values:t})})]})}const bF={schema:{name:"example_table",drop:!1,full:!1,kind:{kind:"NORMAL"},permissions:{create:!0,select:!0,update:!0,delete:!0}},fields:[{name:"field_one",flex:!1,readonly:!1,kind:"string",permissions:{create:!0,select:!0,update:!0,delete:!0}}],events:[],indexes:[]};function Wi(){const e=Ye(n=>n.docsTable);return Uo().find(n=>n.schema.name===e)??bF}function xF({language:e}){const t=Wi(),n=v.useMemo(()=>({cli:`
		CREATE ${t.schema.name}:demo
		`,js:`
		db.create('${t.schema.name}');
		`,rust:`
		db.create("${t.schema.name}").await?;
		`,py:`
		db.create('${t.schema.name}')
		`,go:`
		db.Create("${t.schema.name}", map[string]interface{}{})
		`,csharp:`
		await db.Create("${t.schema.name}", data);
		`,java:`
		driver.create(thing, data)
		`,php:`
		$db->create("${t.schema.name}")
		`}),[t.schema.name]);return i.jsxs(ht,{title:i.jsx(Xi,{title:"Creating records",table:t.schema.name}),children:[i.jsxs("p",{children:["Add a new record to the table",i.jsxs("b",{children:[" ",t.schema.name," "]}),". The record will have a random record ID if not specified after the table name. You can also specify the fields of the record."]}),i.jsx(G,{children:i.jsx(St,{language:e,title:"Creating Records",values:n})})]})}function yF({language:e}){const t=Wi(),n=v.useMemo(()=>({cli:`
		DELETE ${t.schema.name}:demo
		`,js:`
		db.delete('${t.schema.name}');
		`,rust:`
		db.delete("${t.schema.name}").await?;
		`,py:`
		db.delete('${t.schema.name}')
		`,go:`
		db.Delete("${t.schema.name}", map[string]interface{}{})
		`,csharp:`
		await db.Delete("${t.schema.name}");
		`,java:`
		driver.delete(thing, data)
		`,php:`
		$db->delete("${t.schema.name}");
		`}),[t.schema.name]);return i.jsxs(ht,{title:i.jsx(Xi,{title:"Deleting records",table:t.schema.name}),children:[i.jsx("div",{children:i.jsx("p",{children:"Deleting records is a common operation when you want to remove records from a table. This operation is useful when you want to remove records from a table and can also be based on certain conditions using the Where clause."})}),i.jsx(G,{children:i.jsx(St,{language:e,title:"Deleting Records",values:n})})]})}function vF({language:e}){const t=Wi(),n=v.useMemo(()=>({cli:`
		INSERT INTO ${t.schema.name} {
			field: value
		};
		`,js:`
		await db.insert('${t.schema.name}', {
			field: value
		});
		`,rust:`
		db.update("${t.schema.name}").merge(Document {
        updated_at: Datetime::default(),
	}).await?;
		`,py:`
		await db.query("""
        insert into ${t.schema.name} {
        	field:value
        };
		`,go:`
		db.Query("INSERT INTO ${t.schema.name} {
			field: value
		};")
		`,csharp:`
		await db.Merge("${t.schema.name}", data);
		`,java:`
		`,php:`
		$db->insert("${t.schema.name}", [
			["field" => "value"],
			["field" => "value"]
		]);
		`}),[t.schema.name]);return i.jsxs(ht,{title:i.jsx(Xi,{title:"Inserting records",table:t.schema.name}),children:[i.jsx("div",{children:i.jsx("p",{children:"Insert records into a table in the database. It could also be used to update existing fields in records within a table."})}),i.jsx(G,{children:i.jsx(St,{language:e,title:"Inserting Records",values:n})})]})}function wF({language:e}){const{setDocsTable:t}=Ye.getState(),n=qi();v.useMemo(()=>n.map(o=>({value:o,label:o})),[n]);const s=Ye(o=>o.docsTable),r=v.useMemo(()=>({cli:`

		-- Create schemafull user table.
		DEFINE TABLE ${s} SCHEMAFULL;
		`,js:`
		db.create('${s}');
		`,rust:`
		db.create("${s}").await?;
		`,py:`
		db.create('${s}')
		`,go:`
		db.Create("${s}", map[string]interface{}{})
		`,csharp:`
		await db.Create<TableName>("${s}");
		`,java:`
		// Connect to a local endpoint
		SurrealWebSocketConnection.connect(timeout)
		`,php:`
		$db->create("${s}");
		`}),[s]);return i.jsxs(ht,{title:"Tables",children:[i.jsx("div",{children:i.jsx("p",{children:"Tables are the primary data structure in a database. They store data in the form of records, and can be further configured with indexes and events."})}),i.jsx(G,{children:i.jsx(St,{language:e,title:"Tables",values:r})})]})}function SF({language:e}){const t=Wi(),n=v.useMemo(()=>({cli:`
		LIVE SELECT DIFF FROM ${t.schema.name};
		`,js:`
		// The uuid of the live query will be returned
		const queryUuid = await db.live(
			"${t.schema.name}",
			// The callback function takes an object with the 'action' and 'result' properties
			({ action, result }) => {
				// action can be: 'CREATE', 'UPDATE', 'DELETE' or 'CLOSE'
				if (action === 'CLOSE') return;
table_name
				// result contains either the entire record, or a set of JSON patches when diff mode is enabled
						processSomeLiveQueryUpdate(result);
			}
		)


		// Registers a callback function for a running live query.
		await db.listenLive(
			queryUuid,
			// The callback function takes an object with the "action" and "result" properties
			({ action, result }) => {
				// action can be: "CREATE", "UPDATE", "DELETE" or "CLOSE"
				if (action === 'CLOSE') return;

				// result contains either the entire record, or a set of JSON patches when diff mode is enabled
				processSomeLiveQueryUpdate(result);
			}
		)

		`,rust:`
		//Connect to a local endpoint
		DB.connect::<Ws>("127.0.0.1:8000").await?;
		//Connect to a remote endpoint
		DB.connect::<Wss>("cloud.surrealdb.com").await?;
		`,py:`

		`,go:`

		`,csharp:`
		await using var liveQuery = db.ListenLive<${nu(t.schema.name)}>(queryUuid);

		// Option 1
		// Consume the live query via an IAsyncEnumerable,
		// blocking the current thread until the query is killed.
		await foreach (var response in liveQuery)
		{
			// Either a Create, Update, Delete or Close response...
		}


		// Option 2
		// Consume the live query via an Observable.
		liveQuery
			.ToObservable()
			.Subscribe(() =>
			{
				// Either a Create, Update, Delete or Close response...
			});


		await using var liveQuery = await db.LiveQuery<${nu(t.schema.name)}>($"LIVE SELECT * FROM type::table({table});");

// Consume the live query...
		`,java:`
		// Connect to a local endpoint
		SurrealWebSocketConnection.connect(timeout)
		`,php:`
		// Connect to a local endpoint
		$db = new SurrealDB();
		`}),[t.schema.name]);return i.jsxs(ht,{title:i.jsx(Xi,{title:"Live queries",table:t.schema.name}),children:[i.jsx("div",{children:i.jsxs("p",{children:["Create realtime query notifications for changes to selected records on"," ",i.jsx("b",{children:t.schema.name})," and see live updates in the live message view in the console."]})}),i.jsx(G,{children:i.jsx(St,{language:e,title:"Live Selecting",values:n})})]})}function jF({language:e}){const t=Wi(),n=t.fields.find(({name:r})=>!["id","in","out"].includes(r))?.name??"id",s=v.useMemo(()=>({cli:`
		SELECT ${n} FROM ${t.schema.name}
		`,js:`
		// Select a specific record from a table
		const [person] = await db.select('${n}');
		`,rust:`

		`,py:`
		db.select('${n}')
		`,go:`

		`,java:`
		driver.select("${n}", rowType)
		`,php:`
		$record = new \\Surreal\\Cbor\\Types\\StringRecordId("${n}");
		$db->select($record);
		`}),[n,t]);return i.jsxs(ht,{title:i.jsx(Xi,{title:"Selecting individual fields",table:t.schema.name}),children:[i.jsx("div",{children:i.jsx("p",{children:"Selecting fields operation is useful when you want to retrieve specific fields in a table without retrieving all the fields. To do this, you need to know the field name in the table you want to retrieve."})}),i.jsx(G,{children:i.jsx(St,{language:e,title:"Selecting Fields",values:s})})]})}function TF({language:e}){const t=Wi(),n=v.useMemo(()=>({cli:`
		SELECT * FROM ${t.schema.name}
		`,js:`
		db.select('${t.schema.name}');
		`,rust:`
		let people: Vec<Person> = db.select("${t.schema.name}").await?;
		`,py:`
		db.select('${t.schema.name}');
		`,go:`
		db.Select('${t.schema.name}');
		`,csharp:`
		await db.Select<${nu(t.schema.name)}>("${t.schema.name}");
		`,java:`
		driver.select("thing", rowType)
		`,php:`
		$db->select("${t.schema.name}");
		`}),[t.schema.name]);return i.jsxs(ht,{title:i.jsx(Xi,{title:"Selecting all fields",table:t.schema.name}),children:[i.jsx("div",{children:i.jsx("p",{children:"Selecting all fields in a table is a common operation when you want to retrieve all the fields in a table. This operation is useful when you want to retrieve all the fields in a table without specifying the fields explicitly."})}),i.jsx(G,{children:i.jsx(St,{language:e,title:"Selecting all fields",values:n})})]})}function EF(){const{setDocsTable:e}=Ye.getState(),t=qi(),n=v.useMemo(()=>t.map(r=>({value:r,label:r})),[t]),s=Ye(r=>r.docsTable);return i.jsx(ht,{children:i.jsxs(et,{mt:"xl",color:"blue",title:"Preview a table",children:["Select a table to preview it in the following table topics",t.length===0?i.jsxs(U,{mt:"sm",opacity:.75,gap:"xs",children:[i.jsx(E,{path:Jt,size:"sm"}),i.jsx(_,{children:"The current schema has no tables defined"})]}):i.jsx(yt,{mt:"md",data:n,placeholder:"example_table",value:s,onChange:e,clearable:!0,maw:325})]})})}function kF({language:e}){const t=Wi(),n=t.fields.find(({name:r})=>!["id","in","out"].includes(r))?.name??"id",s=v.useMemo(()=>({cli:`
		UPDATE ${t.schema.name}:demo
		`,js:`
		// Update all records in a table
		await db.update('${t.schema.name}');

		// Update a record with a specific ID
		const [person] = await db.update('${t.schema.name}:${n}', {
			name: 'Tobie',
			settings: {
				active: true,
				marketing: true,
			},
		});

		`,rust:`
		db.update("${t.schema.name}").await?;
		`,py:`
		# Update all records in a table
		db.update("${t.schema.name}");

		# Update a record with a specific ID
		person = await db.update('${t.schema.name}:${n}', {
			'name': 'Jill'
		})

		`,go:`
		db.Update("${t.schema.name}", map[string]interface{}{
			"name": "ElecTwix",
			"settings": map[string]bool{
				"active": true,
				"marketing": true,
			},
		});
		`,csharp:`
		await db.Upsert("${t.schema.name}", data);
		`,java:`
		// Connect to a local endpoint
		SurrealWebSocketConnection.connect(timeout)
		`,php:`
		$db->update("${t.schema.name}", [
			"name" => "Tobie",
			"settings" => [
				"active" => true,
				"marketing" => true
			]
		]);
		`}),[t.schema.name,n]);return i.jsxs(ht,{title:i.jsx(Xi,{title:"Updating records",table:t.schema.name}),children:[i.jsx("div",{children:i.jsxs("p",{children:["Update or modify all existing record in the table ",i.jsx("b",{children:t.schema.name})," or specific records."]})}),i.jsx(G,{children:i.jsx(St,{language:e,title:"Updating Records",values:s})})]})}function OF(e){return[{id:Ce(),title:"Introduction",component:uF},{id:Ce(),title:"Initialising",component:lF,excludeLanguages:["cli","go","java","c"]},{id:Ce(),title:"Connecting",component:aF,excludeLanguages:["go","java","c"]},{id:Ce(),title:"Namespaces",component:dF,excludeLanguages:["go","java","c"]},{id:Ce(),title:"Databases",component:cF,excludeLanguages:["go","java","c"]},{id:Ce(),title:"Authentication",icon:Nb,excludeLanguages:["go","java","c"],topics:[{id:Ce(),title:"Sign up",component:sF,excludeLanguages:["cli"]},{id:Ce(),title:"Sign in",component:nF},{id:Ce(),title:"Tokens",component:iF,excludeLanguages:["cli"]},{id:Ce(),title:"Access user data",component:tF,excludeLanguages:["rust","py","go","java","c"]}]},{id:Ce(),title:"Schema",icon:xr,excludeLanguages:["go","java","c"],topics:[{id:Ce(),title:"Params",component:fF},{id:Ce(),title:"Scopes",component:gF,excludeLanguages:["rust","py","go","java","c","js"]},{id:Ce(),title:"Users",component:mF,excludeLanguages:["rust","py","go","java","c","js","php"]},{id:Ce(),title:"Functions",component:pF,excludeLanguages:["rust","py","go","java","c","js","php"]},{id:Ce(),title:"Analyzers",component:hF,excludeLanguages:["rust","py","go","java","c"]}]},{id:Ce(),title:"Tables",icon:qn,excludeLanguages:["go","java","c"],component:EF,topics:[{id:Ce(),title:"Introduction",component:wF},{id:Ce(),title:"Selecting fields",component:jF},{id:Ce(),title:"Selecting all fields",component:TF},{id:Ce(),title:"Creating records",component:xF},{id:Ce(),title:"Inserting records",component:vF},{id:Ce(),title:"Updating records",component:kF},{id:Ce(),title:"Deleting records",component:yF},{id:Ce(),title:"Live selecting",component:SF,excludeLanguages:["php"]}]},{id:Ce(),title:"Concepts",icon:Rc,excludeLanguages:["go","java","c"],topics:[{id:Ce(),title:"Full-text search",component:rF},{id:Ce(),title:"SurrealML",component:oF}]},{id:Ce(),title:"Learn more",icon:Go,excludeLanguages:["go","java","c"],topics:[{id:Ce(),title:"Documentation",link:"https://surrealdb.com/docs/surrealdb/"},{id:Ce(),title:"SurrealQL",link:"https://surrealdb.com/docs/surrealdb/surrealql/"},{id:Ce(),title:"Integration",link:"https://surrealdb.com/docs/surrealdb/integration/"}]}]}function md(e){return e.topics!==void 0}function ww(e){return e.link!==void 0}function CF(e){return e.component!==void 0}function Sw(e){return e.children!==void 0}function jw({style:e,...t}){return i.jsx(G,{style:{height:14,background:"linear-gradient(180deg, var(--mantine-color-body) 0%, transparent 100%",zIndex:1,...e},...t})}function _F({docs:e,language:t,scrollRef:n,onLanguageChange:s,onChangeActiveTopic:r}){const o=Qe(),a=v.useMemo(()=>{const d=[],h=p=>{const f=[];for(const g of p)if(!(g.excludeLanguages?.includes(t)||ww(g))){if(md(g)){const m=h(g.topics);m.length>0&&f.push(g,...m);continue}if(Sw(g)){f.push(...h(g.children));continue}f.push(g)}return f};return d.push(...h(e)),d},[e,t]),c=L(d=>{const h=n.current?.querySelectorAll("[data-topic]");let p=null;for(const g of h){if(g.offsetTop-100>d.y)break;p=g}const f=p?.dataset?.topic;f&&r(f)}),l=v.useMemo(()=>Lc.map(d=>({label:d.name,value:d.id,icon:d.icon})),[]);Pe("docs-switch-language",({lang:d})=>{s(d)});const u=o?"1px solid var(--mantine-color-slate-1)":"1px solid var(--mantine-color-slate-7)";return i.jsxs(Dn,{icon:Pb,title:"Documentation",withTopPadding:!1,rightSection:i.jsx(yt,{data:l,value:t,onChange:s,renderOption:({option:d,checked:h})=>{const p=d.icon;return i.jsxs(i.Fragment,{children:[i.jsx(p,{height:12}),d.label,i.jsx(je,{}),h&&i.jsx(E,{path:tn})]})}}),children:[i.jsx(jw,{}),i.jsx(Fe,{viewportRef:n,onScrollPositionChange:c,viewportProps:{style:{paddingBottom:"50vh"}},style:{position:"absolute",inset:12,top:0,right:0,bottom:0,paddingRight:12},children:a.map((d,h)=>{const p=d.component;return md(d)?i.jsxs(G,{mx:"xl",pt:48,pb:10,"data-topic":d.id,children:[i.jsxs(U,{c:"bright",my:"xl",children:[i.jsx(E,{path:d.icon,size:1.65}),i.jsx(xn,{order:1,fz:28,children:d.title})]}),p&&i.jsx(G,{maw:1500,children:i.jsx(p,{topic:d,language:t})})]},h):p&&i.jsx(G,{mx:"xl",py:42,"data-topic":d.id,style:{borderBottom:h<a.length-1?u:"none"},children:i.jsx(G,{maw:1500,children:i.jsx(p,{topic:d,language:t})})},h)})})]})}const NF="_topic_1y76z_1",Uh={topic:NF};function IF({active:e,entry:t,onOpen:n}){const s=L(()=>{n(t.id)});return i.jsx(Tt,{isActive:e===t.id,className:Uh.topic,onClick:s,radius:"xs",h:24,children:t.title})}function DF({active:e,entry:t,lang:n,onOpen:s}){const r=L(()=>{s(t.children[0].id)}),o=t.children.some(a=>a.id===e);return i.jsxs(i.Fragment,{children:[i.jsx(Tt,{isActive:e===t.id,className:Uh.topic,onClick:r,radius:"xs",h:24,children:t.title}),i.jsx(Mi,{in:o,children:i.jsx(B,{gap:"xs",ml:"lg",children:zh(t.children,e,n,s)})})]})}function RF({entry:e}){return i.jsxs(Tt,{h:24,className:Uh.topic,onClick:()=>fe.openUrl(e.link),radius:"xs",children:[e.title,i.jsx(E,{path:Vn,size:"sm",right:!0})]})}function AF({entry:e,active:t,lang:n,onOpen:s}){const[r,{toggle:o}]=Cn(!0);return i.jsxs(i.Fragment,{children:[i.jsxs(U,{mt:"lg",onClick:o,style:{cursor:"pointer"},children:[i.jsx(_,{c:"bright",fw:500,children:e.title}),i.jsx(je,{}),i.jsx(de,{size:"xs",variant:"subtle","aria-label":r?"Collapse section":"Expand section",children:i.jsx(E,{path:r?Mr:Mj,size:"sm"})})]}),i.jsx(Mi,{in:r,children:i.jsx(B,{gap:"xs",children:zh(e.topics,t,n,s)})})]})}function zh(e,t,n,s){return e.filter(r=>r?.excludeLanguages?.includes(n)!==!0).map(r=>{if(md(r))return i.jsx(AF,{active:t,entry:r,lang:n,onOpen:s},r.id);if(ww(r))return i.jsx(RF,{active:t,entry:r,lang:n,onOpen:s},r.id);if(CF(r))return i.jsx(IF,{active:t,entry:r,lang:n,onOpen:s},r.id);if(Sw(r))return i.jsx(DF,{active:t,entry:r,lang:n,onOpen:s},r.id)})}function PF({active:e,docs:t,scrollRef:n}){const[s]=ut("behavior","docsLanguage"),r=L(o=>{n.current?.querySelector(`[data-topic="${o}"]`)?.scrollIntoView()});return i.jsxs(Dn,{icon:Ui,title:"Topics",withTopPadding:!1,w:300,children:[i.jsx(jw,{}),i.jsx(Fe,{styles:{root:{position:"absolute",inset:12,top:0,right:0,bottom:0,paddingRight:12},scrollbar:{top:8}},children:i.jsx(B,{gap:"xs",my:"md",children:zh(t,e,s,r)})})]})}const $F=v.memo(_F),LF=v.memo(PF);function MF(){const[e,t]=ut("behavior","docsLanguage"),n=gn(c=>c.connectionSchema),s=v.useRef(null),[r,o]=v.useState(""),a=v.useMemo(()=>n?OF():[],[n]);return Fi("documentation",()=>{It()}),i.jsx(i.Fragment,{children:i.jsxs(U,{h:"100%",wrap:"nowrap",gap:"var(--surrealist-divider-size)",children:[i.jsx(LF,{active:r,docs:a,language:e,scrollRef:s}),i.jsx($F,{docs:a,language:e,scrollRef:s,onLanguageChange:t,onChangeActiveTopic:o})]})})}function fl({title:e,icon:t,header:n,snippet:s,children:r}){const o=Qe();return i.jsx(Xt,{h:"100%",flex:1,children:i.jsxs(De,{w:450,style:{overflow:"hidden"},shadow:"md",children:[n,i.jsxs(B,{p:"xl",gap:"xl",children:[i.jsxs(U,{children:[i.jsx(E,{path:t,size:1.35}),i.jsx(xn,{c:"bright",children:e})]}),r]}),s?.code&&i.jsxs(De,{p:"xl",bg:o?"white":"slate.7",radius:0,shadow:"none",style:{borderTop:o?"1px solid var(--mantine-color-slate-1)":void 0},children:[i.jsx(_,{c:"bright",fz:18,fw:600,mb:"md",children:s.title??"Example"}),i.jsx(Ho,{bg:"transparent",padding:0,value:s.code,language:s.language,withDedent:!0})]})]})})}function FF({opened:e,table:t,onClose:n}){const[s,r]=v.useState(""),[o,a]=Ee(""),[c,l]=Ee(""),[u,d]=Ee(""),[h,p]=v.useState(""),[f,g]=oS(c),[m,b]=v.useState([]),x=qi(),T=Uo().find(P=>P.schema.name===s),[w,j,N]=T?Ga(T):[!1,[],[]],I=L(async()=>{if(!f)return;const P=o?new Xa(s,o):new Hb(s);let q;if(w){const O=new xp(u),R=new xp(h),D={...g,in:O,out:R};q=await qt("RELATE $from->$id->$to CONTENT $content",{from:O,id:P,to:R,content:D})}else q=await qt("CREATE $id CONTENT $body",{id:P,body:g});const Q=q.flatMap(O=>O.success?[]:[O.result.replace("There was a problem with the database: ","")]);b(Q),Q.length===0&&(n(),Fb.dispatch(null))}),C=L(P=>{P.dispatch({selection:{anchor:6,head:6}})});v.useLayoutEffect(()=>{e&&(b([]),r(t),a(""),l(`{
    
}`),d(""),p(""))},[e,t]);const S=f&&(!w||u&&h),[y,k]=v.useState(650);return i.jsxs(Ar,{opened:e,onClose:n,position:"right",trapFocus:!1,size:y,styles:{body:{height:"100%",maxHeight:"100%",display:"flex",flexWrap:"nowrap",flexDirection:"column",gap:"var(--mantine-spacing-lg)"}},children:[i.jsx(Jm,{minSize:500,maxSize:1500,onResize:k}),i.jsxs(U,{gap:"sm",children:[i.jsxs(ve,{children:[i.jsx(E,{left:!0,path:Ie,size:"sm"}),"Record creator"]}),i.jsx(je,{}),!f&&i.jsx(Ft,{color:"red",variant:"light",children:"Invalid content"}),i.jsx(de,{onClick:n,"aria-label":"Close creator drawer",children:i.jsx(E,{path:en})})]}),i.jsxs(B,{flex:1,gap:"md",style:{flexShrink:1,flexBasis:0},children:[m.map((P,q)=>i.jsx(et,{icon:i.jsx(E,{path:Jt}),color:"red.5",style:{whiteSpace:"pre-wrap"},children:P},q)),i.jsxs(dt,{cols:2,children:[i.jsx(yt,{data:x,label:"Table",value:s,onChange:r}),i.jsx(le,{label:"Id",value:o,spellCheck:!1,onChange:a,placeholder:"Leave empty to generate"})]}),w&&i.jsxs(dt,{cols:2,children:[i.jsx(Zt,{value:u,onChange:d,placeholder:"table:id",label:i.jsxs(G,{children:[i.jsx(_,{children:"From record"}),j.length>0&&i.jsxs(_,{c:"slate",children:["Valid tables: ",j.join(", ")]})]})}),i.jsx(Zt,{value:h,onChange:p,placeholder:"table:id",label:i.jsxs(G,{children:[i.jsx(_,{children:"To record"}),N.length>0&&i.jsxs(_,{c:"slate",children:["Valid tables: ",N.join(", ")]})]})})]}),i.jsxs(G,{flex:1,pos:"relative",children:[i.jsx(Ht,{children:"Contents"}),i.jsx(Lr,{pos:"absolute",top:18,left:0,right:0,bottom:0,autoFocus:!0,lineNumbers:!0,value:c,onChange:l,extensions:[Xo(),qd()],onMount:C})]})]}),i.jsxs(X,{disabled:!S,variant:"gradient",onClick:I,style:{flexShrink:0},rightSection:i.jsx(E,{path:Ie}),children:["Create ",w?"relation":"record"]})]})}function qF(e){const t=qs();return An({queryKey:["explorer","records",e],placeholderData:ob,queryFn:async()=>{const{activeTable:n,currentPage:s,pageSize:r,sortMode:o,isFilterValid:a,filter:c}=e;try{if(!n||!a)throw new Error("Invalid query input");const l=r,u=(s-1)*r;let d=`SELECT * FROM ${it(n)}`;c&&(d+=` WHERE ${c}`),o&&(d+=` ORDER BY ${o[0]} ${o[1]}`),d+=` LIMIT ${l}`,u>0&&(d+=` START ${u}`);const h=await Fj(d)||[],g=(t.tables.find(m=>m.schema.name===n)?.fields||[]).filter(m=>!m.name.includes("[*]")&&!m.name.includes(".")).map(m=>Pd(m.name));return{records:h,headers:g}}catch{return{records:[],headers:[]}}}})}function QF(e){return An({queryKey:["explorer","pagination",e],queryFn:async()=>{const{activeTable:t,isFilterValid:n,filter:s}=e;if(!t||!n)return 0;try{let r=`SELECT count() AS count FROM ${it(t)}`;return s&&(r+=` WHERE ${s}`),r+=" GROUP ALL",(await cu(r))?.count||0}catch{return 0}}})}function VF({activeTable:e,onCreateRecord:t}){const{addQueryTab:n,updateCurrentConnection:s}=Se.getState(),{showContextMenu:r}=Qo(),o=Et(),a=aS(),[,c]=Fs(),[l,u]=v.useState(!1),[d,h]=Ee(""),[p,f]=v.useState(null),[g]=za(l,250),[m]=za(d,500),b=v.useMemo(()=>!g||!d||!qj(d),[g,d]),x=qF({activeTable:e,currentPage:a.currentPage,pageSize:a.pageSize,sortMode:p,isFilterValid:b,filter:g?m:""}),T=QF({activeTable:e,isFilterValid:b,filter:g?m:""}),w=x.data?.records||[],j=x.data?.headers||[],N=T.data||0,I=L(()=>{u(!l)}),C=L(()=>{t()}),S=L(()=>{s({explorerTableList:!0})}),y=L(()=>{x.refetch(),T.refetch()}),k=_n({title:"Delete record",message:q=>i.jsxs(G,{children:["Are you sure you want to delete this record?",i.jsx(cS,{mt:"sm",value:q,withOpen:!1})]}),onConfirm:async q=>{await qt(`DELETE ${eo(q)}`),y()}}),P=L((q,Q)=>{if(!(Q.id instanceof Xa))return;const O=(R,D)=>{c("query"),n({type:"config",query:`${D} ${eo(R)}`})};r([{key:"copy-id",title:"Copy record id",icon:i.jsx(E,{path:ui}),onClick:()=>{navigator.clipboard.writeText(eo(Q.id))}},{key:"copy-json",title:"Copy as JSON",icon:i.jsx(E,{path:_c}),onClick:()=>{navigator.clipboard.writeText(eo(Q,!0,!0))}},{key:"divider-1"},{key:"select",title:"Use in SELECT query",onClick:()=>O(Q.id,"SELECT * FROM")},{key:"select",title:"Use in UPDATE query",onClick:()=>O(Q.id,"UPDATE")},{key:"select",title:"Use in DELETE query",onClick:()=>O(Q.id,"DELETE")},{key:"divider-2"},{key:"delete",title:"Delete record",color:"pink.7",icon:i.jsx(E,{path:ts}),onClick:async()=>{Q.id instanceof Xa&&k(Q.id)}}])(q)});return v.useLayoutEffect(()=>{a.setTotal(N)},[a.setTotal,N]),Qd(Fb,y),i.jsxs(Dn,{title:"Record Explorer",icon:qn,leftSection:!o.explorerTableList&&i.jsx(xo,{label:"Reveal tables",mr:"sm",color:"slate",variant:"light",onClick:S,"aria-label":"Reveal tables",children:i.jsx(E,{path:bt})}),rightSection:e&&i.jsxs(U,{align:"center",children:[i.jsx(Me,{label:"New record",children:i.jsx(de,{onClick:C,"aria-label":"Create new record",children:i.jsx(E,{path:Ie})})}),i.jsx(Me,{label:"Refresh records",children:i.jsx(de,{onClick:y,"aria-label":"Refresh records",children:i.jsx(E,{path:Vc})})}),i.jsx(Me,{label:l?"Hide filter":"Filter records",children:i.jsx(de,{onClick:I,"aria-label":l?"Hide filter":"Show record filter",children:i.jsx(E,{path:dp})})}),i.jsx(Ne,{orientation:"vertical"}),i.jsx(E,{path:Vi,mr:-6}),i.jsx(_,{lineClamp:1,children:x.isLoading?"loading...":`${N||"no"} rows`})]}),children:[l&&i.jsx(le,{placeholder:"Enter filter clause...",leftSection:i.jsx(E,{path:dp}),value:d,spellCheck:!1,onChange:h,error:!b,autoFocus:!0,styles:()=>({input:{fontFamily:"JetBrains Mono",borderColor:`${b?void 0:yd("pink.9")} !important`}})}),x.isLoading?null:w.length>0?i.jsxs(Fe,{style:{position:"absolute",inset:12,top:l?40:0,bottom:54,transition:"top .1s"},children:[i.jsx(lS,{data:w,sorting:p,onSortingChange:f,onRowContextMenu:P,headers:j}),i.jsx(uS,{visible:x.isFetching})]}):i.jsx(Xt,{h:"90%",children:i.jsxs(G,{ta:"center",children:[i.jsx(_,{c:"slate",children:"This table has no records yet"}),i.jsx(X,{mt:"xl",variant:"gradient",color:"surreal.5",leftSection:i.jsx(E,{path:Ie}),onClick:C,children:"Create record"})]})}),i.jsx(U,{gap:"xs",justify:"center",style:{position:"absolute",insetInline:12,bottom:12},children:i.jsx(dS,{store:a,loading:x.isLoading})})]})}const UF=v.memo(hw),zF=v.memo(VF);function BF(){const{updateCurrentConnection:e}=Se.getState(),{openTableCreator:t}=Ye.getState(),{explorerTableList:n}=Et(),{design:s}=Jx(),[r,o]=v.useState(),[a,c]=Cn(),[l,u]=v.useState(),d=Rn(),h=ln(),p=L(w=>{u(w||r),c.open()}),f=L(w=>[{key:"open",title:"View records",icon:i.jsx(E,{path:qn}),onClick:()=>o(w)},{key:"new",title:"Create new record",icon:i.jsx(E,{path:Ie}),onClick:()=>p(w)},{key:"design",title:"Open designer",icon:i.jsx(E,{path:xr}),onClick:()=>s(w)}]),g=L(()=>{e({explorerTableList:!1})});Qd(Qj,()=>{c.close(),o(void 0)}),Pe("explore-table",({table:w})=>{o(w)}),Fi("explorer",()=>{It()});const[m,b]=Ed(275),x=d?.authentication?.protocol,T=x==="indxdb"||x==="mem";return i.jsxs(i.Fragment,{children:[i.jsx(G,{h:"100%",ref:b,children:i.jsxs(br,{direction:"horizontal",style:{opacity:m===0?0:1},children:[(n||!r)&&i.jsxs(i.Fragment,{children:[i.jsx(kn,{defaultSize:m,minSize:m,maxSize:35,id:"tables",order:1,children:i.jsx(UF,{icon:hp,activeTable:r,closeDisabled:!r,onTableSelect:o,onTableContextMenu:f,onClose:g,extraSection:i.jsxs(i.Fragment,{children:[i.jsx(Tt,{leftSection:i.jsx(E,{path:Yo}),rightSection:i.jsx(E,{path:bt}),onClick:()=>vt("export-database"),style:{flexShrink:0},disabled:T,bg:"transparent",children:"Export database"}),i.jsx(Tt,{leftSection:i.jsx(E,{path:ns}),rightSection:i.jsx(E,{path:bt}),onClick:()=>vt("import-database"),style:{flexShrink:0},bg:"transparent",children:"Import database"})]})})}),i.jsx(Ni,{})]}),i.jsx(kn,{id:"explorer",order:2,minSize:m,children:r?i.jsx(zF,{activeTable:r,onCreateRecord:p}):i.jsxs(fl,{title:"Explorer",icon:hp,snippet:{language:"surrealql",code:`
										-- Declare a new table
										DEFINE TABLE person;
										
										-- Fetch table records
										SELECT * FROM person;
									`},children:[i.jsx(_,{children:"The explorer view provides an easy way to browse your tables and records without writing any queries."}),i.jsxs(U,{children:[i.jsx(X,{flex:1,variant:"gradient",leftSection:i.jsx(E,{path:Ie}),disabled:!h,onClick:t,children:"Create table"}),i.jsx(X,{flex:1,color:"slate",variant:"light",rightSection:i.jsx(E,{path:Vn}),onClick:()=>fe.openUrl("https://surrealdb.com/docs/surrealdb/surrealql/statements/define/table"),children:"Learn more"})]})]})})]})}),i.jsx(FF,{opened:a,table:l||"",onClose:c.close})]})}const HF="_save-box_v9gik_1",jm={saveBox:HF};function GF({handle:e,details:t,error:n,isCreating:s,onChange:r,onDelete:o}){const a=Qe(),c=`fn::${t.name}()`,[l]=ut("appearance","functionLineNumbers"),[u,d]=v.useState(null),h=hS(u),[p]=Nc(Wx),[f,g]=v.useState(-1),m=L(()=>{g(t.args.length),r(N=>{N.args.push(["",""])})}),b=L(()=>{fe.saveFile("Save function",`${t.name}.surql`,[Vd],()=>qb(t))}),x=L(()=>{o(t.name)}),T=L(()=>{if(Qb(t.block)){Rt({title:"Failed to format",subtitle:"Your function must be valid to format it"});return}const I=Ud(t.block);r(C=>{C.block=I})}),w=L(()=>t.args.flatMap(([N])=>N)),j=a?"var(--mantine-color-slate-0)":"var(--mantine-color-slate-9)";return i.jsx(Dn,{title:"Function Editor",icon:_c,infoSection:s&&i.jsx(Ft,{ml:"xs",variant:"light",children:"Creating"}),rightSection:i.jsx(Me,{label:"Format function",children:i.jsx(de,{onClick:T,"aria-label":"Format function",children:i.jsx(E,{path:Ld})})}),children:i.jsxs(U,{h:"100%",align:"stretch",gap:"md",children:[i.jsxs(B,{flex:1,gap:0,children:[n&&i.jsx(et,{icon:i.jsx(E,{path:Jt}),color:"red.5",mb:"xl",style:{whiteSpace:"pre-wrap"},children:n}),i.jsx(G,{flex:1,pos:"relative",children:i.jsx(Lr,{inset:0,pos:"absolute",value:t.block,autoFocus:!0,lineNumbers:l,onMount:d,onChange:N=>r(I=>{I.block=N}),extensions:[Xo(),h,qd(),pS(w),fS(),gS()]})})]}),i.jsx(Ne,{orientation:"vertical"}),i.jsxs(on,{w:300,h:"100%",direction:"column",children:[i.jsxs(G,{children:[i.jsx(De,{bg:a?"slate.0":"slate.9",children:i.jsxs(on,{align:"center",children:[i.jsx(Fe,{scrollbars:"x",type:"scroll",p:"lg",children:i.jsxs(on,{children:[i.jsx(_,{fz:15,c:"surreal",ff:"mono",children:"fn::"}),i.jsxs(_,{fz:15,c:"bright",ff:"mono",children:[t.name,"()"]})]})}),i.jsx(je,{}),i.jsx(vd,{value:c,children:({copied:N,copy:I})=>i.jsx(de,{variant:N?"gradient":void 0,"aria-label":"Copy function name",onClick:I,mr:"lg",children:i.jsx(E,{path:N?tn:ui})})})]})}),i.jsxs(dt,{cols:2,mt:"md",children:[i.jsx(X,{size:"xs",radius:"xs",color:"slate",variant:"light",rightSection:i.jsx(E,{path:ns}),onClick:b,children:"Download"}),i.jsx(X,{size:"xs",radius:"xs",color:"pink.8",rightSection:i.jsx(E,{path:ts}),onClick:x,children:"Remove"})]})]}),i.jsx(Fe,{flex:1,mt:"lg",type:"scroll",className:jm.metadataScroll,children:i.jsxs(B,{w:300,h:"100%",gap:"xl",children:[i.jsxs(G,{children:[i.jsx(Ht,{children:"Arguments"}),i.jsxs(B,{gap:"xs",mt:"xs",children:[t.args.map(([N,I],C)=>i.jsxs(U,{gap:"xs",children:[i.jsx(le,{flex:1,variant:"unstyled",value:N,spellCheck:!1,autoFocus:C===f,leftSection:"$",placeholder:"name",onChange:S=>r(y=>{y.args[C][0]=S.target.value}),styles:{input:{backgroundColor:j,fontFamily:"var(--mantine-font-family-monospace)",paddingLeft:24,paddingRight:12}}}),i.jsx(iu,{value:I,flex:1,variant:"unstyled",placeholder:"type",onChange:S=>r(y=>{y.args[C][1]=S.toLowerCase()}),styles:{input:{backgroundColor:j,paddingInline:12}}}),i.jsx(de,{variant:"transparent","aria-label":"Remove function argument",onClick:()=>r(S=>{S.args.splice(C,1)}),children:i.jsx(E,{path:ts})})]},C)),i.jsx(X,{mt:2,size:"xs",color:a?"black":"white",variant:"subtle",leftSection:i.jsx(E,{path:Ie}),onClick:m,styles:{label:{flex:1}},children:"Add function argument"})]})]}),i.jsx(iu,{label:"Return type",placeholder:"type",disabled:!p,value:t.returns,onChange:N=>r(I=>{I.returns=N}),styles:{input:{color:a?"#8d6bff":"#a79fff"}}}),i.jsx(_s,{label:"Permission",value:t.permissions,onChange:N=>r(I=>{I.permissions=N})}),i.jsx(Mo,{rows:5,label:"Comment",description:"Optional description for this function",placeholder:"Enter comment...",value:t.comment,onChange:N=>r(I=>{I.comment=N.target.value})})]})}),i.jsx(G,{mt:"sm",children:s?i.jsx(X,{variant:"gradient",rightSection:i.jsx(E,{path:Ie}),onClick:e.save,style:{flexShrink:0},children:"Create function"}):i.jsx(jd,{handle:e,inline:!0,inlineProps:{className:jm.saveBox}})})]})]})})}const YF="_scroller_vojzo_1",XF={scroller:YF};function WF({active:e,functions:t,onSelect:n,onDelete:s,onDuplicate:r,onCreate:o}){const a=Qe(),c=ln(),{showContextMenu:l}=Qo(),[u,d]=Ee(""),h=v.useMemo(()=>{const p=u.toLowerCase();return t.filter(f=>f.name.toLowerCase().includes(p))},[t,u]);return i.jsx(Dn,{title:"Functions",icon:or,style:{flexShrink:0},infoSection:i.jsx(Ft,{color:a?"slate.0":"slate.9",radius:"sm",c:"inherit",children:t.length}),rightSection:i.jsx(Me,{label:"New function",children:i.jsx(de,{onClick:o,"aria-label":"Create new function",disabled:!c,children:i.jsx(E,{path:Ie})})}),children:i.jsx(Fe,{pos:"absolute",top:0,left:12,right:12,bottom:12,classNames:{viewport:XF.scroller},children:i.jsxs(B,{gap:"xs",pb:"md",children:[t.length>0?i.jsx(le,{placeholder:"Search functions...",leftSection:i.jsx(E,{path:Ss}),value:u,spellCheck:!1,onChange:d,variant:"unstyled",autoFocus:!0}):i.jsx(_,{c:"slate",ta:"center",mt:"lg",children:"No functions found"}),u&&h.length===0&&i.jsx(_,{c:"slate",ta:"center",mt:"lg",children:"No functions matched"}),h.map((p,f)=>i.jsx(Tt,{isActive:p.name===e,onClick:()=>n(p.name),leftSection:i.jsx(E,{path:or}),onContextMenu:l([{key:"open",title:"Edit function",icon:i.jsx(E,{path:or}),onClick:()=>n(p.name)},{key:"duplicate",title:"Duplicate function",icon:i.jsx(E,{path:ui}),onClick:()=>r(p)},{key:"remove",title:"Remove function",color:"pink.7",icon:i.jsx(E,{path:ts}),onClick:()=>s(p.name)}]),children:i.jsx(_,{style:{textOverflow:"ellipsis",overflow:"hidden"},children:p.name})},f))]})})})}const ZF=v.memo(WF),JF=v.memo(GF);function KF(){const e=ln(),t=v.useRef(null),{functions:n}=qs(),[s,r]=rs(null),[o,a]=Cn(),[c,l]=Cn(),[u,d]=v.useState(""),[h,p]=v.useState(""),f=Td({valid:!!s&&s.args.every(([I,C])=>I&&C),track:{details:s},onSave:async()=>{if(!s)return;const I=qb(s);try{const C=await qt(I),S=C[0].success?"":C[0].result.replace("There was a problem with the database: ","");if(p(S),S)return!1;It(),a.close()}catch(C){Rt({title:"Failed to apply schema",subtitle:C.message})}},onRevert({details:I}){r(I),p("")}}),g=L(I=>{const C=I.target.value.replaceAll(/\s/g,"_").replaceAll(/[^\w:]/g,"");d(C)}),m=L(()=>{l.open(),t.current=null,d("")}),b=L(I=>{a.close();const C=n.find(k=>k.name===I)||null;if(!C){Rt({title:"Function not found",subtitle:"The selected function was not found"});return}const y=Qb(C.block)?C.block:Ud(C.block);r({...C,block:y}),f.track()}),x=L(async()=>{const I=t.current;l.close(),a.open(),r({...I||{args:[],comment:"",block:"",permissions:!0,returns:""},name:u}),t.current=null,f.track()}),T=L(I=>{l.open(),t.current=I,d(I.name)}),w=_n({message:"You are about to remove this function. This action cannot be undone.",confirmText:"Remove",onConfirm:async I=>{await qt(`REMOVE FUNCTION fn::${I}`),await It(),r(null),f.track()}});Fi("functions",()=>{It()});const[j,N]=Ed(275);return i.jsxs(i.Fragment,{children:[i.jsx(G,{h:"100%",ref:N,children:i.jsxs(br,{direction:"horizontal",style:{opacity:j===0?0:1},children:[i.jsx(kn,{defaultSize:j,minSize:j,maxSize:35,children:i.jsx(ZF,{active:s?.name||"",functions:n,onCreate:m,onDelete:w,onDuplicate:T,onSelect:b})}),i.jsx(Ni,{}),i.jsx(kn,{minSize:j,children:s?i.jsx(JF,{handle:f,details:s,error:h,isCreating:o,onChange:r,onDelete:w}):i.jsxs(fl,{title:"Functions",icon:or,snippet:{language:"surrealql",code:`
										-- Define your functions with ease
										DEFINE FUNCTION fn::greet($name: string) {
											RETURN "Hello, " + $name + "!";
										};

										-- And invoke them from any query
										RETURN fn::greet("Tobie");
									`},children:[i.jsx(_,{children:"Schema functions allow you to define stored procedures that can be reused throughout your queries. This view allows you to effortlessly create and manage your functions."}),i.jsxs(U,{children:[i.jsx(X,{flex:1,variant:"gradient",leftSection:i.jsx(E,{path:Ie}),disabled:!e,onClick:m,children:"Create function"}),i.jsx(X,{flex:1,color:"slate",variant:"light",rightSection:i.jsx(E,{path:Vn}),onClick:()=>fe.openUrl("https://surrealdb.com/docs/surrealdb/surrealql/statements/define/function"),children:"Learn more"})]})]})})]})}),i.jsx(Je,{opened:c,onClose:l.close,title:i.jsx(ve,{children:"Create new function"}),children:i.jsx(Kt,{onSubmit:x,children:i.jsxs(B,{children:[i.jsx(le,{placeholder:"function_name",value:u,spellCheck:!1,onChange:g,size:"lg",autoFocus:!0,leftSection:i.jsx(_,{ff:"mono",fz:"xl",c:"surreal",style:{transform:"translate(4px, 1px)"},children:"fn::"}),styles:{input:{fontFamily:"var(--mantine-font-family-monospace)"}}}),i.jsxs(U,{mt:"lg",children:[i.jsx(X,{onClick:l.close,color:"slate",variant:"light",flex:1,children:"Close"}),i.jsx(X,{type:"submit",variant:"gradient",flex:1,disabled:!u,rightSection:i.jsx(E,{path:bt}),children:"Continue"})]})]})})})]})}function eq(){const[e,t]=v.useState(null),n=L(async()=>{try{const s=iO(),r=await Vj(s,{});if(!r.success){console.warn("Failed to introspect GraphQL schema",r.result),t(null);return}const o=JSON.parse(r.result),a=rO(o.data);t(a)}catch(s){console.warn("Failed to introspect GraphQL schema",s),t(null)}});return[e,n]}const tq="_root_ov2j8_1",nq={root:tq};function sq({showVariables:e,isValid:t,isEnabled:n,editor:s,schema:r,setIsValid:o,setShowVariables:a,onIntrospectSchema:c,onEditorMount:l}){const{updateCurrentConnection:u}=Se.getState(),d=Et(),h=L(x=>{try{oo(x),o(!0),u({graphqlQuery:x})}catch{o(!1)}}),p=ab(h,50),f=L(async()=>{await c(),Ls({title:"GraphQL",subtitle:"Schema successfully updated"})}),g=L(()=>{try{h(Mt(oo(d.graphqlQuery)))}catch{Rt({title:"Failed to format",subtitle:"Your query must be valid to format it"})}}),m=L(()=>{a(!e)}),b=L(()=>{try{const T=oo(d.graphqlQuery).definitions.reduce((S,y)=>{if(y.kind==="OperationDefinition"){const k=y.variableDefinitions?.map(P=>P.variable.name.value)??[];return S.push(...k),S}return S},[]),w=Uj(d.graphqlQuery),j=Object.keys(w),I=T.filter(S=>!j.includes(S)).reduce((S,y)=>(S[y]="",S),{}),C={...w,...I};a(!0),u({graphqlVariables:eo(C,!1,!0)})}catch{Rt({title:"Failed to infer variables",subtitle:"Your query must be valid to infer variables"})}});return v.useEffect(()=>{r&&s&&ZO(s,r)},[r,s]),Pe("format-graphql-query",g),Pe("infer-graphql-variables",b),i.jsx(Dn,{title:"GraphQL",icon:uu,className:nq.root,rightSection:i.jsxs(U,{gap:"sm",children:[!t&&i.jsx(Ft,{color:"red",variant:"light",children:"Invalid query"}),i.jsx(Me,{label:"Refetch schema",children:i.jsx(de,{onClick:f,variant:"light","aria-label":"Refetch schema",children:i.jsx(E,{path:Vc})})}),i.jsx(Me,{label:"Format query",children:i.jsx(de,{onClick:g,variant:"light","aria-label":"Format query",children:i.jsx(E,{path:Ld})})}),i.jsx(Me,{maw:175,multiline:!0,label:i.jsxs(B,{gap:4,children:[i.jsx(_,{children:"Infer variables from query"}),i.jsx(_,{c:"dimmed",size:"sm",children:"Automatically add missing variables."})]}),children:i.jsx(de,{onClick:b,variant:"light","aria-label":"Infer variables from query",children:i.jsx(E,{path:Mb})})}),i.jsx(Me,{label:e?"Hide variables":"Show variables",children:i.jsx(de,{onClick:m,variant:"light","aria-label":e?"Hide variables":"Show variables",children:i.jsx(E,{path:Vb})})})]}),children:n?i.jsx(Lr,{value:d.graphqlQuery,onChange:p,onMount:l,lineNumbers:!0,extensions:[uC(void 0,{onFillAllFields:zj}),Bj(),FT.high(qT.of([...Hj,...Gj]))]}):i.jsx(et,{color:"red.3",icon:i.jsx(E,{path:uu}),title:"GraphQL is not enabled on this remote instance",children:i.jsxs(B,{children:["Visit the SurrealDB documentation to learn how to enable GraphQL on your instance",i.jsx(Pt,{href:"https://surrealdb.com/docs/surrealdb/querying/graphql/surrealist",children:i.jsx(X,{color:"slate",variant:"light",rightSection:i.jsx(E,{path:Vn}),radius:"sm",size:"xs",children:"Learn more"})})]})})})}function iq(){const e=Et(),t=gn(n=>n.graphqlResponse[e.id]);return i.jsx(Dn,{title:"Results",icon:yr,children:t?.success?i.jsx(Lr,{ml:"sm",value:t.result||"",readOnly:!0,extensions:[Xo()]}):t?i.jsx(_,{c:"red",children:JSON.stringify(t.result)}):i.jsx(Xt,{h:"100%",c:"slate",children:i.jsxs(B,{children:[i.jsx(E,{path:yr,mx:"auto",size:"lg"}),"Execute a GraphQL query to view the results here"]})})})}function rq(e){const{updateCurrentConnection:t}=Se.getState(),n=Et(),s=ab(r=>{try{const o=r||"",a=OT(CT.from_string(o).to_cbor().buffer);if(typeof a!="object"||Array.isArray(a))throw new TypeError("Must be object");t({graphqlVariables:r}),e.setIsValid(!0)}catch{e.setIsValid(!1)}},50);return i.jsx(Dn,{title:"Variables",icon:Vb,rightSection:i.jsxs(U,{gap:"xs",children:[!e.isValid&&i.jsx(Ft,{color:"red",variant:"light",children:"Invalid syntax"}),i.jsx(de,{color:"slate",onClick:e.closeVariables,"aria-label":"Close variables panel",children:i.jsx(E,{path:en})})]}),children:i.jsx(Lr,{value:n.graphqlVariables||"",onChange:s,lineNumbers:!0,extensions:[Xo(),qd()]})})}const oq="_send-circle_1j23a_1",aq="_send-button_1j23a_6",cq="_send-button-valid_1j23a_14",Hl={sendCircle:oq,sendButton:aq,sendButtonValid:cq},lq=v.memo(sq),uq=v.memo(rq),dq=v.memo(iq);function hq(){const{updateCurrentConnection:e}=Se.getState(),t=gn(I=>I.isGraphqlQueryActive),[n,s]=v.useState(!1),[r,o]=v.useState(!0),[a,c]=v.useState(!0),[l,u]=v.useState(null),d=Qe(),h=ln(),p=Et(),[f,g]=eq(),m=Yj.has(p.authentication.protocol),b=p.id==="sandbox",x=p.graphqlShowVariables,T=L(()=>{l&&Xj()}),w=L(I=>{e({graphqlShowVariables:I})}),j=L(()=>{w(!1)}),N=a&&r&&n;return Fi("graphql",()=>{m&&h?Wj().then(I=>{s(I),I&&g()}):s(!0)},[p.id,h]),Pe("run-graphql-query",()=>{}),Pe("toggle-graphql-variables",()=>w(!x)),m?i.jsx(B,{gap:"md",h:"100%",children:i.jsxs(br,{direction:"horizontal",children:[i.jsx(kn,{minSize:15,children:i.jsxs(br,{direction:"vertical",children:[i.jsx(kn,{minSize:35,children:i.jsx(lq,{setIsValid:c,isEnabled:n,isValid:a,editor:l,schema:f,showVariables:x,setShowVariables:w,onIntrospectSchema:g,onEditorMount:u})}),x&&i.jsxs(i.Fragment,{children:[i.jsx(Ni,{}),i.jsx(kn,{defaultSize:40,minSize:35,children:i.jsx(uq,{isValid:r,setIsValid:o,closeVariables:j})})]})]})}),i.jsx(Ni,{children:i.jsx(Xt,{pos:"relative",h:"100%",children:i.jsx(De,{className:Hl.sendCircle,bg:d?"slate.0":"slate.9",pos:"absolute",radius:100,p:"xs",children:i.jsx(de,{variant:N?"gradient":void 0,size:"xl",radius:100,onClick:T,loading:t,disabled:!N,className:cn(Hl.sendButton,N&&Hl.sendButtonValid),children:i.jsx(E,{path:Dd,size:"lg"})})})})}),i.jsx(kn,{minSize:15,children:i.jsx(dq,{})})]})}):i.jsxs(fl,{title:"GraphQL",icon:uu,children:[i.jsx(_,{children:"The GraphQL view provides a fully interactive environment for executing GraphQL queries against your database."}),i.jsxs(U,{gap:"sm",c:"pink",children:[i.jsx(E,{path:Jt}),i.jsxs(_,{children:["GraphQL is not supported"," ",b?"in the sandbox":"by your current connection"]})]}),i.jsx(X,{color:"slate",variant:"light",rightSection:i.jsx(E,{path:Vn}),onClick:()=>fe.openUrl("https://surrealdb.com/docs/surrealist"),children:"Learn more"})]})}const pq="_save-box_v9gik_1",fq={saveBox:pq};function gq({handle:e,details:t,onChange:n}){const s=`ml::${t.name}()`;return i.jsx(Dn,{title:"Function Editor",icon:or,children:i.jsxs(U,{h:"100%",align:"stretch",gap:"xl",children:[i.jsxs(B,{gap:"lg",mt:"xs",w:400,style:{flexShrink:0},children:[i.jsxs(De,{style:{alignItems:"center"},display:"flex",p:"lg",children:[i.jsx(_,{fz:15,c:"surreal",ff:"mono",children:"ml::"}),i.jsxs(_,{fz:15,c:"bright",ff:"mono",children:[t.name,"()"]}),i.jsx(je,{}),i.jsx(vd,{value:s,children:({copied:r,copy:o})=>i.jsx(de,{variant:r?"gradient":void 0,"aria-label":"Copy function name",onClick:o,children:i.jsx(E,{path:r?tn:ui})})})]}),i.jsx(Ne,{}),i.jsx(_s,{label:"Permission",value:t.permission,onChange:r=>n(o=>{o.permission=r})}),i.jsx(Mo,{rows:5,label:"Comment",description:"Optional description for this function",placeholder:"Enter comment...",value:t.comment,onChange:r=>n(o=>{o.comment=r.target.value})}),i.jsx(je,{}),i.jsx(jd,{handle:e,inline:!0,inlineProps:{className:fq.saveBox}})]}),i.jsx(Ne,{orientation:"vertical"}),i.jsx(Xt,{flex:1,children:i.jsx(_,{c:"slate",children:"TODO"})})]})})}const mq="_scroller_vojzo_1",bq={scroller:mq};function xq({active:e,models:t,onSelect:n,onDownload:s,onUpload:r}){const o=Qe(),a=ln(),{showContextMenu:c}=Qo(),[l,u]=Ee("");return i.jsx(Dn,{title:"Models",icon:du,w:275,style:{flexShrink:0},infoSection:t.length>0&&i.jsx(Ft,{color:o?"slate.0":"slate.9",radius:"sm",c:"inherit",children:t.length}),rightSection:i.jsx(U,{children:i.jsx(Me,{label:"Upload SurrealML Model",children:i.jsx(de,{onClick:r,"aria-label":"Upload SurrealML model",disabled:!a,children:i.jsx(E,{path:Yo})})})}),children:i.jsx(Fe,{pos:"absolute",top:0,left:12,right:12,bottom:12,classNames:{viewport:bq.scroller},children:i.jsxs(B,{gap:"xs",pb:"md",children:[t.length>0?i.jsx(le,{placeholder:"Search models...",leftSection:i.jsx(E,{path:Ss}),value:l,spellCheck:!1,onChange:u,variant:"unstyled",autoFocus:!0}):i.jsx(_,{c:"slate",ta:"center",mt:"lg",children:"No models found"}),t.map((d,h)=>i.jsx(Tt,{leftSection:i.jsx(E,{path:du}),onContextMenu:c([{key:"download",title:"Download model",icon:i.jsx(E,{path:ns}),onClick:()=>s(d)}]),children:i.jsxs(B,{gap:0,align:"start",children:[i.jsx(_,{style:{textOverflow:"ellipsis",overflow:"hidden"},children:d.name}),i.jsx(_,{opacity:.6,size:"sm",children:d.version})]})},h))]})})})}const Tm=[{name:"SurrealML Model",extensions:["surml","surrealml"]}];function yq(){const e=qs()?.models??[],t=Et(),n=ln(),{id:s,lastNamespace:r,lastDatabase:o,authentication:a}=t,[c,l]=rs(null),u=Zj.has(a.protocol),d=s==="sandbox",h=Td({track:{details:c},onSave(b){},onRevert({details:b}){l(b)}}),p=L(b=>{}),f=L(async()=>{const b=await fe.openBinaryFile("Select a SurrealML model",Tm,!0),{endpoint:x,headers:T}=pp(t,"/ml/import",{Accept:"application/json"});for(const w of b)await fetch(x,{method:"POST",headers:T,body:w.content});It(),oi.capture("model_import")}),g=L(async b=>{const[,x,T]=/^(\w+)<(.+)>$/.exec(b.name)||[],{endpoint:w,headers:j}=pp(t,`/ml/export/${x}/${T}`);await fe.saveFile("Save SurrealML model",`${x}-${T}.surml`,Tm,()=>fetch(w,{method:"GET",headers:j}).then(N=>N.blob()))}),m=v.useMemo(()=>({title:"Using Python",language:"python",code:`
			# Upload your model directly to SurrealDB
			SurMlFile.upload(
				path="./model.surml",
				url="${Uc(a,"ml/import")}",
				chunk_size=36864,
				namespace="${r}",
				database="${o}",
				username="...",
				password="..."
			)							
		`}),[a,o,r]);return Fi("models",()=>{It()}),i.jsxs(U,{h:"100%",wrap:"nowrap",gap:"var(--surrealist-divider-size)",children:[u&&i.jsx(xq,{active:c?.name||"",models:e,onSelect:p,onDownload:g,onUpload:f}),c?i.jsx(B,{h:"100%",flex:1,gap:"var(--surrealist-divider-size)",children:i.jsx(gq,{handle:h,details:c,onChange:l})}):i.jsxs(fl,{title:"Models",icon:du,snippet:u?m:void 0,children:[i.jsx(_,{children:"Upload your SurrealML models directly to SurrealDB and use the power of Machine Learning within your queries."}),!u&&i.jsxs(U,{gap:"sm",c:"pink",children:[i.jsx(E,{path:Jt}),i.jsxs(_,{children:["SurrealML is not supported"," ",d?"in the sandbox":"by your current connection"]})]}),i.jsxs(U,{children:[u&&i.jsx(X,{flex:1,variant:"gradient",leftSection:i.jsx(E,{path:Yo}),disabled:!n,onClick:f,children:"Upload model"}),i.jsx(X,{flex:1,color:"slate",variant:"light",rightSection:i.jsx(E,{path:Vn}),onClick:()=>fe.openUrl("https://surrealdb.com/docs/surrealml"),children:"Learn more"})]})]})]})}const Em=v.memo(_N),Bs={attributes:{style:"height: 100%; display: flex; flex-direction: column;"}},km={query:Bt(Bs),explorer:Bt(Bs),graphql:Bt(Bs),designer:Bt(Bs),authentication:Bt(Bs),functions:Bt(Bs),models:Bt(Bs),documentation:Bt(Bs)},vq={query:mS,explorer:BF,graphql:hq,designer:JM,authentication:KN,functions:KF,models:yq,documentation:MF};function wq(){const{setOverlaySidebar:e}=Ye.getState(),t=Qe(),n=Kc(),s=ta(),[r]=Oc("/cloud"),o=Rn(),a=Ye(m=>m.overlaySidebar),c=Ye(m=>m.title),[l]=Fs(),[u]=ut("appearance","sidebarMode"),d=fe.platform==="darwin"&&Fr,h=L(()=>{e(!1)}),p=!o?.lastDatabase&&l?.require==="database",f=25+(u==="wide"?190:49),g=d?15:0;return i.jsxs(G,{className:gs.root,bg:t?"slate.0":"slate.9",__vars:{"--sidebar-offset":`${f}px`,"--titlebar-offset":`${g}px`},children:[i.jsxs(on,{direction:"column",flex:1,pos:"relative",children:[i.jsx(Em,{sidebarMode:u,visibleFrom:"md"}),i.jsxs(G,{className:gs.wrapper,children:[d&&i.jsx(on,{"data-tauri-drag-region":!0,className:gs.titlebar,justify:"center",align:"center",children:c}),i.jsxs(B,{flex:1,pos:"relative",gap:"lg",children:[i.jsx(U,{gap:"md",pos:"absolute",left:0,right:0,top:0,align:"center",wrap:"nowrap",className:gs.toolbar,children:n?i.jsx(hN,{showBreadcrumb:!r}):i.jsx(UN,{})}),i.jsxs(eb,{children:[i.jsx(gi,{path:"/"}),i.jsx(gi,{path:"/start",children:i.jsx(QN,{})}),o&&Object.values(au).map(m=>i.jsx(gi,{path:`/${m.id}`,children:p?i.jsx(Sq,{info:m},m.id):i.jsx(B,{className:gs.inner,flex:1,gap:0,children:i.jsx(tb,{node:km[m.id]})})},m.id)),s&&i.jsx(gi,{path:"/cloud/*?",children:i.jsx(B,{className:gs.inner,flex:1,gap:0,children:i.jsx(oN,{})})}),i.jsx(gi,{children:i.jsx(nb,{to:"/start"})})]})]})]})]}),o&&Object.values(au).map(m=>{const b=vq[m.id];return i.jsx(sb,{node:km[m.id],children:i.jsx(v.Suspense,{fallback:null,children:i.jsx(b,{})})},m.id)}),i.jsx(Ar,{opened:a,onClose:h,size:215,children:i.jsx(Em,{sidebarMode:"fill"})})]})}function Sq({info:e}){const t=ln();return i.jsx(Xt,{flex:1,children:i.jsxs(De,{radius:"md",p:"xl",w:500,children:[i.jsx(ve,{children:"Before you continue..."}),i.jsxs(_,{mt:"md",children:["Please select a namespace and database before accessing the ",e?.name," view. You can use the buttons below to choose an existing namespace and database, or create new ones."]}),i.jsx(Ty,{withNamespace:!0,withDatabase:!0,mt:"xl"}),!t&&i.jsx(et,{mt:"xl",color:"orange",icon:i.jsx(E,{path:Jt}),children:"You must be connected before selecting a namespace and database"})]})})}function jq(){const e=Rn(),t=Kc(),[n,s]=Fs();v.useEffect(()=>{const r=Jj(),o=e?.id!==r?.id;e?.id&&!t&&o&&Fc(),n?.disabled?.(Ic.store)&&s("query")},[t,n,e,e?.id])}function Tq(){v.useEffect(()=>{const e=n=>{fp(n)&&document.body.classList.add("mod")},t=n=>{fp(n)&&document.body.classList.remove("mod")};return document.body.addEventListener("blur",e),document.body.addEventListener("keydown",e),document.body.addEventListener("keyup",t),()=>{document.body.removeEventListener("blur",e),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keyup",t)}},[])}function Eq(){const e=kd(),t=cb(),n=Array.from(e.entries()).map(([s,r])=>[kN(r),()=>t(s)]);X0(n,[],!0)}function kq(){Pe("open-help",yy)}function Oq(){const{setActiveResource:e}=Se.getState(),[t,n]=$r(),{intent:s,referrer:r}=bS(),o=Se(a=>a.activeResource);v.useLayoutEffect(()=>{t!=="/"&&oi.capture("$pageview",{$current_url:t})},[t]),v.useLayoutEffect(()=>{t==="/"?n(!o||o==="/"?"/query":o):e(t)},[t,o,e]),v.useLayoutEffect(()=>{s&&Kj(s)},[s]),v.useLayoutEffect(()=>{r&&sessionStorage.setItem(Kl,r)},[r])}const Om="Surrealist";function Cq(){const e=Rn(),t=Kc(),[n]=Fs(),[s]=ut("behavior","windowPinned");v.useLayoutEffect(()=>{const r=[];t?r.push(`Surreal Cloud - ${Om}`):(e?.name&&r.push(`${e.name} -`),r.push(`${Om} ${n?.name||""}`)),s&&r.push("(Pinned)");const o=r.join(" ");fe.setWindowTitle(o),Ye.getState().setWindowTitle(o)},[n,e?.name,s,t])}function _q(){const[,e]=Fs();Qd(eT,e)}function Nq(){const[e,t]=ut("appearance","windowScale"),[n,s]=ut("appearance","editorScale"),[r,o]=ut("behavior","windowPinned"),a=L(()=>{t(da(e+10,75,150))}),c=L(()=>{t(da(e-10,75,150))}),l=L(()=>{s(da(n+10,50,150))}),u=L(()=>{s(da(n-10,50,150))}),d=L(()=>{o(!r)});L(()=>{fe instanceof tT&&fe.openQueryFile()}),Pe("increase-window-scale",a),Pe("decrease-window-scale",c),Pe("increase-editor-scale",l),Pe("decrease-editor-scale",u),Pe("toggle-pinned",d)}function Iq(){Tq(),Eq(),Nq(),jq(),c_(),kq(),Cq(),_q(),Oq()}const Dq={title:"Surrealist 2.0",summary:"The new evolution of Surrealist is here",date:"2024/04/23"},Rq=`<ul>
<li>Complete interface redesign
<ul>
<li>New overall appearance inline with the SurrealDB aesthetic</li>
<li>Improved the general user experience of the app</li>
<li>Simplified the use of the sandbox</li>
<li>Replaced environments with connection templates</li>
<li>Added tooltips to all non-descriptive interactive elements</li>
<li>Improved view navigation with the new navigation sidebar</li>
</ul>
</li>
<li>New Functions view
<ul>
<li>Allows you to list, create, and update schema-based functions</li>
<li>Configure access permissions</li>
<li>Define function arguments</li>
<li>Full function body SurrealQL highlighting</li>
</ul>
</li>
<li>New ML Models view
<ul>
<li>Upload and list your SurrealML models</li>
</ul>
</li>
<li>New API Docs view
<ul>
<li>Personalised API documentation focused around your database</li>
<li>Code snippets for most languages supported by SurrealDB</li>
<li>Easy navigation using the table of contents</li>
</ul>
</li>
<li>Simplified sandbox
<ul>
<li>You no longer have to create sandbox connections manually</li>
<li>Built in support for loading official datasets</li>
<li>Sandboxes support all regular connection functionality</li>
<li>Quick sandbox reset button</li>
</ul>
</li>
<li>Introduced a command palette
<ul>
<li>Navigate and trigger any action with just your keyboard</li>
<li>Displays command keyboard shortcuts where available</li>
<li>Lists out latest 3 searches</li>
</ul>
</li>
<li>Saved query labeling
<ul>
<li>Organize your saved queries using one or more labels</li>
<li>Queries can be filtered on labels in the saved queries drawer</li>
</ul>
</li>
<li>Reworked live queries
<ul>
<li>Removed the Live view</li>
<li>Live queries can be sent directly from the Query view</li>
<li>Added a new “Live” result mode, which displays a live updating stream of messages</li>
<li>Live queries are automatically restarted when you re-run the query</li>
<li>You can mix live and non-live queries within the same request</li>
</ul>
</li>
<li>Improved query syntax highlighting
<ul>
<li>Now available in most places queries are displayed</li>
<li>Removed “Advanced editor” dialog from certain input fields, instead SurrealQL is now highlighted inline where applicable</li>
</ul>
</li>
<li>Help and support dialog
<ul>
<li>Provides an easy way to access the docs and submit an issue</li>
</ul>
</li>
<li>Integrated newsfeed
<ul>
<li>Accessible from the top right of the interface,</li>
<li>Provides an integrated newsfeed with useful updates about Surrealist and SurrealDB</li>
</ul>
</li>
<li>Connection templates
<ul>
<li>Replace the previous environment system</li>
<li>Can be applied when creating or updating a connection</li>
<li>Useful when working with multiple databases which share common connection details</li>
<li>A special convenient “Local database” template is made available when locally serving a database on Surrealist desktop</li>
</ul>
</li>
<li>Variable inference
<ul>
<li>Automatically analyses your query for variables and updates the variables panel</li>
<li>Will never remove existing variable definitions</li>
</ul>
</li>
<li>Sandbox dataset loading
<ul>
<li>Provides an easy way to experiment with SurrealQL by allowing you to load official datasets directly into your sandbox</li>
</ul>
</li>
<li>Query responses are now presented as SurrealQL values
<ul>
<li>You can use a new setting to toggle between JSON and SurrealQL mode</li>
</ul>
</li>
<li>Records can now be edited by pressing a record id in any data table</li>
<li>Designer view tables can now be manually moved and positioned</li>
<li>Re-added the ability to scale the interface in Surrealist Desktop</li>
<li>Query history is now tracked per connection</li>
<li>Switching between views now works more predictably</li>
</ul>
`,Aq=Object.freeze(Object.defineProperty({__proto__:null,attributes:Dq,html:Rq},Symbol.toStringTag,{value:"Module"})),Pq={title:"Surrealist 2.0.1",summary:"The new evolution of Surrealist is here",date:"2024/04/23"},$q=`<ul>
<li>Fixed sidebar not aligning with content</li>
<li>Fixed query list cutting off half way</li>
<li>Fixed functions view arguments crash</li>
</ul>
`,Lq=Object.freeze(Object.defineProperty({__proto__:null,attributes:Pq,html:$q},Symbol.toStringTag,{value:"Module"})),Mq={title:"Surrealist 2.0.2",summary:"Fixes for reported issues",date:"2024/04/24"},Fq=`<ul>
<li>Updated and improved the error screen</li>
<li>Updated .NET API docs</li>
<li>Added a placeholder overlay for mobile devices</li>
<li>Fixed further sidebar issues</li>
<li>Fixed ordering of releases in the changelog dialog</li>
<li>Fixed returning to start screen when removing a connection</li>
<li>Fixed syntax highlighting breaking on empty strings</li>
<li>Fixed authentication view sometimes not opening the user creator</li>
</ul>
`,qq=Object.freeze(Object.defineProperty({__proto__:null,attributes:Mq,html:Fq},Symbol.toStringTag,{value:"Module"})),Qq={title:"Surrealist 2.0.3",summary:"Fixes for reported issues",date:"2024/04/25"},Vq=`<ul>
<li>Added support for 64-bit number handling</li>
<li>Clear query responses when resetting the sandbox</li>
<li>Minor improvements to the API docs</li>
<li>Improved accessibility for icon buttons</li>
<li>Fixed relation tables unable to save</li>
<li>Fixed unintended error checking in query results</li>
<li>Fixed moving designer tables resulting in a crash</li>
<li>Fixed scope signup query issues</li>
<li>Fixed database exports not working when including records</li>
<li>Fixed backticks in table names breaking certain views</li>
<li>Fixed Surrealist not reconnecting after changing connection details</li>
<li>Fixed namespace users unable to list out tables</li>
<li>Fixed serving settings storage path breaking when edited</li>
<li>Fixed warning when installing .deb package</li>
<li>Fixed tables and variables not autocompleting</li>
<li>Fixed missing <code>Cmd/Ctrl + /</code> hotkey for toggling comments</li>
<li>Fixed explorer copy record id context menu action</li>
<li>Fixed variables pane, Record creator and editor being limited to JSON</li>
</ul>
`,Uq=Object.freeze(Object.defineProperty({__proto__:null,attributes:Qq,html:Vq},Symbol.toStringTag,{value:"Module"})),zq={title:"Surrealist 2.0.4",summary:"New features and fixes for reported issues",date:"2024/04/29"},Bq=`<ul>
<li>Added a setting to display the query view horizontally</li>
<li>Added highlighting for REMOVE statement and UNSET keyword</li>
<li>Added new &quot;Open embed generator&quot; command</li>
<li>Added query selection formatting</li>
<li>Redesigned Surrealist mini generator</li>
<li>Improved some input placeholders for clarity</li>
<li>Improved version check logic</li>
<li>Allow tab navigation in single-line code inputs</li>
<li>Error screen will now navigate you to the sandbox</li>
<li>Fixed libssl 1.1 error on linux platforms</li>
<li>Fixed large comment icon in authentication view</li>
<li>Fixed explorer record creator not working</li>
<li>Fixed designer graph not updating when removing a table</li>
<li>Fixed designer graph not updating when changing table appearance</li>
<li>Fixed ML view not always rendering in the sidebar</li>
<li>Fixed query errors not displaying in results panel</li>
<li>Fixed missing support for JWKS tokens</li>
<li>Minor UI/UX improvements</li>
</ul>
`,Hq=Object.freeze(Object.defineProperty({__proto__:null,attributes:zq,html:Bq},Symbol.toStringTag,{value:"Module"})),Gq={title:"Surrealist 2.0.5",summary:"User interface improvements",date:"2024/05/03"},Yq=`<ul>
<li>Added new user registration functionality to scopes in the Authentication view
<ul>
<li>Also accessible using &quot;Register user in scope&quot; commands</li>
<li>Automatically extracts required params from the <code>SIGNUP</code> query</li>
</ul>
</li>
<li>Added the ability to restore the embed generator from an embed URL
<ul>
<li>Only available in the <a href="https://surrealist.app/mini/new">online generator</a></li>
</ul>
</li>
<li>Added new commands to sync database schema and disconnect from the database</li>
<li>Added back the ability to resize the query list, table list, and functions list panels</li>
<li>Added a confirmation when resetting the sandbox environment</li>
<li>Added additional context menu items throughout the interface</li>
<li>Changed scope fields to hide sensitive fields by default
<ul>
<li>Applies to fields named <code>password</code>, <code>pass</code>, or <code>secret</code></li>
</ul>
</li>
<li>Changed <code>Cmd + Space</code> to only execute the selection if one is active</li>
<li>Changed Models view to be always displayed in the sidebar</li>
<li>Changed some icons throughout the interface</li>
<li>Changed the explorer to directly open a table after creation</li>
<li>Improved placeholder UI when views are empty</li>
<li>Improved version checking logic for reverse proxy connections</li>
<li>Improved the UI when the connection isn't active</li>
<li>Fixed incorrect embed generator URL in desktop app</li>
<li>Fixed the table mode in Surrealist Mini</li>
</ul>
`,Xq=Object.freeze(Object.defineProperty({__proto__:null,attributes:Gq,html:Yq},Symbol.toStringTag,{value:"Module"})),Wq={title:"Surrealist 2.0.6",summary:"User interface improvements, bug fixes and SurrealDB 1.5.0",date:"2024/05/14"},Zq=`<ul>
<li>Updated SurrealDB to 1.5.0</li>
<li>Disable spellcheck on fields</li>
<li>Add devtools command for Desktop</li>
<li>Make version check required</li>
<li>Pass preview mode through vite</li>
<li>Fix environment check</li>
</ul>
`,Jq=Object.freeze(Object.defineProperty({__proto__:null,attributes:Wq,html:Zq},Symbol.toStringTag,{value:"Module"})),Kq={title:"Surrealist 2.1.0",summary:"Many new features, improvements, and fixes",date:"2024/05/30"},e9=`<ul>
<li>Added designer view record link visualization
<ul>
<li>Draws lines for all <code>record&lt;&gt;</code> fields defined on tables</li>
<li>Can be enabled in the designer view options</li>
<li>Multiple links are collapsed into a single line for readability</li>
</ul>
</li>
<li>Added support for .surql file opening with Surrealist Desktop
<ul>
<li>Queries are opened as a new tab in the query view</li>
<li>Currently limited to files of at most 5 MB in size</li>
</ul>
</li>
<li>Added custom connection groups
<ul>
<li>Redesigned the connection list to support creating groups</li>
<li>Connections can be assigned to a group from the connection editor</li>
<li>Group names can be customized</li>
</ul>
</li>
<li>Added support for importing tables from CSV files
<ul>
<li>Accessible by selecting a .csv file from the &quot;Import data&quot; button in the Explorer view</li>
<li>Automatically parses SurrealQL values such as objects, arrays, and dates</li>
</ul>
</li>
<li>Added support for deeplinking to the desktop app
<ul>
<li>Allows integrating Surrealist deeper into custom tooling and workflows</li>
</ul>
</li>
<li>Added a loading indicator for long running queries</li>
<li>Added schema function autocompletions in queries</li>
<li>Added an appearance setting to permanently expand the sidebar</li>
<li>Added <code>cmd+L</code>/<code>ctrl+L</code> shortcut to open the connections list</li>
<li>Added Surrealist Mini window messaging protocol</li>
<li>Added PHP examples to the API Docs view</li>
<li>Added new convenient query context menu items</li>
<li>Added the ability to resize the record creator, inspector, and designer drawers</li>
<li>Added a log file for debugging purposes</li>
<li>Added a confirmation when removing a connection</li>
<li>Improved .NET examples in the API Docs view</li>
<li>Improved Surrealist Mini startup performance for datasets</li>
<li>Improved explorer logic and performance</li>
<li>Improved the explorer record creation drawer</li>
<li>Improved serving console performance</li>
<li>Improved database version detection logic</li>
<li>Improved SurrealQL syntax highlighting across the app</li>
<li>Improved desktop config file readability</li>
<li>Fixed authentication view incorrectly clearing passwords</li>
<li>Fixed newsfeed indicator not always dissapearing</li>
<li>Fixed certain endpoints getting blocked on MacOS</li>
<li>Fixed explorer filter parsing and error checking</li>
<li>Fixed unintended overscroll behavior on MacOS</li>
<li>Fixed certain hover cards not having the correct background</li>
<li>Fixed large numbers causing the explorer to crash</li>
<li>Fixed command palette not saving history correctly</li>
</ul>
`,t9=Object.freeze(Object.defineProperty({__proto__:null,attributes:Kq,html:e9},Symbol.toStringTag,{value:"Module"})),n9={title:"Surrealist 2.1.1",summary:"User experience improvements",date:"2024/06/10"},s9=`<ul>
<li>Redesigned the data exporter
<ul>
<li>Added a new option to omit comments from the resulting file</li>
<li>You can now choose which tables are included in the export</li>
</ul>
</li>
<li>Added globally inspectable record ids
<ul>
<li>Hold cmd/ctrl and click any record id to open the record inspector</li>
<li>Supported in most SurrealQL editors, including query results</li>
</ul>
</li>
<li>Added a keyboard shortcut guide
<ul>
<li>Accessible from the Help &amp; Support menu</li>
</ul>
</li>
<li>Added a geometry explorer for GeoJSON values (314)</li>
<li>Improved designer drawer error handling on save</li>
<li>Added a new setting to change the appearance of the table graph lines</li>
<li>Added a schema mode dropdown to the table creator</li>
<li>Improved field kind inputs</li>
<li>Improved designer drawer table type editing</li>
<li>Added a button to quickly open live messages when executing a live query</li>
<li>Lowered the editor debounce delay</li>
<li>Improved logging output format</li>
<li>Added multiline support to permission inputs</li>
<li>Changed the Models view icon</li>
<li>Improved designer record link detection</li>
<li>Improved connection template details inputs</li>
<li>Redesigned the editor autocompletion popup</li>
<li>Added the new Surreal Deal Store dataset</li>
<li>Fixed <code>CREATE</code> statements not highlighting record ids</li>
<li>Fixed authentication errors not printing the cause</li>
<li>Fixed incorrect snippets in the API Docs view (#321)</li>
<li>Fixed data import button not displaying spinner</li>
<li>Fixed the editor folding placeholder color</li>
<li>Fixed backslashes causing the command palette to crash</li>
<li>Fixed empty objects breaking highlighting</li>
<li>Fixed starting database serving always triggering a reconnect</li>
<li>Fixed issues during connection switching</li>
<li>Fixed record id highlighting issues</li>
<li>Fixed creating relation tables not configuring the type</li>
<li>Fixed various Safari input issues</li>
<li>Fixed non-json values not persisting in the record inspector</li>
<li>Fixed the explorer pagination resetting to 1 when fetching new pages</li>
<li>Fixed <code>WHERE</code> being required when entering custom permission logic</li>
<li>Fixed <code>type::table()</code> always returning NONE</li>
<li>Fixed some table graph edges not clearing after rerender</li>
</ul>
`,i9=Object.freeze(Object.defineProperty({__proto__:null,attributes:n9,html:s9},Symbol.toStringTag,{value:"Module"})),r9={title:"Surrealist 2.1.2",summary:"Support for SurrealDB 2.0 alpha",date:"2024/06/13"},o9=`<ul>
<li>Experimental support for SurrealDB 2.0 Alpha
<ul>
<li>Enabled by setting the <code>surreal_compat</code> feature flag to <code>v2</code></li>
<li>Disables the Authentication view for now</li>
<li>Supports database serving</li>
</ul>
</li>
<li>Overhauled the updating experience
<ul>
<li>Now displayed in a custom popup within the interface</li>
<li>Surrealist will now check for updates more frequently</li>
<li>Added a <code>Check for updates</code> command to manually check for updates</li>
</ul>
</li>
<li>Improved access to feature flags
<ul>
<li>Now accessible via the <code>Manage Feature Flags</code> command</li>
</ul>
</li>
<li>Allow manual triggering of auto completions within the query editor
<ul>
<li>Will list out all tables, functions, and params</li>
</ul>
</li>
<li>Added support for creating relations in the record creator</li>
<li>Limit the record table renderer to 100 records to prevent performance degradation</li>
<li>Changed the default exporter file name</li>
<li>Improved function editing experience</li>
<li>Improved the GeoJSON explorer drawer (#333)</li>
<li>Fixed the titlebar not displaying on the start screen on MacOS</li>
<li>Fixed the explorer not resetting to page 1 when switching tables</li>
<li>Fixed the explorer incorrectly showing nested columns</li>
<li>Minor UI improvements</li>
</ul>
`,a9=Object.freeze(Object.defineProperty({__proto__:null,attributes:r9,html:o9},Symbol.toStringTag,{value:"Module"})),c9={title:"Surrealist 2.1.3",summary:"Miscellaneous bug fixes",date:"2024/07/10"},l9=`<ul>
<li>Collapsible combined query results</li>
<li>Clear editor history when switching between queries</li>
<li>Support SurrealQL highlighting in saved query editor</li>
<li>Added transparency support for Surrealist Mini</li>
<li>Fixed geo visualization rendering</li>
<li>Fixed function completion when containing colons</li>
<li>Fixed error when creating a table named &quot;constructor&quot;</li>
<li>Fixed typo in the query pane</li>
<li>Fixed table name double escaping</li>
<li>Fixed redo keybind on Windows</li>
<li>Fixed debug copy on Safari</li>
</ul>
`,u9=Object.freeze(Object.defineProperty({__proto__:null,attributes:c9,html:l9},Symbol.toStringTag,{value:"Module"})),d9={title:"Surrealist 2.1.4",summary:"Miscellaneous bug fixes",date:"2024/07/17"},h9=`<ul>
<li>Improved handling of binary data in queries
<ul>
<li>This fixes <code>&lt;bytes&gt;</code>, geometries, <code>encoding::base64::decode();</code>, and more</li>
</ul>
</li>
<li>Improved performance of the web app</li>
<li>Updated the sandbox to SurrealDB 1.5.4</li>
<li>Fixed UUID rendering in data tables</li>
</ul>
`,p9=Object.freeze(Object.defineProperty({__proto__:null,attributes:d9,html:h9},Symbol.toStringTag,{value:"Module"})),f9={title:"Surrealist 2.1.5",summary:"Fix HTTP requests in Sandbox",date:"2024/07/23"},g9=`<ul>
<li>Enabled all capabilities in Sandbox, allowing you fetch any network target</li>
</ul>
`,m9=Object.freeze(Object.defineProperty({__proto__:null,attributes:f9,html:g9},Symbol.toStringTag,{value:"Module"})),b9={title:"Surrealist 2.1.6",summary:"Minor improvements",date:"2024/08/06"},x9=`<ul>
<li>Improved and future-proofed the auto updater logic</li>
<li>Fixed nested JavaScript highlighting within SurrealQL</li>
</ul>
`,y9=Object.freeze(Object.defineProperty({__proto__:null,attributes:b9,html:x9},Symbol.toStringTag,{value:"Module"})),v9={title:"Surrealist 3.0",summary:"The next evolution of Surrealist is here",date:"2024/09/17"},w9=`<h3>Highlights</h3>
<ul>
<li>Improved namespace and database selection
<ul>
<li>Connect to an instance without selecting a namespace or database</li>
<li>Switch namespaces and databases on-the-fly</li>
<li>Create and remove namespaces and databases directly from the toolbar</li>
<li>Redesigned connection editor</li>
</ul>
</li>
<li>New GraphQL view
<ul>
<li>Execute GraphQL queries against a database using the new GraphQL view</li>
<li>Live query validation and error checking</li>
<li>Full GraphQL syntax highlighting</li>
<li>Full support for query variables</li>
</ul>
</li>
<li>Overhauled Authentication view
<ul>
<li>Redesigned to be compatible with SurrealDB 2.0 authentication</li>
<li>Manage system users and access methods on a root, namespace, and database level</li>
<li>Configure authentication through redesigned editor dialogs</li>
</ul>
</li>
<li>Light interface theme
<ul>
<li>The Light interface theme has made a spectacular comeback</li>
<li>New design supported across the entire interface</li>
<li>Synchronise theme to your operating system’s preference</li>
</ul>
</li>
<li>Designer view improvements
<ul>
<li>New expandable table list</li>
<li>Persistent expanded table designer sections</li>
<li>New system warning for potential schema issues</li>
</ul>
</li>
</ul>
<h3>Other changes</h3>
<ul>
<li>Redesigned start screen with a new appearance, useful resources, and latest news</li>
<li>Query formatting support for the functions view</li>
<li>The sidebar is now organised more logically</li>
<li>Maximum size of resizable drawers has been increased</li>
<li>Customize the history size and log level of the database serving console</li>
<li>Query view variable panel expansion state is now saved persistently</li>
<li>Functions editor now auto completes arguments, tables, and other functions</li>
<li>Updated SurrealQL highlighting to support new SurrealDB 2.0 features</li>
<li>Highlighting for regular expressions in query editors</li>
<li>New collapsible table list in the Designer view</li>
<li>Improved appearance of edge tables in the Designer view</li>
<li>Designer view will now report on schema configuration warnings</li>
<li>Added the option to initialise any empty database with a demo dataset</li>
<li>Decreased the minimum window size for Surrealist Desktop</li>
<li>Initial work on making the interface mobile compatible</li>
<li>Improved listing of fields and indexes in the Table Designer</li>
<li>Remember expanded Table Designer panels persistently</li>
<li>Improved search behaviour in the tables panel</li>
<li>Slightly changed the appearance of drawers</li>
</ul>
<h3>Bug fixes</h3>
<ul>
<li>Performance improvements for large schemas</li>
<li>Performance improvements for Designer view record link visualisation</li>
<li>Performance improvements when navigating the explorer view</li>
<li>Fixed designer field and table permissions initialising incorrectly</li>
<li>Fixed explorer object tooltip indenting</li>
<li>Fixed incorrect editor highlighting keywords</li>
<li>Fixed Designer view performance issues when visualising record links</li>
<li>Fixed backspace deleting nodes in the Designer view</li>
<li>Fixed designer permission fields incorrectly including WHERE keyword</li>
<li>Fixed indenting in data table tooltips</li>
<li>Fixed unintended scrollbars rendering on Windows</li>
<li>Fixed null geo coordinates crashing Surrealist</li>
<li>Fixed the geography explorer not always updating</li>
<li>Fixed live messages displaying incorrect timestamps</li>
<li>Fixed record ids within live message previews not being clickable</li>
<li>Fixed the designer view not changing incoming/outgoing tables on relation tables</li>
<li>Fixed incorrect Surrealist Mini embed URL generation</li>
</ul>
`,S9=Object.freeze(Object.defineProperty({__proto__:null,attributes:v9,html:w9},Symbol.toStringTag,{value:"Module"})),j9={title:"Surrealist 3.0.1",summary:"Minor improvements",date:"2024/09/18"},T9=`<ul>
<li>Updated SurrealDB to 2.0.1</li>
<li>Fixed command palette crashing when connected to a 1.x instance</li>
<li>Fixed empty access fields array causing UI crashes</li>
<li>Fixed IAM error when connecting as namespace or database user</li>
<li>Minor appearance change to the table designer drawer</li>
</ul>
`,E9=Object.freeze(Object.defineProperty({__proto__:null,attributes:j9,html:T9},Symbol.toStringTag,{value:"Module"})),k9={title:"Surrealist 3.0.2",summary:"Minor improvements",date:"2024/09/18"},O9=`<ul>
<li>Bumped the minimum version to SurrealDB 2.0.0 stable</li>
<li>Fixed initialization error</li>
</ul>
`,C9=Object.freeze(Object.defineProperty({__proto__:null,attributes:k9,html:O9},Symbol.toStringTag,{value:"Module"})),_9={title:"Surrealist 3.0.3",summary:"Minor improvements",date:"2024/09/26"},N9=`<ul>
<li>Changed the data exporter to use the HTTP export endpoint
<ul>
<li>Provides a significantly more reliable import/export workflow</li>
<li>While this means support for export customization and in-memory/indexdb is unavailable for now, we plan on addressing both these in the near future by providing a more robust export/import system within SurrealDB</li>
</ul>
</li>
<li>Fixed some unsupported highlighting syntax</li>
<li>Fixed missing &quot;add field&quot; button in the access method editor</li>
<li>Fixed missing editor completion icons</li>
<li>Fixed multiple connections sometimes using the same id</li>
</ul>
`,I9=Object.freeze(Object.defineProperty({__proto__:null,attributes:_9,html:N9},Symbol.toStringTag,{value:"Module"})),D9={title:"Surrealist 3.0.4",summary:"Minor improvements",date:"2024/10/01"},R9=`<ul>
<li>Added the ability to reset the sandbox without confirmation by holding Shift</li>
<li>Added support for the new ENFORCED keyword in the table designer</li>
<li>Errors encountered while saving a function are now displayed in the editor</li>
<li>Allow any table to be selected as in/out for a relation</li>
<li>Added the ability to filter on multiple table names in the tables panel by separating them with a comma</li>
<li>Fixed ctrl+k conflicting with a system shortcut on MacOS</li>
<li>Fixed the tables panel and designer view sometimes visually omitting tables</li>
<li>Fixed functions not saving when they already exist</li>
</ul>
`,A9=Object.freeze(Object.defineProperty({__proto__:null,attributes:D9,html:R9},Symbol.toStringTag,{value:"Module"})),P9={title:"Surrealist 3.0.5",summary:"Minor improvements",date:"2024/10/04"},$9=`<ul>
<li>Include READONLY in output</li>
<li>Update Sandbox to SurrealDB v2.0.3</li>
</ul>
`,L9=Object.freeze(Object.defineProperty({__proto__:null,attributes:P9,html:$9},Symbol.toStringTag,{value:"Module"})),M9={title:"Surrealist 3.0.6",summary:"Minor improvements",date:"2024/10/09"},F9=`<ul>
<li>Added a dedicated update button in the settings dialog
<ul>
<li>Useful when you previously dismissed an update alert</li>
</ul>
</li>
<li>Allow executing queries when focused in the variables panel</li>
<li>Fixed escaped table names not fetching records in the Explorer view</li>
<li>Fixed some wording in the API Docs view</li>
<li>Improved internal handling of datasets</li>
</ul>
`,q9=Object.freeze(Object.defineProperty({__proto__:null,attributes:M9,html:F9},Symbol.toStringTag,{value:"Module"})),Q9={title:"Surrealist 3.0.7",summary:"Minor improvements",date:"2024/10/10"},V9=`<ul>
<li>Significantly increased the maximum zoom level in the Designer view</li>
<li>Fixed the functions editor extending out of bounds</li>
<li>Surrealist mini improvements</li>
</ul>
`,U9=Object.freeze(Object.defineProperty({__proto__:null,attributes:Q9,html:V9},Symbol.toStringTag,{value:"Module"})),z9={title:"Surrealist 3.0.8",summary:"Minor improvements",date:"2024/10/15"},B9=`<ul>
<li>Added a sidebar indicator when a new version of Surrealist is available</li>
<li>Added a new setting to toggle line numbers in the query editor, record inspector, and functions editor individually</li>
<li>Line numbers can now be disabled in Surrealist mini</li>
<li>Fixed incorrect query indentation in Surrealist mini</li>
</ul>
`,H9=Object.freeze(Object.defineProperty({__proto__:null,attributes:z9,html:B9},Symbol.toStringTag,{value:"Module"})),G9={title:"Surrealist 3.1.0",summary:"Many new features, improvements, and fixes",date:"2024/11/26"},Y9=`<ul>
<li>You can now open and edit query files directly in Surrealist Desktop
<ul>
<li>Files can be opened through <code>ctrl/cmd + O</code>, the “Open query file” command, or by opening the file on your system with Surrealist</li>
<li>Changes you make are automatically saved back to disk, much like regular query tabs</li>
<li>Files are opened within the current connection, meaning you can open files in different connections and keep these separated</li>
<li>Added a context menu item to reveal the file in your file explorer</li>
</ul>
</li>
<li>Added support for keybinding customisation
<ul>
<li>Configurable in a new Keybindings page in settings</li>
<li>Most commands, including dynamically generated ones, can be bound</li>
<li>Default bindings can be cleared, and custom bindings can easily be reset</li>
<li>Displayed in the command palette</li>
</ul>
</li>
<li>The query panel and tables panel in the Query and Explorer views can now be collapsed
<ul>
<li>The explorer tables panel will always be visible when no table is selected</li>
</ul>
</li>
<li>Added integrated SurrealDB documentation searching
<ul>
<li>Accessible with cmd + J or with the “Search SurrealDB documentation” command</li>
<li>Functions identical to search within the docs</li>
<li>Opens the relevant page in your browser</li>
</ul>
</li>
<li>Redesigned settings dialog
<ul>
<li>Merged Behaviour and Appearance into a new searchable Preferences category</li>
<li>Added a new Backup &amp; Restore category</li>
<li>Added a new About category detailing build information</li>
<li>Moved environment copy to the About page</li>
</ul>
</li>
<li>Improved Designer view table graph rendering
<ul>
<li>Relation lines will now render next to each other and avoid overlapping where possible</li>
<li>Relation lines now indicate their direction using an arrow</li>
<li>Improved the performance and reliability of the table graph</li>
</ul>
</li>
<li>Added inline preference editing in Surrealist Search
<ul>
<li>The command list will now display matching preferences when searched for</li>
<li>These can be edited inline for convenience</li>
<li>Fully accessible and keyboard navigable</li>
</ul>
</li>
<li>Added configuration backups &amp; restoring
<ul>
<li>Allows saving your Surrealist configuration and restoring at a later date</li>
<li>Provides the option to strip sensitive information</li>
<li>Allows exporting only specific connections</li>
</ul>
</li>
<li>Improved and optimised the query history
<ul>
<li>Large queries will no longer be saved to the query history</li>
<li>When a query is too large to be saved, an indicator will show up notifying you of this</li>
<li>Entries within the query history will be truncated when too long</li>
<li>It is now easier to delete and run query history entries</li>
</ul>
</li>
<li>Improved the result formatting setting
<ul>
<li>Configurable per connection directly from the query result panel</li>
<li>Allows representing query results as SurrealQL or JSON</li>
</ul>
</li>
<li>Improved config serialisation in the web app
<ul>
<li>The config will now be stored in IndexedDB</li>
<li>This should result in improved performance</li>
</ul>
</li>
<li>Improved namespace and database creation
<ul>
<li>The namespace and database selection dropdowns will automatically open the creator dialog when no existing entries are found</li>
</ul>
</li>
<li>Added a setting to toggle line numbers in different editors
<ul>
<li>Currently available for the query editor, record inspector, and functions editor</li>
<li>Also configurable for Surrealist Mini</li>
</ul>
</li>
<li>Accessibility improvements
<ul>
<li>Made various dialogs easier to use when navigating with a keyboard</li>
</ul>
</li>
<li>Improved query result rendering
<ul>
<li>Queries are now selected from a dropdown</li>
<li>Table rendering now supports full pagination</li>
</ul>
</li>
<li>Improved Designer table graph settings
<ul>
<li>Globally configurable default values in the settings menu</li>
<li>Added the option to use a more spaced out layout algorithm</li>
<li>Added per-connection line style customisation</li>
<li>Enabled record link rendering by default</li>
</ul>
</li>
<li>Added new default keybindings
<ul>
<li><code>Ctrl/Cmd + T</code> to open a new query tab (Desktop only)</li>
<li><code>Ctrl/cmd + W</code> to close the current query tab (Desktop only)</li>
<li><code>Ctrl/cmd + N</code> to create a new table (Desktop only)</li>
</ul>
</li>
<li>Added a new editor shortcut to select the entire query your cursor is inside of
<ul>
<li>Bound to <code>Ctrl/cmd + E</code></li>
</ul>
</li>
<li>Added a new table context menu option to display the full table definition</li>
<li>The record inspector will now display errors encountered while saving</li>
<li>Updated SurrealQL highlighting to support new SurrealDB 2.1 features</li>
<li>Added a Sync schema button to the connection dropdown</li>
<li>Added a “Focus table” context menu option to focus tables in the table graph from the table list</li>
<li>Added a “Rename” option to query tab context menus</li>
<li>Added the option to view the status of nodes in the cluster</li>
<li>Added back database export customisation options</li>
<li>Improved table designer field, event, and index editing</li>
<li>Added a confirmation before deleting a record from the Explorer</li>
<li>Added a new setting to disable quick query closing</li>
<li>Added editor warnings when trying to use unsupported SurrealQL features</li>
<li>Improved the editing of connections in the connections list</li>
<li>Surrealist is now available as a Docker image</li>
<li>Fixed explorer pagination not adjusting when changing max results per page</li>
<li>Fixed the designer help button not working</li>
<li>Fixed situations where Surrealist could crash with “Session unavailable”</li>
<li>Fixed query tabs not being editable on Firefox</li>
<li>Fixed query tabs allowing empty names</li>
<li>Fixed Surrealist rendering blank on Linux systems using Nvidia graphics</li>
<li>Fixed record access sign up modal inputs not working correctly</li>
<li>Fixed connection templates not saving</li>
</ul>
`,X9=Object.freeze(Object.defineProperty({__proto__:null,attributes:G9,html:Y9},Symbol.toStringTag,{value:"Module"})),W9={title:"Surrealist 3.1.1",summary:"Bug fixes",date:"2024/11/26"},Z9=`<ul>
<li>Fixed the query view not rendering in horizontal layout mode</li>
</ul>
`,J9=Object.freeze(Object.defineProperty({__proto__:null,attributes:W9,html:Z9},Symbol.toStringTag,{value:"Module"})),K9={title:"Surrealist 3.1.2",summary:"Minor changes",date:"2024/11/29"},eQ=`<ul>
<li>Added an indicator when binding multiple commands to the same keybind</li>
<li>Added new Sandbox specific commands for resetting and applying datasets</li>
<li>Improved <code>Cmd/ctrl + E</code> to fallback to selecting top level expressions</li>
<li>Improved schema fetching to batch table requests</li>
<li>Fixed Explorer view columns not parsing as idents</li>
<li>Fixes issues with the docker image</li>
</ul>
`,tQ=Object.freeze(Object.defineProperty({__proto__:null,attributes:K9,html:eQ},Symbol.toStringTag,{value:"Module"})),nQ={title:"Surrealist 3.1.3",summary:"Minor changes",date:"2024/12/03"},sQ=`<ul>
<li>Enabled text selection in code previews</li>
<li>Internal technical improvements</li>
</ul>
`,iQ=Object.freeze(Object.defineProperty({__proto__:null,attributes:nQ,html:sQ},Symbol.toStringTag,{value:"Module"})),rQ={title:"Surrealist 3.1.4",summary:"Minor changes",date:"2024/12/03"},oQ=`<ul>
<li>Minor internal changes</li>
</ul>
`,aQ=Object.freeze(Object.defineProperty({__proto__:null,attributes:rQ,html:oQ},Symbol.toStringTag,{value:"Module"})),cQ={title:"Surrealist 3.1.5",summary:"Minor fix",date:"2024/12/05"},lQ=`<ul>
<li>Fixed the sandbox introduction popup displaying on the wrong page</li>
</ul>
`,uQ=Object.freeze(Object.defineProperty({__proto__:null,attributes:cQ,html:lQ},Symbol.toStringTag,{value:"Module"})),dQ={title:"Surrealist 3.1.6",summary:"Minor fix",date:"2024/12/06"},hQ=`<ul>
<li>Fixed the sandbox popup appearing on the start screen</li>
<li>Fixed potential redirect issues</li>
<li>Fixed some missing sidebar tooltips in compact mode</li>
<li>Moved Surreal Cloud to the top of the sidebar</li>
<li>Improvements to the Surreal Cloud panel
<ul>
<li>Added a new interactive &quot;HTTP cURL&quot; connection example</li>
<li>Fixed cloud navigation button not highlighting in the sidebar</li>
<li>Display instance type categories on instance cards</li>
<li>Improved the instance type selection UI</li>
</ul>
</li>
</ul>
`,pQ=Object.freeze(Object.defineProperty({__proto__:null,attributes:dQ,html:hQ},Symbol.toStringTag,{value:"Module"})),fQ={title:"Surrealist 3.1.7",summary:"Minor improvements",date:"2024/12/09"},gQ=`<ul>
<li>Split editing history per query tab
<ul>
<li>Undo/redo history is remembered when switching between tabs</li>
</ul>
</li>
<li>Changed the default connection protocol to WebSocket Secure (WSS)
<ul>
<li>Entering a localhost address will now prompt the user to switch to WS or HTTP</li>
</ul>
</li>
<li>Improved API Docs performance
<ul>
<li>Table previews can now be selected using a selection dropdown</li>
<li>This especially improves performance for databases with large amounts of tables</li>
</ul>
</li>
<li>Redesigned the start screen experience
<ul>
<li>The start screen is now available at <code>/start</code></li>
<li>You can click the Surrealist logo in the sidebar to open the start screen</li>
<li>Redesigned the start screen</li>
</ul>
</li>
<li>Added a reset chat button to Sidekick</li>
<li>Updated .NET SDK documentation</li>
<li>Fixed schema parsing errors aborting the connection</li>
<li>Fixed additional &quot;Missing session&quot; errors</li>
<li>Fixed database serving settings page issues</li>
<li>Improvements to the Surreal Cloud panel
<ul>
<li>Updated instance type selection UI</li>
<li>Updated the capabilities dialog</li>
</ul>
</li>
</ul>
`,mQ=Object.freeze(Object.defineProperty({__proto__:null,attributes:fQ,html:gQ},Symbol.toStringTag,{value:"Module"})),bQ=Object.assign({"/src/assets/changelogs/2.0.0.md":Aq,"/src/assets/changelogs/2.0.1.md":Lq,"/src/assets/changelogs/2.0.2.md":qq,"/src/assets/changelogs/2.0.3.md":Uq,"/src/assets/changelogs/2.0.4.md":Hq,"/src/assets/changelogs/2.0.5.md":Xq,"/src/assets/changelogs/2.0.6.md":Jq,"/src/assets/changelogs/2.1.0.md":t9,"/src/assets/changelogs/2.1.1.md":i9,"/src/assets/changelogs/2.1.2.md":a9,"/src/assets/changelogs/2.1.3.md":u9,"/src/assets/changelogs/2.1.4.md":p9,"/src/assets/changelogs/2.1.5.md":m9,"/src/assets/changelogs/2.1.6.md":y9,"/src/assets/changelogs/3.0.0.md":S9,"/src/assets/changelogs/3.0.1.md":E9,"/src/assets/changelogs/3.0.2.md":C9,"/src/assets/changelogs/3.0.3.md":I9,"/src/assets/changelogs/3.0.4.md":A9,"/src/assets/changelogs/3.0.5.md":L9,"/src/assets/changelogs/3.0.6.md":q9,"/src/assets/changelogs/3.0.7.md":U9,"/src/assets/changelogs/3.0.8.md":H9,"/src/assets/changelogs/3.1.0.md":X9,"/src/assets/changelogs/3.1.1.md":J9,"/src/assets/changelogs/3.1.2.md":tQ,"/src/assets/changelogs/3.1.3.md":iQ,"/src/assets/changelogs/3.1.4.md":aQ,"/src/assets/changelogs/3.1.5.md":uQ,"/src/assets/changelogs/3.1.6.md":pQ,"/src/assets/changelogs/3.1.7.md":mQ}),Cm=Object.entries(bQ).map(([e,t])=>{const[,n]=e.match(/\/([\d.]+).md$/)||[];return{version:n,metadata:t.attributes,content:t.html}}).sort((e,t)=>Gd(t.version,e.version));function xQ(){const{previousVersion:e,setPreviousVersion:t}=Se.getState(),{showChangelog:n}=Ye.getState();Gd("3.1.7",e)>0&&(t("3.1.7"),n())}const yQ="_listing-modal_19wse_1",vQ="_listing-body_19wse_11",wQ="_listing-search_19wse_15",SQ="_changelog-content_19wse_23",jQ="_update-dialog_19wse_31",TQ="_update-dialog-icon_19wse_42",EQ="_connection-group-remove_19wse_54",kQ="_connection-group_19wse_54",OQ="_news-drawer-content_19wse_63",CQ="_news-drawer-body_19wse_69",_Q="_news-post-header_19wse_76",NQ="_news-post-content_19wse_82",IQ="_news-post-back_19wse_98",DQ="_provision-box_19wse_108",RQ="_provision-loader_19wse_113",AQ="_provision-icon_19wse_121",PQ="_docs-scroller_19wse_128",$Q="_listing-active_19wse_132",ze={listingModal:yQ,listingBody:vQ,listingSearch:wQ,changelogContent:SQ,updateDialog:jQ,updateDialogIcon:TQ,connectionGroupRemove:EQ,connectionGroup:kQ,newsDrawerContent:OQ,newsDrawerBody:CQ,newsPostHeader:_Q,newsPostContent:NQ,newsPostBack:IQ,provisionBox:DQ,provisionLoader:RQ,provisionIcon:AQ,docsScroller:PQ,listingActive:$Q};function LQ(){const[e,t]=nt();return Pe("open-changelog",t.open),i.jsx(i.Fragment,{children:i.jsx(Je,{opened:e,onClose:t.close,trapFocus:!1,withCloseButton:!0,size:"xl",title:i.jsx(ve,{children:"Release changelogs"}),children:i.jsx(B,{children:Cm.map((n,s)=>i.jsxs(v.Fragment,{children:[i.jsxs(G,{children:[i.jsx(_,{c:"slate.3",fz:"lg",children:_i(n.metadata.date).format("YYYY-MM-DD")}),i.jsx(_,{c:"bright",fw:600,fz:20,mb:"lg",children:n.metadata.title}),i.jsx(wd,{dangerouslySetInnerHTML:{__html:n.content},className:ze.changelogContent})]}),s<Cm.length-1&&i.jsx(Ne,{})]},s))})})})}const MQ="/assets/cloud-icon-vgxYVr9K.webp";function FQ(){const{setSessionExpired:e}=we.getState(),t=we(s=>s.sessionExpired),n=L(s=>{s?.stopPropagation(),e(!1)});return i.jsx(Sd,{opened:t,onClose:n,size:600,shadow:"sm",radius:"md",position:{left:"calc(50% - 300px)",right:"calc(50% + 300px)",bottom:32},transitionProps:{transition:"slide-up",timingFunction:"ease",duration:200},classNames:{root:ze.updateDialog},onClick:Jc,children:i.jsxs(U,{children:[i.jsx(Vt,{src:MQ,alt:"Surreal Cloud",w:48}),i.jsxs(G,{flex:"1",children:[i.jsx(_,{fw:600,c:"bright",children:"Your Surreal Cloud session has expired"}),i.jsx(_,{mt:4,children:"Click here to authenticate again"})]}),i.jsx(de,{size:"lg",onClick:n,children:i.jsx(E,{path:en})})]})})}function Tw({controller:e,compact:t,...n}){const{applyPreference:s}=Se.getState(),r=Se(o=>e.options.reader(o));if(e instanceof xS)return i.jsx(Lt,{...n,checked:r,onChange:o=>{s(e.options.writer,o.target.checked)}});if(e instanceof yS)return i.jsx(eu,{...n,value:r,size:t?"xs":void 0,onChange:o=>{s(e.options.writer,nT(o)?o:Number.parseInt(o))}});if(e instanceof vS)return i.jsx(le,{...n,value:r,size:t?"xs":void 0,placeholder:e.options.placeholder,w:250,onChange:o=>{s(e.options.writer,o.currentTarget.value)}});if(e instanceof wS)return i.jsx(yt,{...n,data:e.options.options,value:r,size:t?"xs":void 0,onChange:o=>{s(e.options.writer,o)}})}function qQ(){const{pushCommand:e}=Se.getState(),t=v.useRef(null),[n,s]=nt(),[r,o]=Ee(""),a=cb(),c=lb(),l=kd(),u=L(m=>{if(m.stopPropagation(),m.code==="Tab"){m.preventDefault();return}m.code==="Escape"&&(t.current?.focus(),s.open())}),[d,h]=v.useMemo(()=>{const m=c.flatMap(x=>{if(x.visibility==="unsearched"&&r||x.visibility==="searched"&&!r)return[];const T=Kn(r,x.name),w=x.commands.filter(j=>j.unlisted===!0?!1:T||Kn(r,j.name)||j.aliases?.find(N=>Kn(r,N)));return w.length===0?[]:[{...x,commands:w}]}),b=m.flatMap(x=>x.commands);return[m,b]},[c,r]),p=L(m=>{const b=r.trim();switch(m.action.type){case"insert":{o(m.action.content),t.current?.focus();break}case"preference":{const x=document.querySelector(`[data-navigation-item-id="${m.id}"]`),T=x?.querySelector(".mantine-InputWrapper-root input"),w=x?.querySelector(".mantine-Checkbox-root input");(T??w)?.click(),T?.focus();return}default:{a(m.id),s.close();break}}b.length>0&&e(b)}),[f,g]=Od(h,p);return Pe("open-command-palette",()=>{s.open(),o("")}),i.jsxs(Je,{opened:n,onClose:s.close,transitionProps:{transition:zd},centered:!1,size:"lg",onKeyDown:f,classNames:{content:ze.listingModal,body:ze.listingBody},children:[i.jsxs(G,{p:"lg",children:[i.jsxs(U,{mb:"xs",gap:"xs",c:"bright",children:[i.jsx(E,{path:Ss,size:"sm"}),i.jsx(_,{children:"Surrealist Search"})]}),i.jsx(le,{flex:1,placeholder:"What would you like to do?",variant:"unstyled",className:ze.listingSearch,ref:t,autoFocus:!0,value:r,spellCheck:!1,onChange:o})]}),i.jsx(Ne,{mx:"lg"}),i.jsx(Fe.Autosize,{scrollbars:"y",mah:"calc(100vh - 225px)",children:d.length>0?i.jsx(B,{p:"lg",children:d.map(m=>i.jsxs(G,{children:[i.jsx(_,{c:"slate",fw:500,children:m.name}),i.jsx(B,{mt:"xs",gap:2,children:m.commands.map(b=>i.jsxs(Tt,{onClick:()=>p(b),disabled:b.disabled,leftSection:i.jsx(E,{path:b.icon}),"data-navigation-item-id":b.id,className:cn(g===b.id&&ze.listingActive),children:[i.jsx(_,{children:b.name}),b.action.type==="href"&&i.jsx(E,{path:Vn,size:"sm",ml:-8}),l.has(b.id)&&i.jsxs(i.Fragment,{children:[i.jsx(je,{}),i.jsx(Sh,{value:l.get(b.id)??[]})]}),b.action.type==="preference"&&i.jsxs(i.Fragment,{children:[i.jsx(je,{}),i.jsx(G,{onClick:ji,onKeyDown:u,children:i.jsx(Tw,{controller:b.action.controller,compact:!0})})]})]},b.id))})]},m.name))}):i.jsx(_,{ta:"center",py:"md",c:"slate",my:"xl",children:"No matching commands found"})})]})}const QQ="/assets/cloud-icon-BwTrww4e.svg",VQ=/^(.+?):\/\/(.+)$/,UQ=new Set(["root","namespace","database"]),zQ=1e3*60*60*3;function Gl({title:e,subtitle:t}){return i.jsxs(G,{children:[i.jsx(_,{c:"bright",fz:"lg",fw:500,children:e}),i.jsx(_,{c:"slate.3",fz:"sm",mt:-2,children:t})]})}function Ew({value:e,onChange:t}){const[n,s]=Cn(),[r,o]=Cn(),a=Qe(),{hostname:c,protocol:l,mode:u,token:d}=e.authentication,h=L(()=>{t(R=>{R.authentication.accessFields.push({subject:"",value:""})})}),p=L(R=>{t(D=>{const $=R.target.value,M=$.match(VQ);if(D.authentication.hostname=$,M===null)return;const[,A,H]=M;gp.some(z=>z.value===A)&&(D.authentication.protocol=A,D.authentication.hostname=H)})}),f=R=>{t(D=>{D.icon=R})},g=l==="mem",m=l==="indxdb",b=u==="cloud",x=g?"Not applicable":m?"database_name":"hostname:port",T=UQ.has(u),w=u==="database"||u==="scope"||u==="access",j=w||u==="namespace",N=v.useMemo(()=>gb(d),[d]),I=v.useMemo(()=>{const[R,D]=mb(gp,$=>$.remote);return b?R:[{group:"Remote",items:R},{group:"Local",items:D}]},[b]),C=N?N.exp*1e3:0,S=C>0&&C-Date.now()<zQ,P=Tb(c)&&(l==="https"||l==="wss"),q=l==="wss"?"ws":"http",Q=Se(R=>R.connectionGroups),O=v.useMemo(()=>[{value:"",label:"No group"},...Q.filter(R=>R.id!==Ya).map(R=>({value:R.id,label:R.name}))],[Q]);return i.jsxs(i.Fragment,{children:[i.jsxs(B,{flex:1,children:[i.jsxs(U,{mb:"xs",children:[i.jsxs(Is,{opened:r,onClose:o.close,position:"bottom-start",children:[i.jsx(Is.Target,{children:i.jsx(de,{variant:"subtle",onClick:o.toggle,"aria-label":"Customize icon",children:i.jsx(E,{path:fc[e.icon??0],size:"lg"})})}),i.jsx(Is.Dropdown,{children:i.jsx(dt,{cols:8,spacing:4,children:fc.map((R,D)=>i.jsx(de,{variant:e.icon===D?"gradient":"subtle",onClick:()=>f(D),"aria-label":`Select icon ${D+1}`,children:i.jsx(E,{path:R})},D))})})]}),i.jsx(ub,{fz:22,fw:600,flex:1,editable:!0,withDecoration:!0,value:e.name,onChange:R=>t(D=>{D.name=R})})]}),b&&i.jsxs(i.Fragment,{children:[i.jsx(De,{bg:a?"slate.0":"slate.9",radius:"md",p:"lg",children:i.jsxs(U,{children:[i.jsx(Vt,{src:QQ,alt:"Surreal Cloud",w:48}),i.jsxs(G,{children:[i.jsx(_,{fw:600,c:"bright",children:"This connection is managed by Surreal Cloud"}),i.jsx(_,{mt:4,children:"Some details cannot be modified manually"})]})]})}),i.jsx(Ne,{mb:6,mt:12})]}),i.jsx(Gl,{title:"Connection",subtitle:"Database address and connection protocol"}),i.jsxs(U,{align:"start",children:[i.jsx(yt,{data:I,maw:125,value:e.authentication.protocol,onChange:R=>t(D=>{const $=R;D.authentication.protocol=$,(R==="mem"||R==="indxdb")&&(D.authentication.mode="none")})}),i.jsx(G,{flex:1,children:i.jsx(le,{name:"hostname",value:e.authentication.hostname,disabled:g||b,placeholder:x,onChange:p})})]}),i.jsx(Mi,{in:P,children:i.jsxs(et,{title:"SSL verification",color:"orange",mt:"xs",children:[i.jsxs(_,{children:["If you do not have SSL configured for your local database you may need to use the ",q.toUpperCase()," protocol to avoid connection issues."]}),i.jsxs(X,{size:"xs",mt:"md",color:a?"slate.9":"slate.0",variant:"light",onClick:()=>t(R=>{R.authentication.protocol=q}),children:["Switch to ",q.toUpperCase()," protocol"]})]})}),i.jsx(Ne,{mb:6,mt:12}),!b&&i.jsxs(i.Fragment,{children:[i.jsx(Gl,{title:"Authentication",subtitle:"Database access credentials"}),i.jsxs(B,{gap:"sm",children:[i.jsx(yt,{label:"Method",value:e.authentication.mode,data:sT,onChange:R=>t(D=>{D.authentication.mode=R})}),T&&i.jsxs(dt,{cols:2,children:[i.jsx(le,{label:"Username",value:e.authentication.username,spellCheck:!1,onChange:R=>t(D=>{D.authentication.username=R.target.value})}),i.jsx(bo,{label:"Password",value:e.authentication.password,spellCheck:!1,onChange:R=>t(D=>{D.authentication.password=R.target.value})})]}),(j||w)&&i.jsxs(dt,{cols:2,children:[j&&i.jsx(le,{label:"Namespace",value:e.authentication.namespace,spellCheck:!1,onChange:R=>t(D=>{D.authentication.namespace=R.target.value})}),w&&i.jsx(le,{label:"Database",value:e.authentication.database,spellCheck:!1,onChange:R=>t(D=>{D.authentication.database=R.target.value})})]}),e.authentication.mode==="scope"&&i.jsxs(U,{wrap:"nowrap",children:[i.jsx(le,{flex:1,label:"Scope (Legacy)",value:e.authentication.scope,spellCheck:!1,onChange:R=>t(D=>{D.authentication.scope=R.target.value})}),i.jsx(X,{mt:19,color:"blue",variant:"light",onClick:s.open,children:"Edit scope data"})]}),e.authentication.mode==="access"&&i.jsxs(U,{wrap:"nowrap",children:[i.jsx(le,{flex:1,label:"Access method",value:e.authentication.access,spellCheck:!1,onChange:R=>t(D=>{D.authentication.access=R.target.value})}),i.jsx(X,{mt:19,color:"blue",variant:"light",onClick:s.open,children:"Edit access fields"})]}),e.authentication.mode==="token"&&i.jsxs(i.Fragment,{children:[i.jsx(le,{label:"Token",value:e.authentication.token,spellCheck:!1,onChange:R=>t(D=>{D.authentication.token=R.target.value}),styles:{input:{fontFamily:"var(--mantine-font-family-monospace)"}}}),e.authentication.token&&(N===null?i.jsx(et,{color:"red",icon:i.jsx(E,{path:Jt}),children:"The provided token does not appear to be a valid JWT"}):S&&(C>Date.now()?i.jsxs(_,{c:"slate",children:[i.jsx(E,{path:Jt,c:"yellow",size:"sm",left:!0}),"This token expires in"," ",_i(C).fromNow()]}):i.jsxs(_,{c:"slate",children:[i.jsx(E,{path:Jt,c:"red",size:"sm",left:!0}),"This token has expired"]})))]})]}),i.jsx(Ne,{mb:6,mt:12})]}),e.group!==Ya&&i.jsxs(i.Fragment,{children:[i.jsx(Gl,{title:"Configuration",subtitle:"Further configuration options"}),i.jsx(yt,{label:"Group",data:O,value:e.group||"",onChange:R=>t(D=>{D.group=R||void 0})})]})]}),i.jsxs(Je,{opened:n,onClose:s.close,withCloseButton:!0,title:i.jsx(ve,{children:"Access fields"}),children:[e.authentication.accessFields?.length===0?i.jsx(_,{c:"gray",fs:"italic",children:'Press "Add field" to define access fields'}):i.jsx(B,{children:e.authentication.accessFields?.map((R,D)=>{const $=R.subject.toLowerCase(),M=Bd.has($)?bo:le;return i.jsx(De,{children:i.jsxs(U,{children:[i.jsx(le,{placeholder:"Field name",style:{flex:1},value:R.subject,spellCheck:!1,onChange:A=>t(H=>{H.authentication.accessFields[D].subject=A.target.value})}),i.jsx(M,{placeholder:"Value",style:{flex:1},value:R.value,spellCheck:!1,onChange:A=>t(H=>{H.authentication.accessFields[D].value=A.target.value})}),i.jsx(Me,{label:"Remove field",children:i.jsx(de,{color:"pink.9","aria-label":"Remove access field",onClick:()=>t(A=>{A.authentication.accessFields.splice(D,1)}),children:i.jsx(E,{path:en,color:"red"})})})]})},D)})}),i.jsx(X,{mt:"xl",size:"xs",fullWidth:!0,variant:"gradient",rightSection:i.jsx(E,{path:Ie}),onClick:h,children:"Add access field"})]})]})}function Yl(){const{settings:e}=Se.getState();return Rd(e)}function BQ(){const e=Hd(),{addConnection:t,updateConnection:n,setActiveConnection:s,removeConnection:r}=Se.getState(),[o,a]=Cn(),[c,l]=v.useState(""),[u,d]=v.useState(!1),[h,p]=v.useState(!1),[f]=ut("templates","list"),[g,m]=rs(Yl()),b=v.useMemo(()=>g.name&&iT(g.authentication),[g.authentication,g.name]),x=L(async()=>{a.close(),u?t(g):n({id:c,name:g.name,icon:g.icon,authentication:g.authentication,group:g.group}),h&&s(g.id)}),T=L(w=>{m(j=>{j.name=w.name,j.icon=w.icon,j.group=w.group,j.authentication=w.values})});return v.useLayoutEffect(()=>{g.name.trim()||m(w=>{const j=e.map(I=>I.name),N=hu("New connection",j);w.name=N})},[g.name,e]),Pe("new-connection",({template:w})=>{d(!0),l(""),m(Yl()),p(!0),a.open(),w&&T(JSON.parse(w))}),Pe("edit-connection",({id:w,select:j})=>{const N=Yl(),I=e.find(C=>C.id===w);d(!1),l(w),m(I||N),p(!!j&&j!=="false"),a.open()}),i.jsx(Je,{opened:o,onClose:a.close,trapFocus:!1,size:520,children:i.jsxs(Kt,{onSubmit:x,children:[f.length>0&&i.jsx(et,{mb:"xl",p:"xs",children:i.jsxs(U,{children:[i.jsx(E,{ml:6,path:Md,color:"surreal.1",size:1.2}),i.jsx(_,{children:"Apply a connection template?"}),i.jsx(je,{}),i.jsxs(Y,{position:"bottom-start",transitionProps:{transition:"scale-y"},children:[i.jsx(Y.Target,{children:i.jsx(X,{color:"slate",variant:"light",rightSection:i.jsx(E,{path:Mr}),children:"Apply template"})}),i.jsx(Y.Dropdown,{children:i.jsx(B,{gap:4,children:f.map((w,j)=>i.jsxs(v.Fragment,{children:[i.jsx(Y.Item,{onClick:()=>T(w),miw:175,children:w.name}),j<f.length-1&&i.jsx(Ne,{})]},w.id))})})]})]})}),i.jsx(Ew,{value:g,onChange:m}),i.jsxs(U,{mt:"xl",children:[i.jsx(X,{color:"slate",variant:"light",onClick:a.close,children:"Close"}),i.jsx(je,{}),i.jsx(X,{type:"submit",variant:"gradient",disabled:!b,rightSection:i.jsx(E,{path:u?Ie:tn}),children:u?"Create":"Save"})]})]})})}const Ca="__ungrouped__";function HQ(){const[e,t]=nt(),{setActiveConnection:n,addConnectionGroup:s,updateConnectionGroup:r,removeConnectionGroup:o}=Se.getState(),[a,c]=Ee(""),l=Hd(),u=Rn(),d=Se(C=>C.connectionGroups),h=Se(C=>C.sandbox),p=L(()=>{t.close(),vt("new-connection")}),f=L(()=>{const{username:C,password:S,port:y}=Se.getState().settings.serving,k=JSON.stringify({name:"Local database",icon:0,values:{mode:"root",database:"",namespace:"",protocol:"ws",hostname:`localhost:${y}`,scope:"",scopeFields:[],access:"",token:"",username:C,password:S}});vt("new-connection",{template:k}),t.close()}),g=L(()=>{s({id:Ce(),name:`Group ${d.length+1}`})}),m=u?.id===Qc,b=v.useMemo(()=>d.toSorted((C,S)=>C.name.localeCompare(S.name)),[d]),x=v.useMemo(()=>l.toSorted((C,S)=>C.name.localeCompare(S.name)),[l]),[T,w]=v.useMemo(()=>{const C=x.filter(y=>Kn(a,y.name)||Kn(a,y.authentication.hostname));return[rT(C,y=>y.group??Ca)||{},[h,...C]]},[x,a,h]),j=L(C=>{n(C.id),t.close()}),[N,I]=Od(w,j,u?.id);return Pe("open-connections",({search:C})=>{C&&c(C),t.open()}),i.jsxs(Je,{opened:e,onClose:t.close,transitionProps:{transition:zd},centered:!1,size:"lg",onKeyDown:N,classNames:{content:ze.listingModal,body:ze.listingBody},children:[i.jsxs(G,{p:"lg",children:[i.jsxs(U,{mb:"xs",gap:"xs",c:"bright",children:[i.jsx(E,{path:Vi,size:"sm"}),i.jsx(_,{children:"Connections"})]}),i.jsxs(U,{children:[i.jsx(le,{flex:1,placeholder:"Search for connections...",variant:"unstyled",className:ze.listingSearch,autoFocus:!0,value:a,spellCheck:!1,onChange:c}),i.jsxs(Y,{position:"right-start",children:[i.jsx(Y.Target,{children:i.jsx(de,{"aria-label":"Add...",variant:"gradient",style:{backgroundOrigin:"border-box",border:"1px solid rgba(255, 255, 255, 0.3)"},size:36,radius:"md",children:i.jsx(E,{path:Ie})})}),i.jsxs(Y.Dropdown,{children:[i.jsx(Y.Item,{leftSection:i.jsx(E,{path:Ie}),onClick:p,children:"New connection"}),Fr&&i.jsx(Y.Item,{leftSection:i.jsx(E,{path:oT,noStroke:!0}),onClick:f,children:"New local connection"}),i.jsx(Y.Item,{leftSection:i.jsx(E,{path:aT}),onClick:g,children:"New group"})]})]})]})]}),i.jsx(Ne,{mx:"lg"}),i.jsx(Fe.Autosize,{scrollbars:"y",mah:"calc(100vh - 225px)",mih:64,children:i.jsxs(B,{gap:"xl",p:"lg",children:[i.jsx(Tt,{isActive:m,onClick:()=>j(h),leftSection:i.jsx(E,{path:$d}),"data-navigation-item-id":"sandbox",className:cn(I==="sandbox"&&ze.listingActive),children:i.jsx(_,{children:"Sandbox"})}),!T[Ca]&&!b.length&&i.jsx(_,{ta:"center",py:"md",c:"slate",my:"xl",children:"No connections created yet"}),b.map(C=>{const S=C.id===Ya;return i.jsx(_m,{connections:T[C.id]??[],active:u?.id??"",selected:I,onClose:t.close,onActivate:j,className:ze.connectionGroup,title:i.jsxs(i.Fragment,{children:[i.jsx(ub,{value:C.name,activationMode:S?"none":"click",withDecoration:!0,c:"bright",fz:"lg",fw:500,onChange:y=>r({id:C.id,name:y})}),i.jsx(je,{}),!S&&i.jsx(Me,{label:"Remove group",children:i.jsx(de,{className:ze.connectionGroupRemove,"aria-label":"Remove group",onClick:()=>o(C.id),variant:"subtle",size:"sm",children:i.jsx(E,{path:ts,size:"sm"})})})]})},C.id)}),T[Ca]&&i.jsx(_m,{connections:T[Ca],active:u?.id??"",selected:I,onClose:t.close,onActivate:j,title:i.jsx(_,{c:"bright",fz:"lg",fw:500,children:"Connections"})})]})})]})}function _m({title:e,connections:t,active:n,selected:s,className:r,onClose:o,onActivate:a}){return i.jsxs(G,{className:r,children:[i.jsx(U,{mb:4,children:e}),t.length===0?i.jsx(_,{c:"slate",ml:"sm",mt:"sm",children:"No connections"}):i.jsx(B,{gap:6,mih:10,children:t.map(c=>i.jsx(GQ,{connection:c,active:n,selected:s,onClose:o,onActivate:a},c.id))})]})}function GQ({connection:e,active:t,selected:n,onClose:s,onActivate:r,...o}){const{addConnection:a,removeConnection:c}=Se.getState(),[l,u]=v.useState(!1),d=e.group===Ya,h=e.id===t,p=L(()=>{r(e)}),f=L(b=>{b.stopPropagation(),s(),vt("edit-connection",{id:e.id})}),g=L(b=>{b.stopPropagation(),u(!0)}),m=_n({title:"Remove connection",message:"Are you sure you want to remove this connection?",skippable:!0,onConfirm(){c(e.id)}});return i.jsxs(Tt,{isActive:h,"data-navigation-item-id":e.id,className:cn(ze.connection,n===e.id&&ze.listingActive),onClick:p,leftSection:i.jsx(E,{path:fc[e.icon??0]}),rightSection:i.jsxs(Y,{opened:l,onChange:u,transitionProps:{transition:"scale-y"},children:[i.jsx(Y.Target,{children:i.jsx(de,{component:"div",variant:"transparent",onClick:g,"aria-label":"Connection options",children:i.jsx(E,{path:vr})})}),i.jsxs(Y.Dropdown,{onClick:ji,children:[i.jsx(Y.Item,{leftSection:i.jsx(E,{path:Fd}),onClick:f,children:"Edit details"}),i.jsx(Y.Item,{leftSection:i.jsx(E,{path:ui}),onClick:()=>{a({...e,lastNamespace:"",lastDatabase:"",group:d?void 0:e.group,id:Ce()})},children:"Duplicate"}),i.jsx(Y.Divider,{}),i.jsx(Y.Item,{leftSection:i.jsx(E,{path:ts,c:"red"}),onClick:m,disabled:d,c:"red",children:"Delete"})]})]}),...o,children:[i.jsx(_,{truncate:!0,children:e.name}),e.authentication.mode==="cloud"&&i.jsxs(on,{opacity:h?1:.5,ml:"xs",children:["| Surreal Cloud",i.jsx(E,{path:Mc,size:"sm",right:!0})]})]},e.id)}var kw={},Ps={};const YQ="Á",XQ="á",WQ="Ă",ZQ="ă",JQ="∾",KQ="∿",e2="∾̳",t2="Â",n2="â",s2="´",i2="А",r2="а",o2="Æ",a2="æ",c2="⁡",l2="𝔄",u2="𝔞",d2="À",h2="à",p2="ℵ",f2="ℵ",g2="Α",m2="α",b2="Ā",x2="ā",y2="⨿",v2="&",w2="&",S2="⩕",j2="⩓",T2="∧",E2="⩜",k2="⩘",O2="⩚",C2="∠",_2="⦤",N2="∠",I2="⦨",D2="⦩",R2="⦪",A2="⦫",P2="⦬",$2="⦭",L2="⦮",M2="⦯",F2="∡",q2="∟",Q2="⊾",V2="⦝",U2="∢",z2="Å",B2="⍼",H2="Ą",G2="ą",Y2="𝔸",X2="𝕒",W2="⩯",Z2="≈",J2="⩰",K2="≊",eV="≋",tV="'",nV="⁡",sV="≈",iV="≊",rV="Å",oV="å",aV="𝒜",cV="𝒶",lV="≔",uV="*",dV="≈",hV="≍",pV="Ã",fV="ã",gV="Ä",mV="ä",bV="∳",xV="⨑",yV="≌",vV="϶",wV="‵",SV="∽",jV="⋍",TV="∖",EV="⫧",kV="⊽",OV="⌅",CV="⌆",_V="⌅",NV="⎵",IV="⎶",DV="≌",RV="Б",AV="б",PV="„",$V="∵",LV="∵",MV="∵",FV="⦰",qV="϶",QV="ℬ",VV="ℬ",UV="Β",zV="β",BV="ℶ",HV="≬",GV="𝔅",YV="𝔟",XV="⋂",WV="◯",ZV="⋃",JV="⨀",KV="⨁",eU="⨂",tU="⨆",nU="★",sU="▽",iU="△",rU="⨄",oU="⋁",aU="⋀",cU="⤍",lU="⧫",uU="▪",dU="▴",hU="▾",pU="◂",fU="▸",gU="␣",mU="▒",bU="░",xU="▓",yU="█",vU="=⃥",wU="≡⃥",SU="⫭",jU="⌐",TU="𝔹",EU="𝕓",kU="⊥",OU="⊥",CU="⋈",_U="⧉",NU="┐",IU="╕",DU="╖",RU="╗",AU="┌",PU="╒",$U="╓",LU="╔",MU="─",FU="═",qU="┬",QU="╤",VU="╥",UU="╦",zU="┴",BU="╧",HU="╨",GU="╩",YU="⊟",XU="⊞",WU="⊠",ZU="┘",JU="╛",KU="╜",ez="╝",tz="└",nz="╘",sz="╙",iz="╚",rz="│",oz="║",az="┼",cz="╪",lz="╫",uz="╬",dz="┤",hz="╡",pz="╢",fz="╣",gz="├",mz="╞",bz="╟",xz="╠",yz="‵",vz="˘",wz="˘",Sz="¦",jz="𝒷",Tz="ℬ",Ez="⁏",kz="∽",Oz="⋍",Cz="⧅",_z="\\",Nz="⟈",Iz="•",Dz="•",Rz="≎",Az="⪮",Pz="≏",$z="≎",Lz="≏",Mz="Ć",Fz="ć",qz="⩄",Qz="⩉",Vz="⩋",Uz="∩",zz="⋒",Bz="⩇",Hz="⩀",Gz="ⅅ",Yz="∩︀",Xz="⁁",Wz="ˇ",Zz="ℭ",Jz="⩍",Kz="Č",eB="č",tB="Ç",nB="ç",sB="Ĉ",iB="ĉ",rB="∰",oB="⩌",aB="⩐",cB="Ċ",lB="ċ",uB="¸",dB="¸",hB="⦲",pB="¢",fB="·",gB="·",mB="𝔠",bB="ℭ",xB="Ч",yB="ч",vB="✓",wB="✓",SB="Χ",jB="χ",TB="ˆ",EB="≗",kB="↺",OB="↻",CB="⊛",_B="⊚",NB="⊝",IB="⊙",DB="®",RB="Ⓢ",AB="⊖",PB="⊕",$B="⊗",LB="○",MB="⧃",FB="≗",qB="⨐",QB="⫯",VB="⧂",UB="∲",zB="”",BB="’",HB="♣",GB="♣",YB=":",XB="∷",WB="⩴",ZB="≔",JB="≔",KB=",",e5="@",t5="∁",n5="∘",s5="∁",i5="ℂ",r5="≅",o5="⩭",a5="≡",c5="∮",l5="∯",u5="∮",d5="𝕔",h5="ℂ",p5="∐",f5="∐",g5="©",m5="©",b5="℗",x5="∳",y5="↵",v5="✗",w5="⨯",S5="𝒞",j5="𝒸",T5="⫏",E5="⫑",k5="⫐",O5="⫒",C5="⋯",_5="⤸",N5="⤵",I5="⋞",D5="⋟",R5="↶",A5="⤽",P5="⩈",$5="⩆",L5="≍",M5="∪",F5="⋓",q5="⩊",Q5="⊍",V5="⩅",U5="∪︀",z5="↷",B5="⤼",H5="⋞",G5="⋟",Y5="⋎",X5="⋏",W5="¤",Z5="↶",J5="↷",K5="⋎",e3="⋏",t3="∲",n3="∱",s3="⌭",i3="†",r3="‡",o3="ℸ",a3="↓",c3="↡",l3="⇓",u3="‐",d3="⫤",h3="⊣",p3="⤏",f3="˝",g3="Ď",m3="ď",b3="Д",x3="д",y3="‡",v3="⇊",w3="ⅅ",S3="ⅆ",j3="⤑",T3="⩷",E3="°",k3="∇",O3="Δ",C3="δ",_3="⦱",N3="⥿",I3="𝔇",D3="𝔡",R3="⥥",A3="⇃",P3="⇂",$3="´",L3="˙",M3="˝",F3="`",q3="˜",Q3="⋄",V3="⋄",U3="⋄",z3="♦",B3="♦",H3="¨",G3="ⅆ",Y3="ϝ",X3="⋲",W3="÷",Z3="÷",J3="⋇",K3="⋇",eH="Ђ",tH="ђ",nH="⌞",sH="⌍",iH="$",rH="𝔻",oH="𝕕",aH="¨",cH="˙",lH="⃜",uH="≐",dH="≑",hH="≐",pH="∸",fH="∔",gH="⊡",mH="⌆",bH="∯",xH="¨",yH="⇓",vH="⇐",wH="⇔",SH="⫤",jH="⟸",TH="⟺",EH="⟹",kH="⇒",OH="⊨",CH="⇑",_H="⇕",NH="∥",IH="⤓",DH="↓",RH="↓",AH="⇓",PH="⇵",$H="̑",LH="⇊",MH="⇃",FH="⇂",qH="⥐",QH="⥞",VH="⥖",UH="↽",zH="⥟",BH="⥗",HH="⇁",GH="↧",YH="⊤",XH="⤐",WH="⌟",ZH="⌌",JH="𝒟",KH="𝒹",e4="Ѕ",t4="ѕ",n4="⧶",s4="Đ",i4="đ",r4="⋱",o4="▿",a4="▾",c4="⇵",l4="⥯",u4="⦦",d4="Џ",h4="џ",p4="⟿",f4="É",g4="é",m4="⩮",b4="Ě",x4="ě",y4="Ê",v4="ê",w4="≖",S4="≕",j4="Э",T4="э",E4="⩷",k4="Ė",O4="ė",C4="≑",_4="ⅇ",N4="≒",I4="𝔈",D4="𝔢",R4="⪚",A4="È",P4="è",$4="⪖",L4="⪘",M4="⪙",F4="∈",q4="⏧",Q4="ℓ",V4="⪕",U4="⪗",z4="Ē",B4="ē",H4="∅",G4="∅",Y4="◻",X4="∅",W4="▫",Z4=" ",J4=" ",K4=" ",eG="Ŋ",tG="ŋ",nG=" ",sG="Ę",iG="ę",rG="𝔼",oG="𝕖",aG="⋕",cG="⧣",lG="⩱",uG="ε",dG="Ε",hG="ε",pG="ϵ",fG="≖",gG="≕",mG="≂",bG="⪖",xG="⪕",yG="⩵",vG="=",wG="≂",SG="≟",jG="⇌",TG="≡",EG="⩸",kG="⧥",OG="⥱",CG="≓",_G="ℯ",NG="ℰ",IG="≐",DG="⩳",RG="≂",AG="Η",PG="η",$G="Ð",LG="ð",MG="Ë",FG="ë",qG="€",QG="!",VG="∃",UG="∃",zG="ℰ",BG="ⅇ",HG="ⅇ",GG="≒",YG="Ф",XG="ф",WG="♀",ZG="ﬃ",JG="ﬀ",KG="ﬄ",eY="𝔉",tY="𝔣",nY="ﬁ",sY="◼",iY="▪",rY="fj",oY="♭",aY="ﬂ",cY="▱",lY="ƒ",uY="𝔽",dY="𝕗",hY="∀",pY="∀",fY="⋔",gY="⫙",mY="ℱ",bY="⨍",xY="½",yY="⅓",vY="¼",wY="⅕",SY="⅙",jY="⅛",TY="⅔",EY="⅖",kY="¾",OY="⅗",CY="⅜",_Y="⅘",NY="⅚",IY="⅝",DY="⅞",RY="⁄",AY="⌢",PY="𝒻",$Y="ℱ",LY="ǵ",MY="Γ",FY="γ",qY="Ϝ",QY="ϝ",VY="⪆",UY="Ğ",zY="ğ",BY="Ģ",HY="Ĝ",GY="ĝ",YY="Г",XY="г",WY="Ġ",ZY="ġ",JY="≥",KY="≧",eX="⪌",tX="⋛",nX="≥",sX="≧",iX="⩾",rX="⪩",oX="⩾",aX="⪀",cX="⪂",lX="⪄",uX="⋛︀",dX="⪔",hX="𝔊",pX="𝔤",fX="≫",gX="⋙",mX="⋙",bX="ℷ",xX="Ѓ",yX="ѓ",vX="⪥",wX="≷",SX="⪒",jX="⪤",TX="⪊",EX="⪊",kX="⪈",OX="≩",CX="⪈",_X="≩",NX="⋧",IX="𝔾",DX="𝕘",RX="`",AX="≥",PX="⋛",$X="≧",LX="⪢",MX="≷",FX="⩾",qX="≳",QX="𝒢",VX="ℊ",UX="≳",zX="⪎",BX="⪐",HX="⪧",GX="⩺",YX=">",XX=">",WX="≫",ZX="⋗",JX="⦕",KX="⩼",e6="⪆",t6="⥸",n6="⋗",s6="⋛",i6="⪌",r6="≷",o6="≳",a6="≩︀",c6="≩︀",l6="ˇ",u6=" ",d6="½",h6="ℋ",p6="Ъ",f6="ъ",g6="⥈",m6="↔",b6="⇔",x6="↭",y6="^",v6="ℏ",w6="Ĥ",S6="ĥ",j6="♥",T6="♥",E6="…",k6="⊹",O6="𝔥",C6="ℌ",_6="ℋ",N6="⤥",I6="⤦",D6="⇿",R6="∻",A6="↩",P6="↪",$6="𝕙",L6="ℍ",M6="―",F6="─",q6="𝒽",Q6="ℋ",V6="ℏ",U6="Ħ",z6="ħ",B6="≎",H6="≏",G6="⁃",Y6="‐",X6="Í",W6="í",Z6="⁣",J6="Î",K6="î",eW="И",tW="и",nW="İ",sW="Е",iW="е",rW="¡",oW="⇔",aW="𝔦",cW="ℑ",lW="Ì",uW="ì",dW="ⅈ",hW="⨌",pW="∭",fW="⧜",gW="℩",mW="Ĳ",bW="ĳ",xW="Ī",yW="ī",vW="ℑ",wW="ⅈ",SW="ℐ",jW="ℑ",TW="ı",EW="ℑ",kW="⊷",OW="Ƶ",CW="⇒",_W="℅",NW="∞",IW="⧝",DW="ı",RW="⊺",AW="∫",PW="∬",$W="ℤ",LW="∫",MW="⊺",FW="⋂",qW="⨗",QW="⨼",VW="⁣",UW="⁢",zW="Ё",BW="ё",HW="Į",GW="į",YW="𝕀",XW="𝕚",WW="Ι",ZW="ι",JW="⨼",KW="¿",e8="𝒾",t8="ℐ",n8="∈",s8="⋵",i8="⋹",r8="⋴",o8="⋳",a8="∈",c8="⁢",l8="Ĩ",u8="ĩ",d8="І",h8="і",p8="Ï",f8="ï",g8="Ĵ",m8="ĵ",b8="Й",x8="й",y8="𝔍",v8="𝔧",w8="ȷ",S8="𝕁",j8="𝕛",T8="𝒥",E8="𝒿",k8="Ј",O8="ј",C8="Є",_8="є",N8="Κ",I8="κ",D8="ϰ",R8="Ķ",A8="ķ",P8="К",$8="к",L8="𝔎",M8="𝔨",F8="ĸ",q8="Х",Q8="х",V8="Ќ",U8="ќ",z8="𝕂",B8="𝕜",H8="𝒦",G8="𝓀",Y8="⇚",X8="Ĺ",W8="ĺ",Z8="⦴",J8="ℒ",K8="Λ",e7="λ",t7="⟨",n7="⟪",s7="⦑",i7="⟨",r7="⪅",o7="ℒ",a7="«",c7="⇤",l7="⤟",u7="←",d7="↞",h7="⇐",p7="⤝",f7="↩",g7="↫",m7="⤹",b7="⥳",x7="↢",y7="⤙",v7="⤛",w7="⪫",S7="⪭",j7="⪭︀",T7="⤌",E7="⤎",k7="❲",O7="{",C7="[",_7="⦋",N7="⦏",I7="⦍",D7="Ľ",R7="ľ",A7="Ļ",P7="ļ",$7="⌈",L7="{",M7="Л",F7="л",q7="⤶",Q7="“",V7="„",U7="⥧",z7="⥋",B7="↲",H7="≤",G7="≦",Y7="⟨",X7="⇤",W7="←",Z7="←",J7="⇐",K7="⇆",eZ="↢",tZ="⌈",nZ="⟦",sZ="⥡",iZ="⥙",rZ="⇃",oZ="⌊",aZ="↽",cZ="↼",lZ="⇇",uZ="↔",dZ="↔",hZ="⇔",pZ="⇆",fZ="⇋",gZ="↭",mZ="⥎",bZ="↤",xZ="⊣",yZ="⥚",vZ="⋋",wZ="⧏",SZ="⊲",jZ="⊴",TZ="⥑",EZ="⥠",kZ="⥘",OZ="↿",CZ="⥒",_Z="↼",NZ="⪋",IZ="⋚",DZ="≤",RZ="≦",AZ="⩽",PZ="⪨",$Z="⩽",LZ="⩿",MZ="⪁",FZ="⪃",qZ="⋚︀",QZ="⪓",VZ="⪅",UZ="⋖",zZ="⋚",BZ="⪋",HZ="⋚",GZ="≦",YZ="≶",XZ="≶",WZ="⪡",ZZ="≲",JZ="⩽",KZ="≲",eJ="⥼",tJ="⌊",nJ="𝔏",sJ="𝔩",iJ="≶",rJ="⪑",oJ="⥢",aJ="↽",cJ="↼",lJ="⥪",uJ="▄",dJ="Љ",hJ="љ",pJ="⇇",fJ="≪",gJ="⋘",mJ="⌞",bJ="⇚",xJ="⥫",yJ="◺",vJ="Ŀ",wJ="ŀ",SJ="⎰",jJ="⎰",TJ="⪉",EJ="⪉",kJ="⪇",OJ="≨",CJ="⪇",_J="≨",NJ="⋦",IJ="⟬",DJ="⇽",RJ="⟦",AJ="⟵",PJ="⟵",$J="⟸",LJ="⟷",MJ="⟷",FJ="⟺",qJ="⟼",QJ="⟶",VJ="⟶",UJ="⟹",zJ="↫",BJ="↬",HJ="⦅",GJ="𝕃",YJ="𝕝",XJ="⨭",WJ="⨴",ZJ="∗",JJ="_",KJ="↙",eK="↘",tK="◊",nK="◊",sK="⧫",iK="(",rK="⦓",oK="⇆",aK="⌟",cK="⇋",lK="⥭",uK="‎",dK="⊿",hK="‹",pK="𝓁",fK="ℒ",gK="↰",mK="↰",bK="≲",xK="⪍",yK="⪏",vK="[",wK="‘",SK="‚",jK="Ł",TK="ł",EK="⪦",kK="⩹",OK="<",CK="<",_K="≪",NK="⋖",IK="⋋",DK="⋉",RK="⥶",AK="⩻",PK="◃",$K="⊴",LK="◂",MK="⦖",FK="⥊",qK="⥦",QK="≨︀",VK="≨︀",UK="¯",zK="♂",BK="✠",HK="✠",GK="↦",YK="↦",XK="↧",WK="↤",ZK="↥",JK="▮",KK="⨩",eee="М",tee="м",nee="—",see="∺",iee="∡",ree=" ",oee="ℳ",aee="𝔐",cee="𝔪",lee="℧",uee="µ",dee="*",hee="⫰",pee="∣",fee="·",gee="⊟",mee="−",bee="∸",xee="⨪",yee="∓",vee="⫛",wee="…",See="∓",jee="⊧",Tee="𝕄",Eee="𝕞",kee="∓",Oee="𝓂",Cee="ℳ",_ee="∾",Nee="Μ",Iee="μ",Dee="⊸",Ree="⊸",Aee="∇",Pee="Ń",$ee="ń",Lee="∠⃒",Mee="≉",Fee="⩰̸",qee="≋̸",Qee="ŉ",Vee="≉",Uee="♮",zee="ℕ",Bee="♮",Hee=" ",Gee="≎̸",Yee="≏̸",Xee="⩃",Wee="Ň",Zee="ň",Jee="Ņ",Kee="ņ",ete="≇",tte="⩭̸",nte="⩂",ste="Н",ite="н",rte="–",ote="⤤",ate="↗",cte="⇗",lte="↗",ute="≠",dte="≐̸",hte="​",pte="​",fte="​",gte="​",mte="≢",bte="⤨",xte="≂̸",yte="≫",vte="≪",wte=`
`,Ste="∄",jte="∄",Tte="𝔑",Ete="𝔫",kte="≧̸",Ote="≱",Cte="≱",_te="≧̸",Nte="⩾̸",Ite="⩾̸",Dte="⋙̸",Rte="≵",Ate="≫⃒",Pte="≯",$te="≯",Lte="≫̸",Mte="↮",Fte="⇎",qte="⫲",Qte="∋",Vte="⋼",Ute="⋺",zte="∋",Bte="Њ",Hte="њ",Gte="↚",Yte="⇍",Xte="‥",Wte="≦̸",Zte="≰",Jte="↚",Kte="⇍",ene="↮",tne="⇎",nne="≰",sne="≦̸",ine="⩽̸",rne="⩽̸",one="≮",ane="⋘̸",cne="≴",lne="≪⃒",une="≮",dne="⋪",hne="⋬",pne="≪̸",fne="∤",gne="⁠",mne=" ",bne="𝕟",xne="ℕ",yne="⫬",vne="¬",wne="≢",Sne="≭",jne="∦",Tne="∉",Ene="≠",kne="≂̸",One="∄",Cne="≯",_ne="≱",Nne="≧̸",Ine="≫̸",Dne="≹",Rne="⩾̸",Ane="≵",Pne="≎̸",$ne="≏̸",Lne="∉",Mne="⋵̸",Fne="⋹̸",qne="∉",Qne="⋷",Vne="⋶",Une="⧏̸",zne="⋪",Bne="⋬",Hne="≮",Gne="≰",Yne="≸",Xne="≪̸",Wne="⩽̸",Zne="≴",Jne="⪢̸",Kne="⪡̸",ese="∌",tse="∌",nse="⋾",sse="⋽",ise="⊀",rse="⪯̸",ose="⋠",ase="∌",cse="⧐̸",lse="⋫",use="⋭",dse="⊏̸",hse="⋢",pse="⊐̸",fse="⋣",gse="⊂⃒",mse="⊈",bse="⊁",xse="⪰̸",yse="⋡",vse="≿̸",wse="⊃⃒",Sse="⊉",jse="≁",Tse="≄",Ese="≇",kse="≉",Ose="∤",Cse="∦",_se="∦",Nse="⫽⃥",Ise="∂̸",Dse="⨔",Rse="⊀",Ase="⋠",Pse="⊀",$se="⪯̸",Lse="⪯̸",Mse="⤳̸",Fse="↛",qse="⇏",Qse="↝̸",Vse="↛",Use="⇏",zse="⋫",Bse="⋭",Hse="⊁",Gse="⋡",Yse="⪰̸",Xse="𝒩",Wse="𝓃",Zse="∤",Jse="∦",Kse="≁",eie="≄",tie="≄",nie="∤",sie="∦",iie="⋢",rie="⋣",oie="⊄",aie="⫅̸",cie="⊈",lie="⊂⃒",uie="⊈",die="⫅̸",hie="⊁",pie="⪰̸",fie="⊅",gie="⫆̸",mie="⊉",bie="⊃⃒",xie="⊉",yie="⫆̸",vie="≹",wie="Ñ",Sie="ñ",jie="≸",Tie="⋪",Eie="⋬",kie="⋫",Oie="⋭",Cie="Ν",_ie="ν",Nie="#",Iie="№",Die=" ",Rie="≍⃒",Aie="⊬",Pie="⊭",$ie="⊮",Lie="⊯",Mie="≥⃒",Fie=">⃒",qie="⤄",Qie="⧞",Vie="⤂",Uie="≤⃒",zie="<⃒",Bie="⊴⃒",Hie="⤃",Gie="⊵⃒",Yie="∼⃒",Xie="⤣",Wie="↖",Zie="⇖",Jie="↖",Kie="⤧",ere="Ó",tre="ó",nre="⊛",sre="Ô",ire="ô",rre="⊚",ore="О",are="о",cre="⊝",lre="Ő",ure="ő",dre="⨸",hre="⊙",pre="⦼",fre="Œ",gre="œ",mre="⦿",bre="𝔒",xre="𝔬",yre="˛",vre="Ò",wre="ò",Sre="⧁",jre="⦵",Tre="Ω",Ere="∮",kre="↺",Ore="⦾",Cre="⦻",_re="‾",Nre="⧀",Ire="Ō",Dre="ō",Rre="Ω",Are="ω",Pre="Ο",$re="ο",Lre="⦶",Mre="⊖",Fre="𝕆",qre="𝕠",Qre="⦷",Vre="“",Ure="‘",zre="⦹",Bre="⊕",Hre="↻",Gre="⩔",Yre="∨",Xre="⩝",Wre="ℴ",Zre="ℴ",Jre="ª",Kre="º",eoe="⊶",toe="⩖",noe="⩗",soe="⩛",ioe="Ⓢ",roe="𝒪",ooe="ℴ",aoe="Ø",coe="ø",loe="⊘",uoe="Õ",doe="õ",hoe="⨶",poe="⨷",foe="⊗",goe="Ö",moe="ö",boe="⌽",xoe="‾",yoe="⏞",voe="⎴",woe="⏜",Soe="¶",joe="∥",Toe="∥",Eoe="⫳",koe="⫽",Ooe="∂",Coe="∂",_oe="П",Noe="п",Ioe="%",Doe=".",Roe="‰",Aoe="⊥",Poe="‱",$oe="𝔓",Loe="𝔭",Moe="Φ",Foe="φ",qoe="ϕ",Qoe="ℳ",Voe="☎",Uoe="Π",zoe="π",Boe="⋔",Hoe="ϖ",Goe="ℏ",Yoe="ℎ",Xoe="ℏ",Woe="⨣",Zoe="⊞",Joe="⨢",Koe="+",eae="∔",tae="⨥",nae="⩲",sae="±",iae="±",rae="⨦",oae="⨧",aae="±",cae="ℌ",lae="⨕",uae="𝕡",dae="ℙ",hae="£",pae="⪷",fae="⪻",gae="≺",mae="≼",bae="⪷",xae="≺",yae="≼",vae="≺",wae="⪯",Sae="≼",jae="≾",Tae="⪯",Eae="⪹",kae="⪵",Oae="⋨",Cae="⪯",_ae="⪳",Nae="≾",Iae="′",Dae="″",Rae="ℙ",Aae="⪹",Pae="⪵",$ae="⋨",Lae="∏",Mae="∏",Fae="⌮",qae="⌒",Qae="⌓",Vae="∝",Uae="∝",zae="∷",Bae="∝",Hae="≾",Gae="⊰",Yae="𝒫",Xae="𝓅",Wae="Ψ",Zae="ψ",Jae=" ",Kae="𝔔",ece="𝔮",tce="⨌",nce="𝕢",sce="ℚ",ice="⁗",rce="𝒬",oce="𝓆",ace="ℍ",cce="⨖",lce="?",uce="≟",dce='"',hce='"',pce="⇛",fce="∽̱",gce="Ŕ",mce="ŕ",bce="√",xce="⦳",yce="⟩",vce="⟫",wce="⦒",Sce="⦥",jce="⟩",Tce="»",Ece="⥵",kce="⇥",Oce="⤠",Cce="⤳",_ce="→",Nce="↠",Ice="⇒",Dce="⤞",Rce="↪",Ace="↬",Pce="⥅",$ce="⥴",Lce="⤖",Mce="↣",Fce="↝",qce="⤚",Qce="⤜",Vce="∶",Uce="ℚ",zce="⤍",Bce="⤏",Hce="⤐",Gce="❳",Yce="}",Xce="]",Wce="⦌",Zce="⦎",Jce="⦐",Kce="Ř",ele="ř",tle="Ŗ",nle="ŗ",sle="⌉",ile="}",rle="Р",ole="р",ale="⤷",cle="⥩",lle="”",ule="”",dle="↳",hle="ℜ",ple="ℛ",fle="ℜ",gle="ℝ",mle="ℜ",ble="▭",xle="®",yle="®",vle="∋",wle="⇋",Sle="⥯",jle="⥽",Tle="⌋",Ele="𝔯",kle="ℜ",Ole="⥤",Cle="⇁",_le="⇀",Nle="⥬",Ile="Ρ",Dle="ρ",Rle="ϱ",Ale="⟩",Ple="⇥",$le="→",Lle="→",Mle="⇒",Fle="⇄",qle="↣",Qle="⌉",Vle="⟧",Ule="⥝",zle="⥕",Ble="⇂",Hle="⌋",Gle="⇁",Yle="⇀",Xle="⇄",Wle="⇌",Zle="⇉",Jle="↝",Kle="↦",eue="⊢",tue="⥛",nue="⋌",sue="⧐",iue="⊳",rue="⊵",oue="⥏",aue="⥜",cue="⥔",lue="↾",uue="⥓",due="⇀",hue="˚",pue="≓",fue="⇄",gue="⇌",mue="‏",bue="⎱",xue="⎱",yue="⫮",vue="⟭",wue="⇾",Sue="⟧",jue="⦆",Tue="𝕣",Eue="ℝ",kue="⨮",Oue="⨵",Cue="⥰",_ue=")",Nue="⦔",Iue="⨒",Due="⇉",Rue="⇛",Aue="›",Pue="𝓇",$ue="ℛ",Lue="↱",Mue="↱",Fue="]",que="’",Que="’",Vue="⋌",Uue="⋊",zue="▹",Bue="⊵",Hue="▸",Gue="⧎",Yue="⧴",Xue="⥨",Wue="℞",Zue="Ś",Jue="ś",Kue="‚",ede="⪸",tde="Š",nde="š",sde="⪼",ide="≻",rde="≽",ode="⪰",ade="⪴",cde="Ş",lde="ş",ude="Ŝ",dde="ŝ",hde="⪺",pde="⪶",fde="⋩",gde="⨓",mde="≿",bde="С",xde="с",yde="⊡",vde="⋅",wde="⩦",Sde="⤥",jde="↘",Tde="⇘",Ede="↘",kde="§",Ode=";",Cde="⤩",_de="∖",Nde="∖",Ide="✶",Dde="𝔖",Rde="𝔰",Ade="⌢",Pde="♯",$de="Щ",Lde="щ",Mde="Ш",Fde="ш",qde="↓",Qde="←",Vde="∣",Ude="∥",zde="→",Bde="↑",Hde="­",Gde="Σ",Yde="σ",Xde="ς",Wde="ς",Zde="∼",Jde="⩪",Kde="≃",ehe="≃",the="⪞",nhe="⪠",she="⪝",ihe="⪟",rhe="≆",ohe="⨤",ahe="⥲",che="←",lhe="∘",uhe="∖",dhe="⨳",hhe="⧤",phe="∣",fhe="⌣",ghe="⪪",mhe="⪬",bhe="⪬︀",xhe="Ь",yhe="ь",vhe="⌿",whe="⧄",She="/",jhe="𝕊",The="𝕤",Ehe="♠",khe="♠",Ohe="∥",Che="⊓",_he="⊓︀",Nhe="⊔",Ihe="⊔︀",Dhe="√",Rhe="⊏",Ahe="⊑",Phe="⊏",$he="⊑",Lhe="⊐",Mhe="⊒",Fhe="⊐",qhe="⊒",Qhe="□",Vhe="□",Uhe="⊓",zhe="⊏",Bhe="⊑",Hhe="⊐",Ghe="⊒",Yhe="⊔",Xhe="▪",Whe="□",Zhe="▪",Jhe="→",Khe="𝒮",epe="𝓈",tpe="∖",npe="⌣",spe="⋆",ipe="⋆",rpe="☆",ope="★",ape="ϵ",cpe="ϕ",lpe="¯",upe="⊂",dpe="⋐",hpe="⪽",ppe="⫅",fpe="⊆",gpe="⫃",mpe="⫁",bpe="⫋",xpe="⊊",ype="⪿",vpe="⥹",wpe="⊂",Spe="⋐",jpe="⊆",Tpe="⫅",Epe="⊆",kpe="⊊",Ope="⫋",Cpe="⫇",_pe="⫕",Npe="⫓",Ipe="⪸",Dpe="≻",Rpe="≽",Ape="≻",Ppe="⪰",$pe="≽",Lpe="≿",Mpe="⪰",Fpe="⪺",qpe="⪶",Qpe="⋩",Vpe="≿",Upe="∋",zpe="∑",Bpe="∑",Hpe="♪",Gpe="¹",Ype="²",Xpe="³",Wpe="⊃",Zpe="⋑",Jpe="⪾",Kpe="⫘",efe="⫆",tfe="⊇",nfe="⫄",sfe="⊃",ife="⊇",rfe="⟉",ofe="⫗",afe="⥻",cfe="⫂",lfe="⫌",ufe="⊋",dfe="⫀",hfe="⊃",pfe="⋑",ffe="⊇",gfe="⫆",mfe="⊋",bfe="⫌",xfe="⫈",yfe="⫔",vfe="⫖",wfe="⤦",Sfe="↙",jfe="⇙",Tfe="↙",Efe="⤪",kfe="ß",Ofe="	",Cfe="⌖",_fe="Τ",Nfe="τ",Ife="⎴",Dfe="Ť",Rfe="ť",Afe="Ţ",Pfe="ţ",$fe="Т",Lfe="т",Mfe="⃛",Ffe="⌕",qfe="𝔗",Qfe="𝔱",Vfe="∴",Ufe="∴",zfe="∴",Bfe="Θ",Hfe="θ",Gfe="ϑ",Yfe="ϑ",Xfe="≈",Wfe="∼",Zfe="  ",Jfe=" ",Kfe=" ",ege="≈",tge="∼",nge="Þ",sge="þ",ige="˜",rge="∼",oge="≃",age="≅",cge="≈",lge="⨱",uge="⊠",dge="×",hge="⨰",pge="∭",fge="⤨",gge="⌶",mge="⫱",bge="⊤",xge="𝕋",yge="𝕥",vge="⫚",wge="⤩",Sge="‴",jge="™",Tge="™",Ege="▵",kge="▿",Oge="◃",Cge="⊴",_ge="≜",Nge="▹",Ige="⊵",Dge="◬",Rge="≜",Age="⨺",Pge="⃛",$ge="⨹",Lge="⧍",Mge="⨻",Fge="⏢",qge="𝒯",Qge="𝓉",Vge="Ц",Uge="ц",zge="Ћ",Bge="ћ",Hge="Ŧ",Gge="ŧ",Yge="≬",Xge="↞",Wge="↠",Zge="Ú",Jge="ú",Kge="↑",eme="↟",tme="⇑",nme="⥉",sme="Ў",ime="ў",rme="Ŭ",ome="ŭ",ame="Û",cme="û",lme="У",ume="у",dme="⇅",hme="Ű",pme="ű",fme="⥮",gme="⥾",mme="𝔘",bme="𝔲",xme="Ù",yme="ù",vme="⥣",wme="↿",Sme="↾",jme="▀",Tme="⌜",Eme="⌜",kme="⌏",Ome="◸",Cme="Ū",_me="ū",Nme="¨",Ime="_",Dme="⏟",Rme="⎵",Ame="⏝",Pme="⋃",$me="⊎",Lme="Ų",Mme="ų",Fme="𝕌",qme="𝕦",Qme="⤒",Vme="↑",Ume="↑",zme="⇑",Bme="⇅",Hme="↕",Gme="↕",Yme="⇕",Xme="⥮",Wme="↿",Zme="↾",Jme="⊎",Kme="↖",ebe="↗",tbe="υ",nbe="ϒ",sbe="ϒ",ibe="Υ",rbe="υ",obe="↥",abe="⊥",cbe="⇈",lbe="⌝",ube="⌝",dbe="⌎",hbe="Ů",pbe="ů",fbe="◹",gbe="𝒰",mbe="𝓊",bbe="⋰",xbe="Ũ",ybe="ũ",vbe="▵",wbe="▴",Sbe="⇈",jbe="Ü",Tbe="ü",Ebe="⦧",kbe="⦜",Obe="ϵ",Cbe="ϰ",_be="∅",Nbe="ϕ",Ibe="ϖ",Dbe="∝",Rbe="↕",Abe="⇕",Pbe="ϱ",$be="ς",Lbe="⊊︀",Mbe="⫋︀",Fbe="⊋︀",qbe="⫌︀",Qbe="ϑ",Vbe="⊲",Ube="⊳",zbe="⫨",Bbe="⫫",Hbe="⫩",Gbe="В",Ybe="в",Xbe="⊢",Wbe="⊨",Zbe="⊩",Jbe="⊫",Kbe="⫦",exe="⊻",txe="∨",nxe="⋁",sxe="≚",ixe="⋮",rxe="|",oxe="‖",axe="|",cxe="‖",lxe="∣",uxe="|",dxe="❘",hxe="≀",pxe=" ",fxe="𝔙",gxe="𝔳",mxe="⊲",bxe="⊂⃒",xxe="⊃⃒",yxe="𝕍",vxe="𝕧",wxe="∝",Sxe="⊳",jxe="𝒱",Txe="𝓋",Exe="⫋︀",kxe="⊊︀",Oxe="⫌︀",Cxe="⊋︀",_xe="⊪",Nxe="⦚",Ixe="Ŵ",Dxe="ŵ",Rxe="⩟",Axe="∧",Pxe="⋀",$xe="≙",Lxe="℘",Mxe="𝔚",Fxe="𝔴",qxe="𝕎",Qxe="𝕨",Vxe="℘",Uxe="≀",zxe="≀",Bxe="𝒲",Hxe="𝓌",Gxe="⋂",Yxe="◯",Xxe="⋃",Wxe="▽",Zxe="𝔛",Jxe="𝔵",Kxe="⟷",eye="⟺",tye="Ξ",nye="ξ",sye="⟵",iye="⟸",rye="⟼",oye="⋻",aye="⨀",cye="𝕏",lye="𝕩",uye="⨁",dye="⨂",hye="⟶",pye="⟹",fye="𝒳",gye="𝓍",mye="⨆",bye="⨄",xye="△",yye="⋁",vye="⋀",wye="Ý",Sye="ý",jye="Я",Tye="я",Eye="Ŷ",kye="ŷ",Oye="Ы",Cye="ы",_ye="¥",Nye="𝔜",Iye="𝔶",Dye="Ї",Rye="ї",Aye="𝕐",Pye="𝕪",$ye="𝒴",Lye="𝓎",Mye="Ю",Fye="ю",qye="ÿ",Qye="Ÿ",Vye="Ź",Uye="ź",zye="Ž",Bye="ž",Hye="З",Gye="з",Yye="Ż",Xye="ż",Wye="ℨ",Zye="​",Jye="Ζ",Kye="ζ",eve="𝔷",tve="ℨ",nve="Ж",sve="ж",ive="⇝",rve="𝕫",ove="ℤ",ave="𝒵",cve="𝓏",lve="‍",uve="‌",Ow={Aacute:YQ,aacute:XQ,Abreve:WQ,abreve:ZQ,ac:JQ,acd:KQ,acE:e2,Acirc:t2,acirc:n2,acute:s2,Acy:i2,acy:r2,AElig:o2,aelig:a2,af:c2,Afr:l2,afr:u2,Agrave:d2,agrave:h2,alefsym:p2,aleph:f2,Alpha:g2,alpha:m2,Amacr:b2,amacr:x2,amalg:y2,amp:v2,AMP:w2,andand:S2,And:j2,and:T2,andd:E2,andslope:k2,andv:O2,ang:C2,ange:_2,angle:N2,angmsdaa:I2,angmsdab:D2,angmsdac:R2,angmsdad:A2,angmsdae:P2,angmsdaf:$2,angmsdag:L2,angmsdah:M2,angmsd:F2,angrt:q2,angrtvb:Q2,angrtvbd:V2,angsph:U2,angst:z2,angzarr:B2,Aogon:H2,aogon:G2,Aopf:Y2,aopf:X2,apacir:W2,ap:Z2,apE:J2,ape:K2,apid:eV,apos:tV,ApplyFunction:nV,approx:sV,approxeq:iV,Aring:rV,aring:oV,Ascr:aV,ascr:cV,Assign:lV,ast:uV,asymp:dV,asympeq:hV,Atilde:pV,atilde:fV,Auml:gV,auml:mV,awconint:bV,awint:xV,backcong:yV,backepsilon:vV,backprime:wV,backsim:SV,backsimeq:jV,Backslash:TV,Barv:EV,barvee:kV,barwed:OV,Barwed:CV,barwedge:_V,bbrk:NV,bbrktbrk:IV,bcong:DV,Bcy:RV,bcy:AV,bdquo:PV,becaus:$V,because:LV,Because:MV,bemptyv:FV,bepsi:qV,bernou:QV,Bernoullis:VV,Beta:UV,beta:zV,beth:BV,between:HV,Bfr:GV,bfr:YV,bigcap:XV,bigcirc:WV,bigcup:ZV,bigodot:JV,bigoplus:KV,bigotimes:eU,bigsqcup:tU,bigstar:nU,bigtriangledown:sU,bigtriangleup:iU,biguplus:rU,bigvee:oU,bigwedge:aU,bkarow:cU,blacklozenge:lU,blacksquare:uU,blacktriangle:dU,blacktriangledown:hU,blacktriangleleft:pU,blacktriangleright:fU,blank:gU,blk12:mU,blk14:bU,blk34:xU,block:yU,bne:vU,bnequiv:wU,bNot:SU,bnot:jU,Bopf:TU,bopf:EU,bot:kU,bottom:OU,bowtie:CU,boxbox:_U,boxdl:NU,boxdL:IU,boxDl:DU,boxDL:RU,boxdr:AU,boxdR:PU,boxDr:$U,boxDR:LU,boxh:MU,boxH:FU,boxhd:qU,boxHd:QU,boxhD:VU,boxHD:UU,boxhu:zU,boxHu:BU,boxhU:HU,boxHU:GU,boxminus:YU,boxplus:XU,boxtimes:WU,boxul:ZU,boxuL:JU,boxUl:KU,boxUL:ez,boxur:tz,boxuR:nz,boxUr:sz,boxUR:iz,boxv:rz,boxV:oz,boxvh:az,boxvH:cz,boxVh:lz,boxVH:uz,boxvl:dz,boxvL:hz,boxVl:pz,boxVL:fz,boxvr:gz,boxvR:mz,boxVr:bz,boxVR:xz,bprime:yz,breve:vz,Breve:wz,brvbar:Sz,bscr:jz,Bscr:Tz,bsemi:Ez,bsim:kz,bsime:Oz,bsolb:Cz,bsol:_z,bsolhsub:Nz,bull:Iz,bullet:Dz,bump:Rz,bumpE:Az,bumpe:Pz,Bumpeq:$z,bumpeq:Lz,Cacute:Mz,cacute:Fz,capand:qz,capbrcup:Qz,capcap:Vz,cap:Uz,Cap:zz,capcup:Bz,capdot:Hz,CapitalDifferentialD:Gz,caps:Yz,caret:Xz,caron:Wz,Cayleys:Zz,ccaps:Jz,Ccaron:Kz,ccaron:eB,Ccedil:tB,ccedil:nB,Ccirc:sB,ccirc:iB,Cconint:rB,ccups:oB,ccupssm:aB,Cdot:cB,cdot:lB,cedil:uB,Cedilla:dB,cemptyv:hB,cent:pB,centerdot:fB,CenterDot:gB,cfr:mB,Cfr:bB,CHcy:xB,chcy:yB,check:vB,checkmark:wB,Chi:SB,chi:jB,circ:TB,circeq:EB,circlearrowleft:kB,circlearrowright:OB,circledast:CB,circledcirc:_B,circleddash:NB,CircleDot:IB,circledR:DB,circledS:RB,CircleMinus:AB,CirclePlus:PB,CircleTimes:$B,cir:LB,cirE:MB,cire:FB,cirfnint:qB,cirmid:QB,cirscir:VB,ClockwiseContourIntegral:UB,CloseCurlyDoubleQuote:zB,CloseCurlyQuote:BB,clubs:HB,clubsuit:GB,colon:YB,Colon:XB,Colone:WB,colone:ZB,coloneq:JB,comma:KB,commat:e5,comp:t5,compfn:n5,complement:s5,complexes:i5,cong:r5,congdot:o5,Congruent:a5,conint:c5,Conint:l5,ContourIntegral:u5,copf:d5,Copf:h5,coprod:p5,Coproduct:f5,copy:g5,COPY:m5,copysr:b5,CounterClockwiseContourIntegral:x5,crarr:y5,cross:v5,Cross:w5,Cscr:S5,cscr:j5,csub:T5,csube:E5,csup:k5,csupe:O5,ctdot:C5,cudarrl:_5,cudarrr:N5,cuepr:I5,cuesc:D5,cularr:R5,cularrp:A5,cupbrcap:P5,cupcap:$5,CupCap:L5,cup:M5,Cup:F5,cupcup:q5,cupdot:Q5,cupor:V5,cups:U5,curarr:z5,curarrm:B5,curlyeqprec:H5,curlyeqsucc:G5,curlyvee:Y5,curlywedge:X5,curren:W5,curvearrowleft:Z5,curvearrowright:J5,cuvee:K5,cuwed:e3,cwconint:t3,cwint:n3,cylcty:s3,dagger:i3,Dagger:r3,daleth:o3,darr:a3,Darr:c3,dArr:l3,dash:u3,Dashv:d3,dashv:h3,dbkarow:p3,dblac:f3,Dcaron:g3,dcaron:m3,Dcy:b3,dcy:x3,ddagger:y3,ddarr:v3,DD:w3,dd:S3,DDotrahd:j3,ddotseq:T3,deg:E3,Del:k3,Delta:O3,delta:C3,demptyv:_3,dfisht:N3,Dfr:I3,dfr:D3,dHar:R3,dharl:A3,dharr:P3,DiacriticalAcute:$3,DiacriticalDot:L3,DiacriticalDoubleAcute:M3,DiacriticalGrave:F3,DiacriticalTilde:q3,diam:Q3,diamond:V3,Diamond:U3,diamondsuit:z3,diams:B3,die:H3,DifferentialD:G3,digamma:Y3,disin:X3,div:W3,divide:Z3,divideontimes:J3,divonx:K3,DJcy:eH,djcy:tH,dlcorn:nH,dlcrop:sH,dollar:iH,Dopf:rH,dopf:oH,Dot:aH,dot:cH,DotDot:lH,doteq:uH,doteqdot:dH,DotEqual:hH,dotminus:pH,dotplus:fH,dotsquare:gH,doublebarwedge:mH,DoubleContourIntegral:bH,DoubleDot:xH,DoubleDownArrow:yH,DoubleLeftArrow:vH,DoubleLeftRightArrow:wH,DoubleLeftTee:SH,DoubleLongLeftArrow:jH,DoubleLongLeftRightArrow:TH,DoubleLongRightArrow:EH,DoubleRightArrow:kH,DoubleRightTee:OH,DoubleUpArrow:CH,DoubleUpDownArrow:_H,DoubleVerticalBar:NH,DownArrowBar:IH,downarrow:DH,DownArrow:RH,Downarrow:AH,DownArrowUpArrow:PH,DownBreve:$H,downdownarrows:LH,downharpoonleft:MH,downharpoonright:FH,DownLeftRightVector:qH,DownLeftTeeVector:QH,DownLeftVectorBar:VH,DownLeftVector:UH,DownRightTeeVector:zH,DownRightVectorBar:BH,DownRightVector:HH,DownTeeArrow:GH,DownTee:YH,drbkarow:XH,drcorn:WH,drcrop:ZH,Dscr:JH,dscr:KH,DScy:e4,dscy:t4,dsol:n4,Dstrok:s4,dstrok:i4,dtdot:r4,dtri:o4,dtrif:a4,duarr:c4,duhar:l4,dwangle:u4,DZcy:d4,dzcy:h4,dzigrarr:p4,Eacute:f4,eacute:g4,easter:m4,Ecaron:b4,ecaron:x4,Ecirc:y4,ecirc:v4,ecir:w4,ecolon:S4,Ecy:j4,ecy:T4,eDDot:E4,Edot:k4,edot:O4,eDot:C4,ee:_4,efDot:N4,Efr:I4,efr:D4,eg:R4,Egrave:A4,egrave:P4,egs:$4,egsdot:L4,el:M4,Element:F4,elinters:q4,ell:Q4,els:V4,elsdot:U4,Emacr:z4,emacr:B4,empty:H4,emptyset:G4,EmptySmallSquare:Y4,emptyv:X4,EmptyVerySmallSquare:W4,emsp13:Z4,emsp14:J4,emsp:K4,ENG:eG,eng:tG,ensp:nG,Eogon:sG,eogon:iG,Eopf:rG,eopf:oG,epar:aG,eparsl:cG,eplus:lG,epsi:uG,Epsilon:dG,epsilon:hG,epsiv:pG,eqcirc:fG,eqcolon:gG,eqsim:mG,eqslantgtr:bG,eqslantless:xG,Equal:yG,equals:vG,EqualTilde:wG,equest:SG,Equilibrium:jG,equiv:TG,equivDD:EG,eqvparsl:kG,erarr:OG,erDot:CG,escr:_G,Escr:NG,esdot:IG,Esim:DG,esim:RG,Eta:AG,eta:PG,ETH:$G,eth:LG,Euml:MG,euml:FG,euro:qG,excl:QG,exist:VG,Exists:UG,expectation:zG,exponentiale:BG,ExponentialE:HG,fallingdotseq:GG,Fcy:YG,fcy:XG,female:WG,ffilig:ZG,fflig:JG,ffllig:KG,Ffr:eY,ffr:tY,filig:nY,FilledSmallSquare:sY,FilledVerySmallSquare:iY,fjlig:rY,flat:oY,fllig:aY,fltns:cY,fnof:lY,Fopf:uY,fopf:dY,forall:hY,ForAll:pY,fork:fY,forkv:gY,Fouriertrf:mY,fpartint:bY,frac12:xY,frac13:yY,frac14:vY,frac15:wY,frac16:SY,frac18:jY,frac23:TY,frac25:EY,frac34:kY,frac35:OY,frac38:CY,frac45:_Y,frac56:NY,frac58:IY,frac78:DY,frasl:RY,frown:AY,fscr:PY,Fscr:$Y,gacute:LY,Gamma:MY,gamma:FY,Gammad:qY,gammad:QY,gap:VY,Gbreve:UY,gbreve:zY,Gcedil:BY,Gcirc:HY,gcirc:GY,Gcy:YY,gcy:XY,Gdot:WY,gdot:ZY,ge:JY,gE:KY,gEl:eX,gel:tX,geq:nX,geqq:sX,geqslant:iX,gescc:rX,ges:oX,gesdot:aX,gesdoto:cX,gesdotol:lX,gesl:uX,gesles:dX,Gfr:hX,gfr:pX,gg:fX,Gg:gX,ggg:mX,gimel:bX,GJcy:xX,gjcy:yX,gla:vX,gl:wX,glE:SX,glj:jX,gnap:TX,gnapprox:EX,gne:kX,gnE:OX,gneq:CX,gneqq:_X,gnsim:NX,Gopf:IX,gopf:DX,grave:RX,GreaterEqual:AX,GreaterEqualLess:PX,GreaterFullEqual:$X,GreaterGreater:LX,GreaterLess:MX,GreaterSlantEqual:FX,GreaterTilde:qX,Gscr:QX,gscr:VX,gsim:UX,gsime:zX,gsiml:BX,gtcc:HX,gtcir:GX,gt:YX,GT:XX,Gt:WX,gtdot:ZX,gtlPar:JX,gtquest:KX,gtrapprox:e6,gtrarr:t6,gtrdot:n6,gtreqless:s6,gtreqqless:i6,gtrless:r6,gtrsim:o6,gvertneqq:a6,gvnE:c6,Hacek:l6,hairsp:u6,half:d6,hamilt:h6,HARDcy:p6,hardcy:f6,harrcir:g6,harr:m6,hArr:b6,harrw:x6,Hat:y6,hbar:v6,Hcirc:w6,hcirc:S6,hearts:j6,heartsuit:T6,hellip:E6,hercon:k6,hfr:O6,Hfr:C6,HilbertSpace:_6,hksearow:N6,hkswarow:I6,hoarr:D6,homtht:R6,hookleftarrow:A6,hookrightarrow:P6,hopf:$6,Hopf:L6,horbar:M6,HorizontalLine:F6,hscr:q6,Hscr:Q6,hslash:V6,Hstrok:U6,hstrok:z6,HumpDownHump:B6,HumpEqual:H6,hybull:G6,hyphen:Y6,Iacute:X6,iacute:W6,ic:Z6,Icirc:J6,icirc:K6,Icy:eW,icy:tW,Idot:nW,IEcy:sW,iecy:iW,iexcl:rW,iff:oW,ifr:aW,Ifr:cW,Igrave:lW,igrave:uW,ii:dW,iiiint:hW,iiint:pW,iinfin:fW,iiota:gW,IJlig:mW,ijlig:bW,Imacr:xW,imacr:yW,image:vW,ImaginaryI:wW,imagline:SW,imagpart:jW,imath:TW,Im:EW,imof:kW,imped:OW,Implies:CW,incare:_W,in:"∈",infin:NW,infintie:IW,inodot:DW,intcal:RW,int:AW,Int:PW,integers:$W,Integral:LW,intercal:MW,Intersection:FW,intlarhk:qW,intprod:QW,InvisibleComma:VW,InvisibleTimes:UW,IOcy:zW,iocy:BW,Iogon:HW,iogon:GW,Iopf:YW,iopf:XW,Iota:WW,iota:ZW,iprod:JW,iquest:KW,iscr:e8,Iscr:t8,isin:n8,isindot:s8,isinE:i8,isins:r8,isinsv:o8,isinv:a8,it:c8,Itilde:l8,itilde:u8,Iukcy:d8,iukcy:h8,Iuml:p8,iuml:f8,Jcirc:g8,jcirc:m8,Jcy:b8,jcy:x8,Jfr:y8,jfr:v8,jmath:w8,Jopf:S8,jopf:j8,Jscr:T8,jscr:E8,Jsercy:k8,jsercy:O8,Jukcy:C8,jukcy:_8,Kappa:N8,kappa:I8,kappav:D8,Kcedil:R8,kcedil:A8,Kcy:P8,kcy:$8,Kfr:L8,kfr:M8,kgreen:F8,KHcy:q8,khcy:Q8,KJcy:V8,kjcy:U8,Kopf:z8,kopf:B8,Kscr:H8,kscr:G8,lAarr:Y8,Lacute:X8,lacute:W8,laemptyv:Z8,lagran:J8,Lambda:K8,lambda:e7,lang:t7,Lang:n7,langd:s7,langle:i7,lap:r7,Laplacetrf:o7,laquo:a7,larrb:c7,larrbfs:l7,larr:u7,Larr:d7,lArr:h7,larrfs:p7,larrhk:f7,larrlp:g7,larrpl:m7,larrsim:b7,larrtl:x7,latail:y7,lAtail:v7,lat:w7,late:S7,lates:j7,lbarr:T7,lBarr:E7,lbbrk:k7,lbrace:O7,lbrack:C7,lbrke:_7,lbrksld:N7,lbrkslu:I7,Lcaron:D7,lcaron:R7,Lcedil:A7,lcedil:P7,lceil:$7,lcub:L7,Lcy:M7,lcy:F7,ldca:q7,ldquo:Q7,ldquor:V7,ldrdhar:U7,ldrushar:z7,ldsh:B7,le:H7,lE:G7,LeftAngleBracket:Y7,LeftArrowBar:X7,leftarrow:W7,LeftArrow:Z7,Leftarrow:J7,LeftArrowRightArrow:K7,leftarrowtail:eZ,LeftCeiling:tZ,LeftDoubleBracket:nZ,LeftDownTeeVector:sZ,LeftDownVectorBar:iZ,LeftDownVector:rZ,LeftFloor:oZ,leftharpoondown:aZ,leftharpoonup:cZ,leftleftarrows:lZ,leftrightarrow:uZ,LeftRightArrow:dZ,Leftrightarrow:hZ,leftrightarrows:pZ,leftrightharpoons:fZ,leftrightsquigarrow:gZ,LeftRightVector:mZ,LeftTeeArrow:bZ,LeftTee:xZ,LeftTeeVector:yZ,leftthreetimes:vZ,LeftTriangleBar:wZ,LeftTriangle:SZ,LeftTriangleEqual:jZ,LeftUpDownVector:TZ,LeftUpTeeVector:EZ,LeftUpVectorBar:kZ,LeftUpVector:OZ,LeftVectorBar:CZ,LeftVector:_Z,lEg:NZ,leg:IZ,leq:DZ,leqq:RZ,leqslant:AZ,lescc:PZ,les:$Z,lesdot:LZ,lesdoto:MZ,lesdotor:FZ,lesg:qZ,lesges:QZ,lessapprox:VZ,lessdot:UZ,lesseqgtr:zZ,lesseqqgtr:BZ,LessEqualGreater:HZ,LessFullEqual:GZ,LessGreater:YZ,lessgtr:XZ,LessLess:WZ,lesssim:ZZ,LessSlantEqual:JZ,LessTilde:KZ,lfisht:eJ,lfloor:tJ,Lfr:nJ,lfr:sJ,lg:iJ,lgE:rJ,lHar:oJ,lhard:aJ,lharu:cJ,lharul:lJ,lhblk:uJ,LJcy:dJ,ljcy:hJ,llarr:pJ,ll:fJ,Ll:gJ,llcorner:mJ,Lleftarrow:bJ,llhard:xJ,lltri:yJ,Lmidot:vJ,lmidot:wJ,lmoustache:SJ,lmoust:jJ,lnap:TJ,lnapprox:EJ,lne:kJ,lnE:OJ,lneq:CJ,lneqq:_J,lnsim:NJ,loang:IJ,loarr:DJ,lobrk:RJ,longleftarrow:AJ,LongLeftArrow:PJ,Longleftarrow:$J,longleftrightarrow:LJ,LongLeftRightArrow:MJ,Longleftrightarrow:FJ,longmapsto:qJ,longrightarrow:QJ,LongRightArrow:VJ,Longrightarrow:UJ,looparrowleft:zJ,looparrowright:BJ,lopar:HJ,Lopf:GJ,lopf:YJ,loplus:XJ,lotimes:WJ,lowast:ZJ,lowbar:JJ,LowerLeftArrow:KJ,LowerRightArrow:eK,loz:tK,lozenge:nK,lozf:sK,lpar:iK,lparlt:rK,lrarr:oK,lrcorner:aK,lrhar:cK,lrhard:lK,lrm:uK,lrtri:dK,lsaquo:hK,lscr:pK,Lscr:fK,lsh:gK,Lsh:mK,lsim:bK,lsime:xK,lsimg:yK,lsqb:vK,lsquo:wK,lsquor:SK,Lstrok:jK,lstrok:TK,ltcc:EK,ltcir:kK,lt:OK,LT:CK,Lt:_K,ltdot:NK,lthree:IK,ltimes:DK,ltlarr:RK,ltquest:AK,ltri:PK,ltrie:$K,ltrif:LK,ltrPar:MK,lurdshar:FK,luruhar:qK,lvertneqq:QK,lvnE:VK,macr:UK,male:zK,malt:BK,maltese:HK,Map:"⤅",map:GK,mapsto:YK,mapstodown:XK,mapstoleft:WK,mapstoup:ZK,marker:JK,mcomma:KK,Mcy:eee,mcy:tee,mdash:nee,mDDot:see,measuredangle:iee,MediumSpace:ree,Mellintrf:oee,Mfr:aee,mfr:cee,mho:lee,micro:uee,midast:dee,midcir:hee,mid:pee,middot:fee,minusb:gee,minus:mee,minusd:bee,minusdu:xee,MinusPlus:yee,mlcp:vee,mldr:wee,mnplus:See,models:jee,Mopf:Tee,mopf:Eee,mp:kee,mscr:Oee,Mscr:Cee,mstpos:_ee,Mu:Nee,mu:Iee,multimap:Dee,mumap:Ree,nabla:Aee,Nacute:Pee,nacute:$ee,nang:Lee,nap:Mee,napE:Fee,napid:qee,napos:Qee,napprox:Vee,natural:Uee,naturals:zee,natur:Bee,nbsp:Hee,nbump:Gee,nbumpe:Yee,ncap:Xee,Ncaron:Wee,ncaron:Zee,Ncedil:Jee,ncedil:Kee,ncong:ete,ncongdot:tte,ncup:nte,Ncy:ste,ncy:ite,ndash:rte,nearhk:ote,nearr:ate,neArr:cte,nearrow:lte,ne:ute,nedot:dte,NegativeMediumSpace:hte,NegativeThickSpace:pte,NegativeThinSpace:fte,NegativeVeryThinSpace:gte,nequiv:mte,nesear:bte,nesim:xte,NestedGreaterGreater:yte,NestedLessLess:vte,NewLine:wte,nexist:Ste,nexists:jte,Nfr:Tte,nfr:Ete,ngE:kte,nge:Ote,ngeq:Cte,ngeqq:_te,ngeqslant:Nte,nges:Ite,nGg:Dte,ngsim:Rte,nGt:Ate,ngt:Pte,ngtr:$te,nGtv:Lte,nharr:Mte,nhArr:Fte,nhpar:qte,ni:Qte,nis:Vte,nisd:Ute,niv:zte,NJcy:Bte,njcy:Hte,nlarr:Gte,nlArr:Yte,nldr:Xte,nlE:Wte,nle:Zte,nleftarrow:Jte,nLeftarrow:Kte,nleftrightarrow:ene,nLeftrightarrow:tne,nleq:nne,nleqq:sne,nleqslant:ine,nles:rne,nless:one,nLl:ane,nlsim:cne,nLt:lne,nlt:une,nltri:dne,nltrie:hne,nLtv:pne,nmid:fne,NoBreak:gne,NonBreakingSpace:mne,nopf:bne,Nopf:xne,Not:yne,not:vne,NotCongruent:wne,NotCupCap:Sne,NotDoubleVerticalBar:jne,NotElement:Tne,NotEqual:Ene,NotEqualTilde:kne,NotExists:One,NotGreater:Cne,NotGreaterEqual:_ne,NotGreaterFullEqual:Nne,NotGreaterGreater:Ine,NotGreaterLess:Dne,NotGreaterSlantEqual:Rne,NotGreaterTilde:Ane,NotHumpDownHump:Pne,NotHumpEqual:$ne,notin:Lne,notindot:Mne,notinE:Fne,notinva:qne,notinvb:Qne,notinvc:Vne,NotLeftTriangleBar:Une,NotLeftTriangle:zne,NotLeftTriangleEqual:Bne,NotLess:Hne,NotLessEqual:Gne,NotLessGreater:Yne,NotLessLess:Xne,NotLessSlantEqual:Wne,NotLessTilde:Zne,NotNestedGreaterGreater:Jne,NotNestedLessLess:Kne,notni:ese,notniva:tse,notnivb:nse,notnivc:sse,NotPrecedes:ise,NotPrecedesEqual:rse,NotPrecedesSlantEqual:ose,NotReverseElement:ase,NotRightTriangleBar:cse,NotRightTriangle:lse,NotRightTriangleEqual:use,NotSquareSubset:dse,NotSquareSubsetEqual:hse,NotSquareSuperset:pse,NotSquareSupersetEqual:fse,NotSubset:gse,NotSubsetEqual:mse,NotSucceeds:bse,NotSucceedsEqual:xse,NotSucceedsSlantEqual:yse,NotSucceedsTilde:vse,NotSuperset:wse,NotSupersetEqual:Sse,NotTilde:jse,NotTildeEqual:Tse,NotTildeFullEqual:Ese,NotTildeTilde:kse,NotVerticalBar:Ose,nparallel:Cse,npar:_se,nparsl:Nse,npart:Ise,npolint:Dse,npr:Rse,nprcue:Ase,nprec:Pse,npreceq:$se,npre:Lse,nrarrc:Mse,nrarr:Fse,nrArr:qse,nrarrw:Qse,nrightarrow:Vse,nRightarrow:Use,nrtri:zse,nrtrie:Bse,nsc:Hse,nsccue:Gse,nsce:Yse,Nscr:Xse,nscr:Wse,nshortmid:Zse,nshortparallel:Jse,nsim:Kse,nsime:eie,nsimeq:tie,nsmid:nie,nspar:sie,nsqsube:iie,nsqsupe:rie,nsub:oie,nsubE:aie,nsube:cie,nsubset:lie,nsubseteq:uie,nsubseteqq:die,nsucc:hie,nsucceq:pie,nsup:fie,nsupE:gie,nsupe:mie,nsupset:bie,nsupseteq:xie,nsupseteqq:yie,ntgl:vie,Ntilde:wie,ntilde:Sie,ntlg:jie,ntriangleleft:Tie,ntrianglelefteq:Eie,ntriangleright:kie,ntrianglerighteq:Oie,Nu:Cie,nu:_ie,num:Nie,numero:Iie,numsp:Die,nvap:Rie,nvdash:Aie,nvDash:Pie,nVdash:$ie,nVDash:Lie,nvge:Mie,nvgt:Fie,nvHarr:qie,nvinfin:Qie,nvlArr:Vie,nvle:Uie,nvlt:zie,nvltrie:Bie,nvrArr:Hie,nvrtrie:Gie,nvsim:Yie,nwarhk:Xie,nwarr:Wie,nwArr:Zie,nwarrow:Jie,nwnear:Kie,Oacute:ere,oacute:tre,oast:nre,Ocirc:sre,ocirc:ire,ocir:rre,Ocy:ore,ocy:are,odash:cre,Odblac:lre,odblac:ure,odiv:dre,odot:hre,odsold:pre,OElig:fre,oelig:gre,ofcir:mre,Ofr:bre,ofr:xre,ogon:yre,Ograve:vre,ograve:wre,ogt:Sre,ohbar:jre,ohm:Tre,oint:Ere,olarr:kre,olcir:Ore,olcross:Cre,oline:_re,olt:Nre,Omacr:Ire,omacr:Dre,Omega:Rre,omega:Are,Omicron:Pre,omicron:$re,omid:Lre,ominus:Mre,Oopf:Fre,oopf:qre,opar:Qre,OpenCurlyDoubleQuote:Vre,OpenCurlyQuote:Ure,operp:zre,oplus:Bre,orarr:Hre,Or:Gre,or:Yre,ord:Xre,order:Wre,orderof:Zre,ordf:Jre,ordm:Kre,origof:eoe,oror:toe,orslope:noe,orv:soe,oS:ioe,Oscr:roe,oscr:ooe,Oslash:aoe,oslash:coe,osol:loe,Otilde:uoe,otilde:doe,otimesas:hoe,Otimes:poe,otimes:foe,Ouml:goe,ouml:moe,ovbar:boe,OverBar:xoe,OverBrace:yoe,OverBracket:voe,OverParenthesis:woe,para:Soe,parallel:joe,par:Toe,parsim:Eoe,parsl:koe,part:Ooe,PartialD:Coe,Pcy:_oe,pcy:Noe,percnt:Ioe,period:Doe,permil:Roe,perp:Aoe,pertenk:Poe,Pfr:$oe,pfr:Loe,Phi:Moe,phi:Foe,phiv:qoe,phmmat:Qoe,phone:Voe,Pi:Uoe,pi:zoe,pitchfork:Boe,piv:Hoe,planck:Goe,planckh:Yoe,plankv:Xoe,plusacir:Woe,plusb:Zoe,pluscir:Joe,plus:Koe,plusdo:eae,plusdu:tae,pluse:nae,PlusMinus:sae,plusmn:iae,plussim:rae,plustwo:oae,pm:aae,Poincareplane:cae,pointint:lae,popf:uae,Popf:dae,pound:hae,prap:pae,Pr:fae,pr:gae,prcue:mae,precapprox:bae,prec:xae,preccurlyeq:yae,Precedes:vae,PrecedesEqual:wae,PrecedesSlantEqual:Sae,PrecedesTilde:jae,preceq:Tae,precnapprox:Eae,precneqq:kae,precnsim:Oae,pre:Cae,prE:_ae,precsim:Nae,prime:Iae,Prime:Dae,primes:Rae,prnap:Aae,prnE:Pae,prnsim:$ae,prod:Lae,Product:Mae,profalar:Fae,profline:qae,profsurf:Qae,prop:Vae,Proportional:Uae,Proportion:zae,propto:Bae,prsim:Hae,prurel:Gae,Pscr:Yae,pscr:Xae,Psi:Wae,psi:Zae,puncsp:Jae,Qfr:Kae,qfr:ece,qint:tce,qopf:nce,Qopf:sce,qprime:ice,Qscr:rce,qscr:oce,quaternions:ace,quatint:cce,quest:lce,questeq:uce,quot:dce,QUOT:hce,rAarr:pce,race:fce,Racute:gce,racute:mce,radic:bce,raemptyv:xce,rang:yce,Rang:vce,rangd:wce,range:Sce,rangle:jce,raquo:Tce,rarrap:Ece,rarrb:kce,rarrbfs:Oce,rarrc:Cce,rarr:_ce,Rarr:Nce,rArr:Ice,rarrfs:Dce,rarrhk:Rce,rarrlp:Ace,rarrpl:Pce,rarrsim:$ce,Rarrtl:Lce,rarrtl:Mce,rarrw:Fce,ratail:qce,rAtail:Qce,ratio:Vce,rationals:Uce,rbarr:zce,rBarr:Bce,RBarr:Hce,rbbrk:Gce,rbrace:Yce,rbrack:Xce,rbrke:Wce,rbrksld:Zce,rbrkslu:Jce,Rcaron:Kce,rcaron:ele,Rcedil:tle,rcedil:nle,rceil:sle,rcub:ile,Rcy:rle,rcy:ole,rdca:ale,rdldhar:cle,rdquo:lle,rdquor:ule,rdsh:dle,real:hle,realine:ple,realpart:fle,reals:gle,Re:mle,rect:ble,reg:xle,REG:yle,ReverseElement:vle,ReverseEquilibrium:wle,ReverseUpEquilibrium:Sle,rfisht:jle,rfloor:Tle,rfr:Ele,Rfr:kle,rHar:Ole,rhard:Cle,rharu:_le,rharul:Nle,Rho:Ile,rho:Dle,rhov:Rle,RightAngleBracket:Ale,RightArrowBar:Ple,rightarrow:$le,RightArrow:Lle,Rightarrow:Mle,RightArrowLeftArrow:Fle,rightarrowtail:qle,RightCeiling:Qle,RightDoubleBracket:Vle,RightDownTeeVector:Ule,RightDownVectorBar:zle,RightDownVector:Ble,RightFloor:Hle,rightharpoondown:Gle,rightharpoonup:Yle,rightleftarrows:Xle,rightleftharpoons:Wle,rightrightarrows:Zle,rightsquigarrow:Jle,RightTeeArrow:Kle,RightTee:eue,RightTeeVector:tue,rightthreetimes:nue,RightTriangleBar:sue,RightTriangle:iue,RightTriangleEqual:rue,RightUpDownVector:oue,RightUpTeeVector:aue,RightUpVectorBar:cue,RightUpVector:lue,RightVectorBar:uue,RightVector:due,ring:hue,risingdotseq:pue,rlarr:fue,rlhar:gue,rlm:mue,rmoustache:bue,rmoust:xue,rnmid:yue,roang:vue,roarr:wue,robrk:Sue,ropar:jue,ropf:Tue,Ropf:Eue,roplus:kue,rotimes:Oue,RoundImplies:Cue,rpar:_ue,rpargt:Nue,rppolint:Iue,rrarr:Due,Rrightarrow:Rue,rsaquo:Aue,rscr:Pue,Rscr:$ue,rsh:Lue,Rsh:Mue,rsqb:Fue,rsquo:que,rsquor:Que,rthree:Vue,rtimes:Uue,rtri:zue,rtrie:Bue,rtrif:Hue,rtriltri:Gue,RuleDelayed:Yue,ruluhar:Xue,rx:Wue,Sacute:Zue,sacute:Jue,sbquo:Kue,scap:ede,Scaron:tde,scaron:nde,Sc:sde,sc:ide,sccue:rde,sce:ode,scE:ade,Scedil:cde,scedil:lde,Scirc:ude,scirc:dde,scnap:hde,scnE:pde,scnsim:fde,scpolint:gde,scsim:mde,Scy:bde,scy:xde,sdotb:yde,sdot:vde,sdote:wde,searhk:Sde,searr:jde,seArr:Tde,searrow:Ede,sect:kde,semi:Ode,seswar:Cde,setminus:_de,setmn:Nde,sext:Ide,Sfr:Dde,sfr:Rde,sfrown:Ade,sharp:Pde,SHCHcy:$de,shchcy:Lde,SHcy:Mde,shcy:Fde,ShortDownArrow:qde,ShortLeftArrow:Qde,shortmid:Vde,shortparallel:Ude,ShortRightArrow:zde,ShortUpArrow:Bde,shy:Hde,Sigma:Gde,sigma:Yde,sigmaf:Xde,sigmav:Wde,sim:Zde,simdot:Jde,sime:Kde,simeq:ehe,simg:the,simgE:nhe,siml:she,simlE:ihe,simne:rhe,simplus:ohe,simrarr:ahe,slarr:che,SmallCircle:lhe,smallsetminus:uhe,smashp:dhe,smeparsl:hhe,smid:phe,smile:fhe,smt:ghe,smte:mhe,smtes:bhe,SOFTcy:xhe,softcy:yhe,solbar:vhe,solb:whe,sol:She,Sopf:jhe,sopf:The,spades:Ehe,spadesuit:khe,spar:Ohe,sqcap:Che,sqcaps:_he,sqcup:Nhe,sqcups:Ihe,Sqrt:Dhe,sqsub:Rhe,sqsube:Ahe,sqsubset:Phe,sqsubseteq:$he,sqsup:Lhe,sqsupe:Mhe,sqsupset:Fhe,sqsupseteq:qhe,square:Qhe,Square:Vhe,SquareIntersection:Uhe,SquareSubset:zhe,SquareSubsetEqual:Bhe,SquareSuperset:Hhe,SquareSupersetEqual:Ghe,SquareUnion:Yhe,squarf:Xhe,squ:Whe,squf:Zhe,srarr:Jhe,Sscr:Khe,sscr:epe,ssetmn:tpe,ssmile:npe,sstarf:spe,Star:ipe,star:rpe,starf:ope,straightepsilon:ape,straightphi:cpe,strns:lpe,sub:upe,Sub:dpe,subdot:hpe,subE:ppe,sube:fpe,subedot:gpe,submult:mpe,subnE:bpe,subne:xpe,subplus:ype,subrarr:vpe,subset:wpe,Subset:Spe,subseteq:jpe,subseteqq:Tpe,SubsetEqual:Epe,subsetneq:kpe,subsetneqq:Ope,subsim:Cpe,subsub:_pe,subsup:Npe,succapprox:Ipe,succ:Dpe,succcurlyeq:Rpe,Succeeds:Ape,SucceedsEqual:Ppe,SucceedsSlantEqual:$pe,SucceedsTilde:Lpe,succeq:Mpe,succnapprox:Fpe,succneqq:qpe,succnsim:Qpe,succsim:Vpe,SuchThat:Upe,sum:zpe,Sum:Bpe,sung:Hpe,sup1:Gpe,sup2:Ype,sup3:Xpe,sup:Wpe,Sup:Zpe,supdot:Jpe,supdsub:Kpe,supE:efe,supe:tfe,supedot:nfe,Superset:sfe,SupersetEqual:ife,suphsol:rfe,suphsub:ofe,suplarr:afe,supmult:cfe,supnE:lfe,supne:ufe,supplus:dfe,supset:hfe,Supset:pfe,supseteq:ffe,supseteqq:gfe,supsetneq:mfe,supsetneqq:bfe,supsim:xfe,supsub:yfe,supsup:vfe,swarhk:wfe,swarr:Sfe,swArr:jfe,swarrow:Tfe,swnwar:Efe,szlig:kfe,Tab:Ofe,target:Cfe,Tau:_fe,tau:Nfe,tbrk:Ife,Tcaron:Dfe,tcaron:Rfe,Tcedil:Afe,tcedil:Pfe,Tcy:$fe,tcy:Lfe,tdot:Mfe,telrec:Ffe,Tfr:qfe,tfr:Qfe,there4:Vfe,therefore:Ufe,Therefore:zfe,Theta:Bfe,theta:Hfe,thetasym:Gfe,thetav:Yfe,thickapprox:Xfe,thicksim:Wfe,ThickSpace:Zfe,ThinSpace:Jfe,thinsp:Kfe,thkap:ege,thksim:tge,THORN:nge,thorn:sge,tilde:ige,Tilde:rge,TildeEqual:oge,TildeFullEqual:age,TildeTilde:cge,timesbar:lge,timesb:uge,times:dge,timesd:hge,tint:pge,toea:fge,topbot:gge,topcir:mge,top:bge,Topf:xge,topf:yge,topfork:vge,tosa:wge,tprime:Sge,trade:jge,TRADE:Tge,triangle:Ege,triangledown:kge,triangleleft:Oge,trianglelefteq:Cge,triangleq:_ge,triangleright:Nge,trianglerighteq:Ige,tridot:Dge,trie:Rge,triminus:Age,TripleDot:Pge,triplus:$ge,trisb:Lge,tritime:Mge,trpezium:Fge,Tscr:qge,tscr:Qge,TScy:Vge,tscy:Uge,TSHcy:zge,tshcy:Bge,Tstrok:Hge,tstrok:Gge,twixt:Yge,twoheadleftarrow:Xge,twoheadrightarrow:Wge,Uacute:Zge,uacute:Jge,uarr:Kge,Uarr:eme,uArr:tme,Uarrocir:nme,Ubrcy:sme,ubrcy:ime,Ubreve:rme,ubreve:ome,Ucirc:ame,ucirc:cme,Ucy:lme,ucy:ume,udarr:dme,Udblac:hme,udblac:pme,udhar:fme,ufisht:gme,Ufr:mme,ufr:bme,Ugrave:xme,ugrave:yme,uHar:vme,uharl:wme,uharr:Sme,uhblk:jme,ulcorn:Tme,ulcorner:Eme,ulcrop:kme,ultri:Ome,Umacr:Cme,umacr:_me,uml:Nme,UnderBar:Ime,UnderBrace:Dme,UnderBracket:Rme,UnderParenthesis:Ame,Union:Pme,UnionPlus:$me,Uogon:Lme,uogon:Mme,Uopf:Fme,uopf:qme,UpArrowBar:Qme,uparrow:Vme,UpArrow:Ume,Uparrow:zme,UpArrowDownArrow:Bme,updownarrow:Hme,UpDownArrow:Gme,Updownarrow:Yme,UpEquilibrium:Xme,upharpoonleft:Wme,upharpoonright:Zme,uplus:Jme,UpperLeftArrow:Kme,UpperRightArrow:ebe,upsi:tbe,Upsi:nbe,upsih:sbe,Upsilon:ibe,upsilon:rbe,UpTeeArrow:obe,UpTee:abe,upuparrows:cbe,urcorn:lbe,urcorner:ube,urcrop:dbe,Uring:hbe,uring:pbe,urtri:fbe,Uscr:gbe,uscr:mbe,utdot:bbe,Utilde:xbe,utilde:ybe,utri:vbe,utrif:wbe,uuarr:Sbe,Uuml:jbe,uuml:Tbe,uwangle:Ebe,vangrt:kbe,varepsilon:Obe,varkappa:Cbe,varnothing:_be,varphi:Nbe,varpi:Ibe,varpropto:Dbe,varr:Rbe,vArr:Abe,varrho:Pbe,varsigma:$be,varsubsetneq:Lbe,varsubsetneqq:Mbe,varsupsetneq:Fbe,varsupsetneqq:qbe,vartheta:Qbe,vartriangleleft:Vbe,vartriangleright:Ube,vBar:zbe,Vbar:Bbe,vBarv:Hbe,Vcy:Gbe,vcy:Ybe,vdash:Xbe,vDash:Wbe,Vdash:Zbe,VDash:Jbe,Vdashl:Kbe,veebar:exe,vee:txe,Vee:nxe,veeeq:sxe,vellip:ixe,verbar:rxe,Verbar:oxe,vert:axe,Vert:cxe,VerticalBar:lxe,VerticalLine:uxe,VerticalSeparator:dxe,VerticalTilde:hxe,VeryThinSpace:pxe,Vfr:fxe,vfr:gxe,vltri:mxe,vnsub:bxe,vnsup:xxe,Vopf:yxe,vopf:vxe,vprop:wxe,vrtri:Sxe,Vscr:jxe,vscr:Txe,vsubnE:Exe,vsubne:kxe,vsupnE:Oxe,vsupne:Cxe,Vvdash:_xe,vzigzag:Nxe,Wcirc:Ixe,wcirc:Dxe,wedbar:Rxe,wedge:Axe,Wedge:Pxe,wedgeq:$xe,weierp:Lxe,Wfr:Mxe,wfr:Fxe,Wopf:qxe,wopf:Qxe,wp:Vxe,wr:Uxe,wreath:zxe,Wscr:Bxe,wscr:Hxe,xcap:Gxe,xcirc:Yxe,xcup:Xxe,xdtri:Wxe,Xfr:Zxe,xfr:Jxe,xharr:Kxe,xhArr:eye,Xi:tye,xi:nye,xlarr:sye,xlArr:iye,xmap:rye,xnis:oye,xodot:aye,Xopf:cye,xopf:lye,xoplus:uye,xotime:dye,xrarr:hye,xrArr:pye,Xscr:fye,xscr:gye,xsqcup:mye,xuplus:bye,xutri:xye,xvee:yye,xwedge:vye,Yacute:wye,yacute:Sye,YAcy:jye,yacy:Tye,Ycirc:Eye,ycirc:kye,Ycy:Oye,ycy:Cye,yen:_ye,Yfr:Nye,yfr:Iye,YIcy:Dye,yicy:Rye,Yopf:Aye,yopf:Pye,Yscr:$ye,yscr:Lye,YUcy:Mye,yucy:Fye,yuml:qye,Yuml:Qye,Zacute:Vye,zacute:Uye,Zcaron:zye,zcaron:Bye,Zcy:Hye,zcy:Gye,Zdot:Yye,zdot:Xye,zeetrf:Wye,ZeroWidthSpace:Zye,Zeta:Jye,zeta:Kye,zfr:eve,Zfr:tve,ZHcy:nve,zhcy:sve,zigrarr:ive,zopf:rve,Zopf:ove,Zscr:ave,zscr:cve,zwj:lve,zwnj:uve},dve="Á",hve="á",pve="Â",fve="â",gve="´",mve="Æ",bve="æ",xve="À",yve="à",vve="&",wve="&",Sve="Å",jve="å",Tve="Ã",Eve="ã",kve="Ä",Ove="ä",Cve="¦",_ve="Ç",Nve="ç",Ive="¸",Dve="¢",Rve="©",Ave="©",Pve="¤",$ve="°",Lve="÷",Mve="É",Fve="é",qve="Ê",Qve="ê",Vve="È",Uve="è",zve="Ð",Bve="ð",Hve="Ë",Gve="ë",Yve="½",Xve="¼",Wve="¾",Zve=">",Jve=">",Kve="Í",ewe="í",twe="Î",nwe="î",swe="¡",iwe="Ì",rwe="ì",owe="¿",awe="Ï",cwe="ï",lwe="«",uwe="<",dwe="<",hwe="¯",pwe="µ",fwe="·",gwe=" ",mwe="¬",bwe="Ñ",xwe="ñ",ywe="Ó",vwe="ó",wwe="Ô",Swe="ô",jwe="Ò",Twe="ò",Ewe="ª",kwe="º",Owe="Ø",Cwe="ø",_we="Õ",Nwe="õ",Iwe="Ö",Dwe="ö",Rwe="¶",Awe="±",Pwe="£",$we='"',Lwe='"',Mwe="»",Fwe="®",qwe="®",Qwe="§",Vwe="­",Uwe="¹",zwe="²",Bwe="³",Hwe="ß",Gwe="Þ",Ywe="þ",Xwe="×",Wwe="Ú",Zwe="ú",Jwe="Û",Kwe="û",e0e="Ù",t0e="ù",n0e="¨",s0e="Ü",i0e="ü",r0e="Ý",o0e="ý",a0e="¥",c0e="ÿ",l0e={Aacute:dve,aacute:hve,Acirc:pve,acirc:fve,acute:gve,AElig:mve,aelig:bve,Agrave:xve,agrave:yve,amp:vve,AMP:wve,Aring:Sve,aring:jve,Atilde:Tve,atilde:Eve,Auml:kve,auml:Ove,brvbar:Cve,Ccedil:_ve,ccedil:Nve,cedil:Ive,cent:Dve,copy:Rve,COPY:Ave,curren:Pve,deg:$ve,divide:Lve,Eacute:Mve,eacute:Fve,Ecirc:qve,ecirc:Qve,Egrave:Vve,egrave:Uve,ETH:zve,eth:Bve,Euml:Hve,euml:Gve,frac12:Yve,frac14:Xve,frac34:Wve,gt:Zve,GT:Jve,Iacute:Kve,iacute:ewe,Icirc:twe,icirc:nwe,iexcl:swe,Igrave:iwe,igrave:rwe,iquest:owe,Iuml:awe,iuml:cwe,laquo:lwe,lt:uwe,LT:dwe,macr:hwe,micro:pwe,middot:fwe,nbsp:gwe,not:mwe,Ntilde:bwe,ntilde:xwe,Oacute:ywe,oacute:vwe,Ocirc:wwe,ocirc:Swe,Ograve:jwe,ograve:Twe,ordf:Ewe,ordm:kwe,Oslash:Owe,oslash:Cwe,Otilde:_we,otilde:Nwe,Ouml:Iwe,ouml:Dwe,para:Rwe,plusmn:Awe,pound:Pwe,quot:$we,QUOT:Lwe,raquo:Mwe,reg:Fwe,REG:qwe,sect:Qwe,shy:Vwe,sup1:Uwe,sup2:zwe,sup3:Bwe,szlig:Hwe,THORN:Gwe,thorn:Ywe,times:Xwe,Uacute:Wwe,uacute:Zwe,Ucirc:Jwe,ucirc:Kwe,Ugrave:e0e,ugrave:t0e,uml:n0e,Uuml:s0e,uuml:i0e,Yacute:r0e,yacute:o0e,yen:a0e,yuml:c0e},u0e="&",d0e="'",h0e=">",p0e="<",f0e='"',Cw={amp:u0e,apos:d0e,gt:h0e,lt:p0e,quot:f0e};var Bh={};const g0e={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376};var m0e=Ii&&Ii.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bh,"__esModule",{value:!0});var Nm=m0e(g0e),b0e=String.fromCodePoint||function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function x0e(e){return e>=55296&&e<=57343||e>1114111?"�":(e in Nm.default&&(e=Nm.default[e]),b0e(e))}Bh.default=x0e;var gl=Ii&&Ii.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.decodeHTML=Ps.decodeHTMLStrict=Ps.decodeXML=void 0;var bd=gl(Ow),y0e=gl(l0e),v0e=gl(Cw),Im=gl(Bh),w0e=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;Ps.decodeXML=_w(v0e.default);Ps.decodeHTMLStrict=_w(bd.default);function _w(e){var t=Nw(e);return function(n){return String(n).replace(w0e,t)}}var Dm=function(e,t){return e<t?1:-1};Ps.decodeHTML=function(){for(var e=Object.keys(y0e.default).sort(Dm),t=Object.keys(bd.default).sort(Dm),n=0,s=0;n<t.length;n++)e[s]===t[n]?(t[n]+=";?",s++):t[n]+=";";var r=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),o=Nw(bd.default);function a(c){return c.substr(-1)!==";"&&(c+=";"),o(c)}return function(c){return String(c).replace(r,a)}}();function Nw(e){return function(n){if(n.charAt(1)==="#"){var s=n.charAt(2);return s==="X"||s==="x"?Im.default(parseInt(n.substr(3),16)):Im.default(parseInt(n.substr(2),10))}return e[n.slice(1,-1)]||n}}var En={},Iw=Ii&&Ii.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(En,"__esModule",{value:!0});En.escapeUTF8=En.escape=En.encodeNonAsciiHTML=En.encodeHTML=En.encodeXML=void 0;var S0e=Iw(Cw),Dw=Aw(S0e.default),Rw=Pw(Dw);En.encodeXML=Mw(Dw);var j0e=Iw(Ow),Hh=Aw(j0e.default),T0e=Pw(Hh);En.encodeHTML=k0e(Hh,T0e);En.encodeNonAsciiHTML=Mw(Hh);function Aw(e){return Object.keys(e).sort().reduce(function(t,n){return t[e[n]]="&"+n+";",t},{})}function Pw(e){for(var t=[],n=[],s=0,r=Object.keys(e);s<r.length;s++){var o=r[s];o.length===1?t.push("\\"+o):n.push(o)}t.sort();for(var a=0;a<t.length-1;a++){for(var c=a;c<t.length-1&&t[c].charCodeAt(1)+1===t[c+1].charCodeAt(1);)c+=1;var l=1+c-a;l<3||t.splice(a,l,t[a]+"-"+t[c])}return n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}var $w=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,E0e=String.prototype.codePointAt!=null?function(e){return e.codePointAt(0)}:function(e){return(e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)-56320+65536};function ml(e){return"&#x"+(e.length>1?E0e(e):e.charCodeAt(0)).toString(16).toUpperCase()+";"}function k0e(e,t){return function(n){return n.replace(t,function(s){return e[s]}).replace($w,ml)}}var Lw=new RegExp(Rw.source+"|"+$w.source,"g");function O0e(e){return e.replace(Lw,ml)}En.escape=O0e;function C0e(e){return e.replace(Rw,ml)}En.escapeUTF8=C0e;function Mw(e){return function(t){return t.replace(Lw,function(n){return e[n]||ml(n)})}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.encodeHTML5=e.encodeHTML4=e.escapeUTF8=e.escape=e.encodeNonAsciiHTML=e.encodeHTML=e.encodeXML=e.encode=e.decodeStrict=e.decode=void 0;var t=Ps,n=En;function s(l,u){return(!u||u<=0?t.decodeXML:t.decodeHTML)(l)}e.decode=s;function r(l,u){return(!u||u<=0?t.decodeXML:t.decodeHTMLStrict)(l)}e.decodeStrict=r;function o(l,u){return(!u||u<=0?n.encodeXML:n.encodeHTML)(l)}e.encode=o;var a=En;Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return a.encodeXML}}),Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return a.encodeNonAsciiHTML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return a.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return a.escapeUTF8}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return a.encodeHTML}});var c=Ps;Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return c.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return c.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return c.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return c.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return c.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return c.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return c.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return c.decodeXML}})})(kw);function _0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N0e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function I0e(e,t,n){return t&&N0e(e.prototype,t),e}function Fw(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=D0e(e))||t){n&&(e=n);var s=0,r=function(){};return{s:r,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,c;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,c=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(a)throw c}}}}function D0e(e,t){if(e){if(typeof e=="string")return Rm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rm(e,t)}}function Rm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var R0e=kw,Am={fg:"#FFF",bg:"#000",newline:!1,escapeXML:!1,stream:!1,colors:A0e()};function A0e(){var e={0:"#000",1:"#A00",2:"#0A0",3:"#A50",4:"#00A",5:"#A0A",6:"#0AA",7:"#AAA",8:"#555",9:"#F55",10:"#5F5",11:"#FF5",12:"#55F",13:"#F5F",14:"#5FF",15:"#FFF"};return _a(0,5).forEach(function(t){_a(0,5).forEach(function(n){_a(0,5).forEach(function(s){return P0e(t,n,s,e)})})}),_a(0,23).forEach(function(t){var n=t+232,s=qw(t*10+8);e[n]="#"+s+s+s}),e}function P0e(e,t,n,s){var r=16+e*36+t*6+n,o=e>0?e*40+55:0,a=t>0?t*40+55:0,c=n>0?n*40+55:0;s[r]=$0e([o,a,c])}function qw(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return t}function $0e(e){var t=[],n=Fw(e),s;try{for(n.s();!(s=n.n()).done;){var r=s.value;t.push(qw(r))}}catch(o){n.e(o)}finally{n.f()}return"#"+t.join("")}function Pm(e,t,n,s){var r;return t==="text"?r=q0e(n,s):t==="display"?r=M0e(e,n,s):t==="xterm256Foreground"?r=Qa(e,s.colors[n]):t==="xterm256Background"?r=Va(e,s.colors[n]):t==="rgb"&&(r=L0e(e,n)),r}function L0e(e,t){t=t.substring(2).slice(0,-1);var n=+t.substr(0,2),s=t.substring(5).split(";"),r=s.map(function(o){return("0"+Number(o).toString(16)).substr(-2)}).join("");return qa(e,(n===38?"color:#":"background-color:#")+r)}function M0e(e,t,n){t=parseInt(t,10);var s={"-1":function(){return"<br/>"},0:function(){return e.length&&Qw(e)},1:function(){return Ws(e,"b")},3:function(){return Ws(e,"i")},4:function(){return Ws(e,"u")},8:function(){return qa(e,"display:none")},9:function(){return Ws(e,"strike")},22:function(){return qa(e,"font-weight:normal;text-decoration:none;font-style:normal")},23:function(){return Lm(e,"i")},24:function(){return Lm(e,"u")},39:function(){return Qa(e,n.fg)},49:function(){return Va(e,n.bg)},53:function(){return qa(e,"text-decoration:overline")}},r;return s[t]?r=s[t]():4<t&&t<7?r=Ws(e,"blink"):29<t&&t<38?r=Qa(e,n.colors[t-30]):39<t&&t<48?r=Va(e,n.colors[t-40]):89<t&&t<98?r=Qa(e,n.colors[8+(t-90)]):99<t&&t<108&&(r=Va(e,n.colors[8+(t-100)])),r}function Qw(e){var t=e.slice(0);return e.length=0,t.reverse().map(function(n){return"</"+n+">"}).join("")}function _a(e,t){for(var n=[],s=e;s<=t;s++)n.push(s);return n}function F0e(e){return function(t){return(e===null||t.category!==e)&&e!=="all"}}function $m(e){e=parseInt(e,10);var t=null;return e===0?t="all":e===1?t="bold":2<e&&e<5?t="underline":4<e&&e<7?t="blink":e===8?t="hide":e===9?t="strike":29<e&&e<38||e===39||89<e&&e<98?t="foreground-color":(39<e&&e<48||e===49||99<e&&e<108)&&(t="background-color"),t}function q0e(e,t){return t.escapeXML?R0e.encodeXML(e):e}function Ws(e,t,n){return n||(n=""),e.push(t),"<".concat(t).concat(n?' style="'.concat(n,'"'):"",">")}function qa(e,t){return Ws(e,"span",t)}function Qa(e,t){return Ws(e,"span","color:"+t)}function Va(e,t){return Ws(e,"span","background-color:"+t)}function Lm(e,t){var n;if(e.slice(-1)[0]===t&&(n=e.pop()),n)return"</"+t+">"}function Q0e(e,t,n){var s=!1,r=3;function o(){return""}function a(N,I){return n("xterm256Foreground",I),""}function c(N,I){return n("xterm256Background",I),""}function l(N){return t.newline?n("display",-1):n("text",N),""}function u(N,I){s=!0,I.trim().length===0&&(I="0"),I=I.trimRight(";").split(";");var C=Fw(I),S;try{for(C.s();!(S=C.n()).done;){var y=S.value;n("display",y)}}catch(k){C.e(k)}finally{C.f()}return""}function d(N){return n("text",N),""}function h(N){return n("rgb",N),""}var p=[{pattern:/^\x08+/,sub:o},{pattern:/^\x1b\[[012]?K/,sub:o},{pattern:/^\x1b\[\(B/,sub:o},{pattern:/^\x1b\[[34]8;2;\d+;\d+;\d+m/,sub:h},{pattern:/^\x1b\[38;5;(\d+)m/,sub:a},{pattern:/^\x1b\[48;5;(\d+)m/,sub:c},{pattern:/^\n/,sub:l},{pattern:/^\r+\n/,sub:l},{pattern:/^\r/,sub:l},{pattern:/^\x1b\[((?:\d{1,3};?)+|)m/,sub:u},{pattern:/^\x1b\[\d?J/,sub:o},{pattern:/^\x1b\[\d{0,3};\d{0,3}f/,sub:o},{pattern:/^\x1b\[?[\d;]{0,3}/,sub:o},{pattern:/^(([^\x1b\x08\r\n])+)/,sub:d}];function f(N,I){I>r&&s||(s=!1,e=e.replace(N.pattern,N.sub))}var g=[],m=e,b=m.length;e:for(;b>0;){for(var x=0,T=0,w=p.length;T<w;x=++T){var j=p[x];if(f(j,x),e.length!==b){b=e.length;continue e}}if(e.length===b)break;g.push(0),b=e.length}return g}function V0e(e,t,n){return t!=="text"&&(e=e.filter(F0e($m(n))),e.push({token:t,data:n,category:$m(n)})),e}var U0e=function(){function e(t){_0e(this,e),t=t||{},t.colors&&(t.colors=Object.assign({},Am.colors,t.colors)),this.options=Object.assign({},Am,t),this.stack=[],this.stickyStack=[]}return I0e(e,[{key:"toHtml",value:function(n){var s=this;n=typeof n=="string"?[n]:n;var r=this.stack,o=this.options,a=[];return this.stickyStack.forEach(function(c){var l=Pm(r,c.token,c.data,o);l&&a.push(l)}),Q0e(n.join(""),o,function(c,l){var u=Pm(r,c,l,o);u&&a.push(u),o.stream&&(s.stickyStack=V0e(s.stickyStack,c,l))}),r.length&&a.push(Qw(r)),a.join("")}}]),e}(),z0e=U0e;const B0e=zb(z0e);function H0e({index:e,message:t,formatter:n}){return i.jsx(_,{c:"slate",ff:"JetBrains Mono",dangerouslySetInnerHTML:{__html:n.toHtml(t)}},e)}function G0e(){const[e,t]=nt(),{clearConsole:n}=gn.getState(),s=gn(l=>l.isServing),r=gn(l=>l.consoleOutput),o=v.useRef(null),a=Qe(),c=v.useMemo(()=>new B0e({fg:"#fff",bg:"#000",newline:!0,colors:{4:"#3993d4"}}),[]);return v.useEffect(()=>{if(o.current){const{scrollTop:l,scrollHeight:u,clientHeight:d}=o.current;u-l<d+100&&(o.current.scrollTop=u)}},[r]),Pe("open-serving-console",t.open),i.jsxs(Ar,{opened:e,onClose:t.close,position:"bottom",styles:{content:{position:"relative"}},children:[i.jsxs(U,{mb:"md",gap:"sm",children:[i.jsx(ve,{children:"Serving output"}),s?i.jsx(Ft,{variant:"dot",color:"green",children:"Online"}):i.jsx(Ft,{variant:"dot",color:"pink.9",children:"Offline"}),i.jsx(je,{}),i.jsx(Me,{label:"Clear console",children:i.jsx(de,{onClick:n,"aria-label":"Clear console logs",children:i.jsx(E,{path:ts})})}),i.jsx(de,{onClick:t.close,"aria-label":"Close console drawer",children:i.jsx(E,{path:en})})]}),r.length===0&&i.jsx(Xt,{h:"100%",children:i.jsx(_,{c:"slate",children:"No messages to display"})}),i.jsx(De,{mt:"xs",p:"xs",bg:a?"slate.1":"slate.9",style:{position:"absolute",inset:12,top:52},children:i.jsx(Fe,{h:"100%",viewportRef:o,children:r.map((l,u)=>i.jsx(H0e,{index:u,message:l,formatter:c},u))})})]})}const Y0e=["accesses","analyzers","functions","params","users","versions"];function X0e(){const e=qi(),t=Rn(),[n]=Nc("2.1.0"),[s,r]=nt(),[o,a]=v.useState(!1),[c,l]=rs({accesses:!0,analyzers:!0,functions:!0,params:!0,users:!0,versions:!0,records:!0,tables:[]}),u=`${cT(t?.name??"")}-${_i().format("YYYY-MM-DD")}.surql`,d=L(async()=>{try{await fe.saveFile("Save database export",u,[Vd],async()=>(a(!0),await lT(c)??null))&&Ls({title:"Export",subtitle:"Database export successfully created"})}finally{a(!1),r.close()}}),h=L(()=>{c.tables.length===e.length?l(f=>{f.tables=[]}):l(f=>{f.tables=e})}),p=Object.values(c).every(f=>Array.isArray(f)?f.length===0:!f);return Pe("export-database",()=>{r.open(),It()}),i.jsx(Je,{opened:s,onClose:r.close,title:i.jsx(ve,{children:"Export database"}),children:i.jsxs(B,{gap:"xl",children:[i.jsx(_,{children:"Select which schema resources and table records you want to include in your export."}),n?i.jsxs(i.Fragment,{children:[i.jsxs(B,{children:[i.jsx(_,{c:"bright",fw:600,fz:"lg",children:"Options"}),i.jsx(dt,{cols:2,children:i.jsx(Lt,{label:"Include table records",checked:c.records,disabled:!n,onChange:()=>{l(f=>{f.records=!f.records})}})})]}),i.jsxs(B,{children:[i.jsx(_,{c:"bright",fw:600,fz:"lg",children:"Resources"}),i.jsx(dt,{cols:2,children:Y0e.map(f=>i.jsx(Lt,{label:`Include ${f}`,checked:c[f],disabled:!n,onChange:()=>{l(g=>{g[f]=!g[f]})}},f))})]}),e.length>0&&i.jsxs(B,{children:[i.jsx(_,{c:"bright",fw:600,fz:"lg",children:"Tables"}),i.jsx(Lt,{label:"Include all tables",checked:c.tables.length===e.length,onChange:h,disabled:!n,indeterminate:c.tables.length>0&&c.tables.length<e.length}),i.jsx(Ne,{}),i.jsx(B,{gap:"sm",children:e.map(f=>i.jsx(Lt,{label:f,disabled:!n,checked:c.tables.includes(f),onChange:()=>{l(g=>{g.tables=uT(g.tables,f)})}},f))})]})]}):i.jsx(et,{title:"Notice",color:"orange",children:"The remote database does not support export customization"}),i.jsx(X,{mt:"xl",fullWidth:!0,onClick:d,loading:o,variant:"gradient",disabled:p,rightSection:i.jsx(E,{path:ns}),children:"Save export"})]})})}var Vw={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(n,s){e.exports=s()})(Ii,function n(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},r=!s.document&&!!s.postMessage,o=s.IS_PAPA_WORKER||!1,a={},c=0,l={parse:function(S,y){var k=(y=y||{}).dynamicTyping||!1;if(C(k)&&(y.dynamicTypingFunction=k,k={}),y.dynamicTyping=k,y.transform=!!C(y.transform)&&y.transform,y.worker&&l.WORKERS_SUPPORTED){var P=function(){if(!l.WORKERS_SUPPORTED)return!1;var Q=(R=s.URL||s.webkitURL||null,D=n.toString(),l.BLOB_URL||(l.BLOB_URL=R.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",D,")();"],{type:"text/javascript"})))),O=new s.Worker(Q),R,D;return O.onmessage=T,O.id=c++,a[O.id]=O}();return P.userStep=y.step,P.userChunk=y.chunk,P.userComplete=y.complete,P.userError=y.error,y.step=C(y.step),y.chunk=C(y.chunk),y.complete=C(y.complete),y.error=C(y.error),delete y.worker,void P.postMessage({input:S,config:y,workerId:P.id})}var q=null;return l.NODE_STREAM_INPUT,typeof S=="string"?(S=function(Q){return Q.charCodeAt(0)===65279?Q.slice(1):Q}(S),q=y.download?new h(y):new f(y)):S.readable===!0&&C(S.read)&&C(S.on)?q=new g(y):(s.File&&S instanceof File||S instanceof Object)&&(q=new p(y)),q.stream(S)},unparse:function(S,y){var k=!1,P=!0,q=",",Q=`\r
`,O='"',R=O+O,D=!1,$=null,M=!1;(function(){if(typeof y=="object"){if(typeof y.delimiter!="string"||l.BAD_DELIMITERS.filter(function(z){return y.delimiter.indexOf(z)!==-1}).length||(q=y.delimiter),(typeof y.quotes=="boolean"||typeof y.quotes=="function"||Array.isArray(y.quotes))&&(k=y.quotes),typeof y.skipEmptyLines!="boolean"&&typeof y.skipEmptyLines!="string"||(D=y.skipEmptyLines),typeof y.newline=="string"&&(Q=y.newline),typeof y.quoteChar=="string"&&(O=y.quoteChar),typeof y.header=="boolean"&&(P=y.header),Array.isArray(y.columns)){if(y.columns.length===0)throw new Error("Option columns is empty");$=y.columns}y.escapeChar!==void 0&&(R=y.escapeChar+O),(typeof y.escapeFormulae=="boolean"||y.escapeFormulae instanceof RegExp)&&(M=y.escapeFormulae instanceof RegExp?y.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var A=new RegExp(b(O),"g");if(typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(S)){if(!S.length||Array.isArray(S[0]))return H(null,S,D);if(typeof S[0]=="object")return H($||Object.keys(S[0]),S,D)}else if(typeof S=="object")return typeof S.data=="string"&&(S.data=JSON.parse(S.data)),Array.isArray(S.data)&&(S.fields||(S.fields=S.meta&&S.meta.fields||$),S.fields||(S.fields=Array.isArray(S.data[0])?S.fields:typeof S.data[0]=="object"?Object.keys(S.data[0]):[]),Array.isArray(S.data[0])||typeof S.data[0]=="object"||(S.data=[S.data])),H(S.fields||[],S.data||[],D);throw new Error("Unable to serialize unrecognized input");function H(z,se,oe){var ne="";typeof z=="string"&&(z=JSON.parse(z)),typeof se=="string"&&(se=JSON.parse(se));var ce=Array.isArray(z)&&0<z.length,he=!Array.isArray(se[0]);if(ce&&P){for(var K=0;K<z.length;K++)0<K&&(ne+=q),ne+=Z(z[K],K);0<se.length&&(ne+=Q)}for(var ee=0;ee<se.length;ee++){var ge=ce?z.length:se[ee].length,me=!1,ae=ce?Object.keys(se[ee]).length===0:se[ee].length===0;if(oe&&!ce&&(me=oe==="greedy"?se[ee].join("").trim()==="":se[ee].length===1&&se[ee][0].length===0),oe==="greedy"&&ce){for(var be=[],ke=0;ke<ge;ke++){var Oe=he?z[ke]:ke;be.push(se[ee][Oe])}me=be.join("").trim()===""}if(!me){for(var ye=0;ye<ge;ye++){0<ye&&!ae&&(ne+=q);var $e=ce&&he?z[ye]:ye;ne+=Z(se[ee][$e],ye)}ee<se.length-1&&(!oe||0<ge&&!ae)&&(ne+=Q)}}return ne}function Z(z,se){if(z==null)return"";if(z.constructor===Date)return JSON.stringify(z).slice(1,25);var oe=!1;M&&typeof z=="string"&&M.test(z)&&(z="'"+z,oe=!0);var ne=z.toString().replace(A,R);return(oe=oe||k===!0||typeof k=="function"&&k(z,se)||Array.isArray(k)&&k[se]||function(ce,he){for(var K=0;K<he.length;K++)if(-1<ce.indexOf(he[K]))return!0;return!1}(ne,l.BAD_DELIMITERS)||-1<ne.indexOf(q)||ne.charAt(0)===" "||ne.charAt(ne.length-1)===" ")?O+ne+O:ne}}};if(l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!r&&!!s.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=x,l.ParserHandle=m,l.NetworkStreamer=h,l.FileStreamer=p,l.StringStreamer=f,l.ReadableStreamStreamer=g,s.jQuery){var u=s.jQuery;u.fn.parse=function(S){var y=S.config||{},k=[];return this.each(function(Q){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var O=0;O<this.files.length;O++)k.push({file:this.files[O],inputElem:this,instanceConfig:u.extend({},y)})}),P(),this;function P(){if(k.length!==0){var Q,O,R,D,$=k[0];if(C(S.before)){var M=S.before($.file,$.inputElem);if(typeof M=="object"){if(M.action==="abort")return Q="AbortError",O=$.file,R=$.inputElem,D=M.reason,void(C(S.error)&&S.error({name:Q},O,R,D));if(M.action==="skip")return void q();typeof M.config=="object"&&($.instanceConfig=u.extend($.instanceConfig,M.config))}else if(M==="skip")return void q()}var A=$.instanceConfig.complete;$.instanceConfig.complete=function(H){C(A)&&A(H,$.file,$.inputElem),q()},l.parse($.file,$.instanceConfig)}else C(S.complete)&&S.complete()}function q(){k.splice(0,1),P()}}}function d(S){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(y){var k=N(y);k.chunkSize=parseInt(k.chunkSize),y.step||y.chunk||(k.chunkSize=null),this._handle=new m(k),(this._handle.streamer=this)._config=k}.call(this,S),this.parseChunk=function(y,k){if(this.isFirstChunk&&C(this._config.beforeFirstChunk)){var P=this._config.beforeFirstChunk(y);P!==void 0&&(y=P)}this.isFirstChunk=!1,this._halted=!1;var q=this._partialLine+y;this._partialLine="";var Q=this._handle.parse(q,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var O=Q.meta.cursor;this._finished||(this._partialLine=q.substring(O-this._baseIndex),this._baseIndex=O),Q&&Q.data&&(this._rowCount+=Q.data.length);var R=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)s.postMessage({results:Q,workerId:l.WORKER_ID,finished:R});else if(C(this._config.chunk)&&!k){if(this._config.chunk(Q,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);Q=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(Q.data),this._completeResults.errors=this._completeResults.errors.concat(Q.errors),this._completeResults.meta=Q.meta),this._completed||!R||!C(this._config.complete)||Q&&Q.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),R||Q&&Q.meta.paused||this._nextChunk(),Q}this._halted=!0},this._sendError=function(y){C(this._config.error)?this._config.error(y):o&&this._config.error&&s.postMessage({workerId:l.WORKER_ID,error:y,finished:!1})}}function h(S){var y;(S=S||{}).chunkSize||(S.chunkSize=l.RemoteChunkSize),d.call(this,S),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(k){this._input=k,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(y=new XMLHttpRequest,this._config.withCredentials&&(y.withCredentials=this._config.withCredentials),r||(y.onload=I(this._chunkLoaded,this),y.onerror=I(this._chunkError,this)),y.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var k=this._config.downloadRequestHeaders;for(var P in k)y.setRequestHeader(P,k[P])}if(this._config.chunkSize){var q=this._start+this._config.chunkSize-1;y.setRequestHeader("Range","bytes="+this._start+"-"+q)}try{y.send(this._config.downloadRequestBody)}catch(Q){this._chunkError(Q.message)}r&&y.status===0&&this._chunkError()}},this._chunkLoaded=function(){y.readyState===4&&(y.status<200||400<=y.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:y.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(k){var P=k.getResponseHeader("Content-Range");return P===null?-1:parseInt(P.substring(P.lastIndexOf("/")+1))}(y),this.parseChunk(y.responseText)))},this._chunkError=function(k){var P=y.statusText||k;this._sendError(new Error(P))}}function p(S){var y,k;(S=S||{}).chunkSize||(S.chunkSize=l.LocalChunkSize),d.call(this,S);var P=typeof FileReader<"u";this.stream=function(q){this._input=q,k=q.slice||q.webkitSlice||q.mozSlice,P?((y=new FileReader).onload=I(this._chunkLoaded,this),y.onerror=I(this._chunkError,this)):y=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var q=this._input;if(this._config.chunkSize){var Q=Math.min(this._start+this._config.chunkSize,this._input.size);q=k.call(q,this._start,Q)}var O=y.readAsText(q,this._config.encoding);P||this._chunkLoaded({target:{result:O}})},this._chunkLoaded=function(q){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(q.target.result)},this._chunkError=function(){this._sendError(y.error)}}function f(S){var y;d.call(this,S=S||{}),this.stream=function(k){return y=k,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var k,P=this._config.chunkSize;return P?(k=y.substring(0,P),y=y.substring(P)):(k=y,y=""),this._finished=!y,this.parseChunk(k)}}}function g(S){d.call(this,S=S||{});var y=[],k=!0,P=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(q){this._input=q,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){P&&y.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),y.length?this.parseChunk(y.shift()):k=!0},this._streamData=I(function(q){try{y.push(typeof q=="string"?q:q.toString(this._config.encoding)),k&&(k=!1,this._checkIsFinished(),this.parseChunk(y.shift()))}catch(Q){this._streamError(Q)}},this),this._streamError=I(function(q){this._streamCleanUp(),this._sendError(q)},this),this._streamEnd=I(function(){this._streamCleanUp(),P=!0,this._streamData("")},this),this._streamCleanUp=I(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(S){var y,k,P,q=Math.pow(2,53),Q=-q,O=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,R=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,D=this,$=0,M=0,A=!1,H=!1,Z=[],z={data:[],errors:[],meta:{}};if(C(S.step)){var se=S.step;S.step=function(ee){if(z=ee,ce())ne();else{if(ne(),z.data.length===0)return;$+=ee.data.length,S.preview&&$>S.preview?k.abort():(z.data=z.data[0],se(z,D))}}}function oe(ee){return S.skipEmptyLines==="greedy"?ee.join("").trim()==="":ee.length===1&&ee[0].length===0}function ne(){return z&&P&&(K("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),P=!1),S.skipEmptyLines&&(z.data=z.data.filter(function(ee){return!oe(ee)})),ce()&&function(){if(!z)return;function ee(me,ae){C(S.transformHeader)&&(me=S.transformHeader(me,ae)),Z.push(me)}if(Array.isArray(z.data[0])){for(var ge=0;ce()&&ge<z.data.length;ge++)z.data[ge].forEach(ee);z.data.splice(0,1)}else z.data.forEach(ee)}(),function(){if(!z||!S.header&&!S.dynamicTyping&&!S.transform)return z;function ee(me,ae){var be,ke=S.header?{}:[];for(be=0;be<me.length;be++){var Oe=be,ye=me[be];S.header&&(Oe=be>=Z.length?"__parsed_extra":Z[be]),S.transform&&(ye=S.transform(ye,Oe)),ye=he(Oe,ye),Oe==="__parsed_extra"?(ke[Oe]=ke[Oe]||[],ke[Oe].push(ye)):ke[Oe]=ye}return S.header&&(be>Z.length?K("FieldMismatch","TooManyFields","Too many fields: expected "+Z.length+" fields but parsed "+be,M+ae):be<Z.length&&K("FieldMismatch","TooFewFields","Too few fields: expected "+Z.length+" fields but parsed "+be,M+ae)),ke}var ge=1;return!z.data.length||Array.isArray(z.data[0])?(z.data=z.data.map(ee),ge=z.data.length):z.data=ee(z.data,0),S.header&&z.meta&&(z.meta.fields=Z),M+=ge,z}()}function ce(){return S.header&&Z.length===0}function he(ee,ge){return me=ee,S.dynamicTypingFunction&&S.dynamicTyping[me]===void 0&&(S.dynamicTyping[me]=S.dynamicTypingFunction(me)),(S.dynamicTyping[me]||S.dynamicTyping)===!0?ge==="true"||ge==="TRUE"||ge!=="false"&&ge!=="FALSE"&&(function(ae){if(O.test(ae)){var be=parseFloat(ae);if(Q<be&&be<q)return!0}return!1}(ge)?parseFloat(ge):R.test(ge)?new Date(ge):ge===""?null:ge):ge;var me}function K(ee,ge,me,ae){var be={type:ee,code:ge,message:me};ae!==void 0&&(be.row=ae),z.errors.push(be)}this.parse=function(ee,ge,me){var ae=S.quoteChar||'"';if(S.newline||(S.newline=function(Oe,ye){Oe=Oe.substring(0,1048576);var $e=new RegExp(b(ye)+"([^]*?)"+b(ye),"gm"),pt=(Oe=Oe.replace($e,"")).split("\r"),At=Oe.split(`
`),Ut=1<At.length&&At[0].length<pt[0].length;if(pt.length===1||Ut)return`
`;for(var Wt=0,Xe=0;Xe<pt.length;Xe++)pt[Xe][0]===`
`&&Wt++;return Wt>=pt.length/2?`\r
`:"\r"}(ee,ae)),P=!1,S.delimiter)C(S.delimiter)&&(S.delimiter=S.delimiter(ee),z.meta.delimiter=S.delimiter);else{var be=function(Oe,ye,$e,pt,At){var Ut,Wt,Xe,ot;At=At||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var zn=0;zn<At.length;zn++){var Ve=At[zn],Pn=0,un=0,Es=0;Xe=void 0;for(var $n=new x({comments:pt,delimiter:Ve,newline:ye,preview:10}).parse(Oe),us=0;us<$n.data.length;us++)if($e&&oe($n.data[us]))Es++;else{var ds=$n.data[us].length;un+=ds,Xe!==void 0?0<ds&&(Pn+=Math.abs(ds-Xe),Xe=ds):Xe=ds}0<$n.data.length&&(un/=$n.data.length-Es),(Wt===void 0||Pn<=Wt)&&(ot===void 0||ot<un)&&1.99<un&&(Wt=Pn,Ut=Ve,ot=un)}return{successful:!!(S.delimiter=Ut),bestDelimiter:Ut}}(ee,S.newline,S.skipEmptyLines,S.comments,S.delimitersToGuess);be.successful?S.delimiter=be.bestDelimiter:(P=!0,S.delimiter=l.DefaultDelimiter),z.meta.delimiter=S.delimiter}var ke=N(S);return S.preview&&S.header&&ke.preview++,y=ee,k=new x(ke),z=k.parse(y,ge,me),ne(),A?{meta:{paused:!0}}:z||{meta:{paused:!1}}},this.paused=function(){return A},this.pause=function(){A=!0,k.abort(),y=C(S.chunk)?"":y.substring(k.getCharIndex())},this.resume=function(){D.streamer._halted?(A=!1,D.streamer.parseChunk(y,!0)):setTimeout(D.resume,3)},this.aborted=function(){return H},this.abort=function(){H=!0,k.abort(),z.meta.aborted=!0,C(S.complete)&&S.complete(z),y=""}}function b(S){return S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(S){var y,k=(S=S||{}).delimiter,P=S.newline,q=S.comments,Q=S.step,O=S.preview,R=S.fastMode,D=y=S.quoteChar===void 0||S.quoteChar===null?'"':S.quoteChar;if(S.escapeChar!==void 0&&(D=S.escapeChar),(typeof k!="string"||-1<l.BAD_DELIMITERS.indexOf(k))&&(k=","),q===k)throw new Error("Comment character same as delimiter");q===!0?q="#":(typeof q!="string"||-1<l.BAD_DELIMITERS.indexOf(q))&&(q=!1),P!==`
`&&P!=="\r"&&P!==`\r
`&&(P=`
`);var $=0,M=!1;this.parse=function(A,H,Z){if(typeof A!="string")throw new Error("Input must be a string");var z=A.length,se=k.length,oe=P.length,ne=q.length,ce=C(Q),he=[],K=[],ee=[],ge=$=0;if(!A)return dn();if(S.header&&!H){var me=A.split(P)[0].split(k),ae=[],be={},ke=!1;for(var Oe in me){var ye=me[Oe];C(S.transformHeader)&&(ye=S.transformHeader(ye,Oe));var $e=ye,pt=be[ye]||0;for(0<pt&&(ke=!0,$e=ye+"_"+pt),be[ye]=pt+1;ae.includes($e);)$e=$e+"_"+pt;ae.push($e)}if(ke){var At=A.split(P);At[0]=ae.join(k),A=At.join(P)}}if(R||R!==!1&&A.indexOf(y)===-1){for(var Ut=A.split(P),Wt=0;Wt<Ut.length;Wt++){if(ee=Ut[Wt],$+=ee.length,Wt!==Ut.length-1)$+=P.length;else if(Z)return dn();if(!q||ee.substring(0,ne)!==q){if(ce){if(he=[],Es(ee.split(k)),Zi(),M)return dn()}else Es(ee.split(k));if(O&&O<=Wt)return he=he.slice(0,O),dn(!0)}}return dn()}for(var Xe=A.indexOf(k,$),ot=A.indexOf(P,$),zn=new RegExp(b(D)+b(y),"g"),Ve=A.indexOf(y,$);;)if(A[$]!==y)if(q&&ee.length===0&&A.substring($,$+ne)===q){if(ot===-1)return dn();$=ot+oe,ot=A.indexOf(P,$),Xe=A.indexOf(k,$)}else if(Xe!==-1&&(Xe<ot||ot===-1))ee.push(A.substring($,Xe)),$=Xe+se,Xe=A.indexOf(k,$);else{if(ot===-1)break;if(ee.push(A.substring($,ot)),ds(ot+oe),ce&&(Zi(),M))return dn();if(O&&he.length>=O)return dn(!0)}else for(Ve=$,$++;;){if((Ve=A.indexOf(y,Ve+1))===-1)return Z||K.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:he.length,index:$}),us();if(Ve===z-1)return us(A.substring($,Ve).replace(zn,y));if(y!==D||A[Ve+1]!==D){if(y===D||Ve===0||A[Ve-1]!==D){Xe!==-1&&Xe<Ve+1&&(Xe=A.indexOf(k,Ve+1)),ot!==-1&&ot<Ve+1&&(ot=A.indexOf(P,Ve+1));var Pn=$n(ot===-1?Xe:Math.min(Xe,ot));if(A.substr(Ve+1+Pn,se)===k){ee.push(A.substring($,Ve).replace(zn,y)),A[$=Ve+1+Pn+se]!==y&&(Ve=A.indexOf(y,$)),Xe=A.indexOf(k,$),ot=A.indexOf(P,$);break}var un=$n(ot);if(A.substring(Ve+1+un,Ve+1+un+oe)===P){if(ee.push(A.substring($,Ve).replace(zn,y)),ds(Ve+1+un+oe),Xe=A.indexOf(k,$),Ve=A.indexOf(y,$),ce&&(Zi(),M))return dn();if(O&&he.length>=O)return dn(!0);break}K.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:he.length,index:$}),Ve++}}else Ve++}return us();function Es(hn){he.push(hn),ge=$}function $n(hn){var ua=0;if(hn!==-1){var zr=A.substring(Ve+1,hn);zr&&zr.trim()===""&&(ua=zr.length)}return ua}function us(hn){return Z||(hn===void 0&&(hn=A.substring($)),ee.push(hn),$=z,Es(ee),ce&&Zi()),dn()}function ds(hn){$=hn,Es(ee),ee=[],ot=A.indexOf(P,$)}function dn(hn){return{data:he,errors:K,meta:{delimiter:k,linebreak:P,aborted:M,truncated:!!hn,cursor:ge+(H||0)}}}function Zi(){Q(dn()),he=[],K=[]}},this.abort=function(){M=!0},this.getCharIndex=function(){return $}}function T(S){var y=S.data,k=a[y.workerId],P=!1;if(y.error)k.userError(y.error,y.file);else if(y.results&&y.results.data){var q={abort:function(){P=!0,w(y.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:j,resume:j};if(C(k.userStep)){for(var Q=0;Q<y.results.data.length&&(k.userStep({data:y.results.data[Q],errors:y.results.errors,meta:y.results.meta},q),!P);Q++);delete y.results}else C(k.userChunk)&&(k.userChunk(y.results,q,y.file),delete y.results)}y.finished&&!P&&w(y.workerId,y.results)}function w(S,y){var k=a[S];C(k.userComplete)&&k.userComplete(y),k.terminate(),delete a[S]}function j(){throw new Error("Not implemented.")}function N(S){if(typeof S!="object"||S===null)return S;var y=Array.isArray(S)?[]:{};for(var k in S)y[k]=N(S[k]);return y}function I(S,y){return function(){S.apply(y,arguments)}}function C(S){return typeof S=="function"}return o&&(s.onmessage=function(S){var y=S.data;if(l.WORKER_ID===void 0&&y&&(l.WORKER_ID=y.workerId),typeof y.input=="string")s.postMessage({workerId:l.WORKER_ID,results:l.parse(y.input,y.config),finished:!0});else if(s.File&&y.input instanceof File||y.input instanceof Object){var k=l.parse(y.input,y.config);k&&s.postMessage({workerId:l.WORKER_ID,results:k,finished:!0})}}),(h.prototype=Object.create(d.prototype)).constructor=h,(p.prototype=Object.create(d.prototype)).constructor=p,(f.prototype=Object.create(f.prototype)).constructor=f,(g.prototype=Object.create(d.prototype)).constructor=g,l})})(Vw);var W0e=Vw.exports;const Z0e=zb(W0e);function J0e(){const e=Qe(),t=qi(),[n,s]=nt(),[r,o]=v.useState("sql"),[a,c]=v.useState(!1),[l,u]=Ee(""),d=v.useRef(null),h=L(async()=>{try{const[f]=await fe.openTextFile("Import query file",[Vd,{name:"Table data (csv)",extensions:["csv"]}],!1);if(!f)return;d.current=f,s.open(),f.name.endsWith(".csv")?(o("csv"),u("")):o("sql")}finally{c(!1)}}),p=L(async()=>{if(d.current)try{c(!0),await qo(50);const f=d.current.content.trim();r==="csv"?Z0e.parse(f,{header:!0,dynamicTyping:!0,transform(g){try{return dT(g)}catch{return g}},step(g,m){if(g.errors.length>0){const T=g.errors[0].message;Rt({title:"Import failed",subtitle:`There was an error importing the CSV file: ${T}`}),m.abort();return}const b=g.data,x="id"in b?new Xa(l,b.id):new Hb(l);qt("CREATE $what CONTENT $content",{what:x,content:b})},complete(){It()}}):(await qt(f),Ls({title:"Importer",subtitle:"Database was successfully imported"}),await It())}catch(f){console.error(f),Rt({title:"Import failed",subtitle:"There was an error importing the database"})}finally{c(!1),s.close()}});return Pe("import-database",h),i.jsx(Je,{opened:n,onClose:s.close,title:i.jsxs(ve,{children:["Import ",r==="sql"?"database":"table"]}),children:r==="sql"?i.jsxs(B,{children:[i.jsx(_,{c:e?"slate.7":"slate.2",children:"Are you sure you want to import the selected file?"}),i.jsx(_,{mb:"xl",c:e?"slate.7":"slate.2",children:"While existing data will be preserved, it may be overwritten by the imported data."}),i.jsxs(X,{mt:"xl",fullWidth:!0,onClick:p,loading:a,variant:"gradient",children:["Start import",i.jsx(E,{path:ns,right:!0})]})]}):i.jsxs(B,{children:[i.jsx(_,{children:"This importer allows you to parse CSV data into a table."}),i.jsx(_,{children:"The first row of the CSV file will be interpreted as column names. Before importing, make sure these match the columns in the table you are importing to."}),i.jsx(_,{children:"While existing data will be preserved, it may be overwritten by the imported data."}),i.jsx(Ne,{}),i.jsx(W0,{data:t,value:l,onChange:u,label:"Table name",size:"sm",required:!0,placeholder:"table_name"}),i.jsxs(X,{mt:"md",fullWidth:!0,onClick:p,loading:a,variant:"gradient",disabled:!l,children:["Start import",i.jsx(E,{path:ns,right:!0})]})]})})}function K0e(){const[e,t]=nt(),[n,s]=Ee(""),[r]=za(n,150),{data:o,isFetching:a}=An({queryKey:["documentation",r],placeholderData:ob,queryFn:async()=>{if(!r)return[];const h=JSON.stringify(r),p=JSON.stringify("main--surrealdb-docs.netlify.app"),f=`
				LET $query = ${h};
				LET $host = ${p};

				SELECT
					rand::guid() as id,
					path as url,
					hostname,
					title,
					content,
					search::highlight('<b>', '</b>', 7) AS highlight,
					(
						(search::score(0) * 10)
						+ (search::score(1) * 9)
						+ (search::score(2) * 7)
						+ (search::score(3) * 6)
						+ (search::score(4) * 5)
						+ (search::score(5) * 4)
						+ (search::score(6) * 2)
						+ search::score(7)
					) AS score
				FROM page
					WHERE
						hostname = $host
						AND (
							title @0@ $query
							OR path @1@ $query
							OR h1 @2@ $query
							OR h2 @3@ $query
							OR h3 @4@ $query
							OR h4 @5@ $query
							OR code @6@ $query
							OR content @7@ $query
						)
				ORDER BY score DESC LIMIT 10;
			`,g=await fetch("https://blog-db.surrealdb.com/sql",{method:"POST",headers:{Accept:"application/json"},body:`USE NS docs DB search; ${f}`});try{const m=await g.json();return(m[m.length-1]??[]).result}catch{return[]}}}),c=L(h=>{t.close(),fe.openUrl(`https://surrealdb.com${h.url}`)}),[l,u]=Od(o??[],c);Pe("open-documentation",({search:h})=>{t.open(),h&&s(h)});const d=o?.length===0;return i.jsxs(Je,{opened:e,onClose:t.close,transitionProps:{transition:zd},centered:!1,size:"lg",onKeyDown:l,classNames:{content:ze.listingModal,body:ze.listingBody},children:[i.jsxs(G,{p:"lg",children:[i.jsxs(U,{gap:"xs",mb:"sm",c:"bright",children:[i.jsx(E,{path:Go,size:"sm"}),i.jsx(_,{children:"SurrealDB Documentation"}),a&&i.jsx(ys,{ml:"sm",size:14})]}),i.jsx(le,{flex:1,placeholder:"Search documentation...",variant:"unstyled",className:ze.listingSearch,autoFocus:!0,value:n,spellCheck:!1,onChange:s})]}),i.jsx(Ne,{mx:"lg"}),i.jsx(Fe.Autosize,{className:ze.docsScroller,scrollbars:"y",display:"block",mah:"calc(100vh - 225px)",children:d&&!n?i.jsx(_,{ta:"center",py:"md",c:"slate",my:"xl",children:"Enter a search term to find documentation"}):d?i.jsx(_,{ta:"center",py:"md",c:"slate",my:"xl",children:"No search results found"}):i.jsx(B,{p:"lg",children:o?.map(h=>i.jsx(Tt,{onClick:()=>c(h),h:"unset",ta:"start","data-navigation-item-id":h.id,className:cn(u===h.id&&ze.listingActive),children:i.jsxs(G,{children:[i.jsx(ve,{children:h.title}),i.jsx(_,{c:"surreal",children:h.url}),i.jsx(_,{dangerouslySetInnerHTML:{__html:h.highlight[3]},style:{textWrap:"wrap",overflowWrap:"break-word"}})]})},h.url))})})]})}const eSe="/assets/desktop-spux7TNj.webp";function tSe(){const[e,t]=nt();return Pe("open-desktop-download",t.open),i.jsxs(Je,{opened:e,onClose:t.close,size:475,padding:0,children:[i.jsx(de,{pos:"absolute",top:16,right:16,onClick:t.close,"aria-label":"Close modal",children:i.jsx(E,{path:en})}),i.jsx(Vt,{src:eSe}),i.jsxs(B,{p:24,children:[i.jsx(_,{size:"lg",children:"Take your SurrealDB journey to the next level with Surrealist Desktop and gain advanced capabilities designed for an optimised experience."}),i.jsxs(Si,{fz:"lg",icon:i.jsx(E,{path:hT,color:"surreal"}),children:[i.jsx(Si.Item,{children:"Access Surrealist in offline environments"}),i.jsx(Si.Item,{children:"Launch your local database directly from Surrealist"})]}),i.jsx(X,{mt:"lg",variant:"gradient",component:"a",rightSection:i.jsx(E,{path:Ub}),onClick:t.close,fullWidth:!0,href:"https://github.com/surrealdb/surrealist/releases",target:"_blank",children:"Download"})]})]})}function nSe(){const[e,t]=nt();return Pe("open-embedder",t.open),i.jsx(Je,{opened:e,onClose:t.close,withCloseButton:!0,size:"lg",title:i.jsx(ve,{children:"Mini generator"}),children:i.jsx(kT,{})})}function sSe(e){return i.jsx(tp.Group,{label:e.label,value:e.value,onChange:e.onChange,children:i.jsx(B,{mt:"xs",children:e.data.map(t=>i.jsx(tp,{value:t.value,label:t.label},t.value))})})}function iSe({value:e,theme:t,syntaxTheme:n}){const s=L(()=>{const r=hb(e,"surrealql",t,n),o=new ClipboardItem({"text/html":new Blob([r],{type:"text/html"}),"text/plain":new Blob([r],{type:"text/plain"})});navigator.clipboard.write([o])});return i.jsx(X,{onClick:s,size:"xs",color:"blue",children:"Copy to clipboard"})}function rSe(){const[e,t]=v.useState(""),[n,s]=nt(),[r,o]=ws(),[a,c]=v.useState("dark"),l=Se(d=>d.settings.appearance.syntaxTheme),u=v.useCallback(()=>{t(Ud(e))},[e]);return v.useEffect(()=>{n||t("")},[n]),Pe("highlight-tool",()=>{s.open(),o({highlight_tool:!0})}),i.jsx(i.Fragment,{children:i.jsx(Je,{opened:n,onClose:s.close,trapFocus:!1,withCloseButton:!0,size:"xl",title:i.jsx(ve,{children:"Highlight Tool"}),children:i.jsxs(B,{children:[i.jsx(Lr,{h:"50%",value:e,onChange:t,extensions:[Xo()],autoFocus:!0}),i.jsx(Ne,{}),i.jsx(sSe,{value:a,onChange:c,data:[{value:"dark",label:"Dark theme"},{value:"light",label:"Light theme"}]}),i.jsxs(dt,{cols:2,children:[i.jsx(X,{onClick:u,size:"xs",color:"surreal",children:"Format"}),i.jsx(iSe,{value:e,theme:a,syntaxTheme:l})]})]})})})}function oSe(){const{updateViewedNews:e}=Se.getState(),t=vh(),n=xy(),[s,r]=Cn(),[o,a]=Cn(),[c,l]=v.useState(null),u=p=>{l(p),a.open(),oi.capture("newsfeed_read",{article:p.id})},d=L(()=>{r.close(),a.close(),e()});v.useEffect(()=>{s&&oi.capture("newsfeed_open")},[s]),Pe("open-news",({id:p})=>{r.open();const f=t.data?.find(g=>g.id===p);f&&u(f)});const h=t.isFetched&&t.data?.length===0;return i.jsx(i.Fragment,{children:i.jsxs(Ar,{opened:s,onClose:d,position:"right",trapFocus:!1,size:o?"lg":"md",classNames:{content:ze.newsDrawerContent,body:ze.newsDrawerBody},children:[i.jsx(de,{pos:"absolute",top:20,right:20,onClick:r.close,style:{zIndex:1},"aria-label":"Close news feed drawer",children:i.jsx(E,{path:en})}),i.jsx(np,{mounted:o,transition:"fade",children:p=>i.jsx(G,{pos:"absolute",style:p,inset:0,children:c&&i.jsxs(Fe,{pos:"absolute",style:{width:"var(--drawer-size-lg)"},left:0,bottom:0,top:0,children:[i.jsx(G,{w:"100%",h:250,className:ze.newsPostHeader,__vars:{"--image-url":`url("${c.thumbnail}")`},children:i.jsx(X,{m:"md",pos:"relative",onClick:a.close,leftSection:i.jsx(E,{path:Ac,size:"sm"}),className:ze.newsPostBack,size:"md",children:"Go back"})}),i.jsxs(G,{p:"xl",pt:"xs",mt:-52,children:[i.jsx(_,{c:"slate",children:_i(c.published).fromNow()}),i.jsx(xn,{fz:28,c:"bright",children:c.title}),i.jsx(wd,{mt:"lg",fz:14,className:ze.newsPostContent,dangerouslySetInnerHTML:{__html:c.content}}),c.link&&i.jsx(et,{mt:"xl",color:"surreal.2",py:0,children:i.jsx(Pt,{my:"lg",display:"block",href:c.link,children:i.jsxs(_,{c:"surreal",fw:600,fz:14,children:["Read on surrealdb.com",i.jsx(E,{path:Ub,right:!0})]})})})]})]})})}),i.jsx(np,{mounted:!o,transition:"fade",children:p=>i.jsxs(G,{pos:"absolute",style:p,inset:0,children:[i.jsx(xn,{fz:20,c:"bright",m:"xl",children:"Latest news"}),i.jsx(Fe,{pos:"absolute",style:{width:"var(--drawer-size-md)"},left:0,bottom:0,top:64,p:"lg",children:t.isPending?i.jsx(ys,{mt:32,mx:"auto",display:"block"}):h?i.jsx(_,{mt:68,c:"slate",ta:"center",children:"No news items available"}):i.jsx(B,{gap:"xl",children:t.data?.map((f,g)=>i.jsxs(v.Fragment,{children:[i.jsxs(es,{onClick:()=>u(f),children:[i.jsx(Vt,{src:f.thumbnail,radius:"lg",mb:"lg"}),i.jsxs(on,{align:"center",children:[i.jsx(_,{c:"slate",children:_i(f.published).fromNow()}),n.includes(f.id)&&i.jsx(Ft,{color:"surreal",size:"xs",ml:"sm",h:14,children:"New post"})]}),i.jsx(xn,{fz:18,c:"bright",mt:4,children:f.title}),i.jsx(_,{py:"sm",children:f.description}),i.jsxs(_,{c:"surreal",fw:600,children:["Read more",i.jsx(E,{path:bt,right:!0})]})]}),g<t.data?.length-1&&i.jsx(Ne,{})]},g))})})]})})]})})}function aSe(){const{finishProvisioning:e,hideProvisioning:t}=we.getState(),n=ci(),s=Qe(),r=we(c=>c.isProvisioning),o=we(c=>c.isProvisionDone),a=we(c=>c.provisioning);return v.useEffect(()=>{if(r&&a&&!o){const c=setInterval(async()=>{try{(await gt(`/instances/${a.id}`)).state==="ready"&&(e(),n.invalidateQueries({queryKey:["cloud","instances"]}),await qo(1e3),t())}catch{}},1500);return()=>{clearInterval(c)}}},[o,r,a,t,e]),i.jsx(Sd,{opened:r,onClose:t,size:"lg",shadow:"sm",withCloseButton:!0,className:ze.provisionDialog,position:{bottom:"var(--mantine-spacing-xl)",right:"var(--mantine-spacing-xl)"},transitionProps:{transition:"slide-up",timingFunction:"ease",duration:200},children:i.jsxs(U,{wrap:"nowrap",children:[o?i.jsx(Xt,{w:48,h:48,mx:4,className:ze.provisionComplete,children:i.jsx(E,{path:tn,c:"white",size:"xl"})}):i.jsxs(Xt,{className:ze.provisionBox,pos:"relative",mx:4,w:48,h:48,children:[i.jsx(ys,{className:ze.provisionLoader,inset:0,size:"100%",pos:"absolute"}),i.jsxs("svg",{viewBox:"0 0 24 24",className:ze.provisionIcon,children:[i.jsx("title",{children:"Loading spinner"}),i.jsx("path",{d:wb,fill:s?"black":"white"})]})]}),i.jsxs(B,{gap:2,children:[i.jsx(_,{fw:600,c:"bright",fz:"lg",children:o?"Instance successfully provisioned":"Your instance is being provisioned"}),a&&i.jsx(_,{children:a.name})]})]})})}function cSe(){const e=Rn(),t=e?.lastNamespace??"",n=e?.lastDatabase??"",s=e?.authentication,r=qs(),[o,a]=nt(),[c,l]=v.useState(null),[u,d]=rs([]),[h,p]=v.useState(!1),f=L(async()=>{if(!c||!s)return;const g=u.reduce((b,x)=>(b[x.subject]=x.value,b),{}),m=await pT(s);try{p(!0),console.log("Registering user with variables",g),await fT({access:c.name,namespace:t,database:n,variables:g}),Ls({title:"User registered",subtitle:"The user has been successfully registered"})}catch(b){fe.warn("Auth",`Failed to register user: ${b.message}`),console.error(b),Rt({title:"Registration failed",subtitle:b.message})}finally{p(!1),await gT(m),a.close()}});return Pe("register-user",({access:g})=>{if(!g)return;const m=r.accesses.find(b=>b.name===g);if(m&&m.kind.kind==="RECORD"){const b=mT(m.kind.signup).map(x=>({subject:x,value:""}));l(m),d(b),a.open()}}),i.jsxs(Je,{size:"md",opened:o,onClose:a.close,trapFocus:!1,title:i.jsx(ve,{children:"Register user"}),children:[i.jsxs(_,{children:["Please fill out the following required fields to register a new user with the access method"," ",i.jsx(_,{span:!0,c:"bright",children:c?.name}),"."]}),i.jsxs(Kt,{onSubmit:f,children:[i.jsxs(W,{mt:"md",children:[i.jsx(W.Thead,{children:i.jsxs(W.Tr,{children:[i.jsx(W.Th,{w:"50%",children:"Access field"}),i.jsx(W.Th,{w:"50%",children:"Value"})]})}),i.jsx(W.Tbody,{children:u.map((g,m)=>{const b=g.subject.toLowerCase(),x=Bd.has(b)?bo:le;return i.jsxs(W.Tr,{children:[i.jsx(W.Td,{c:"bright",children:i.jsx(_,{fw:600,children:g.subject})}),i.jsx(W.Td,{c:"bright",children:i.jsx(x,{size:"xs",value:g.value,spellCheck:!1,onChange:T=>d(w=>{w[m].value=T.target.value})})})]},g.subject)})})]}),i.jsxs(U,{mt:"lg",children:[i.jsx(X,{onClick:a.close,variant:"light",color:"slate",children:"Close"}),i.jsx(je,{}),i.jsx(X,{variant:"gradient",type:"submit",rightSection:i.jsx(E,{path:bT}),loading:h,children:"Register"})]})]})]})}const lSe="/assets/sandbox-Da11SPt7.webp";function uSe(e){const{completeOnboarding:t}=Se.getState(),n=L(()=>{t(e)});return[Se(s=>s.onboarding.includes(e)),n]}function dSe(){const[e,t]=nt(),[n,s]=uSe("sandbox"),[r]=Fs(),o=Rn();return v.useEffect(()=>{o?.id===Qc&&r&&!n&&(t.open(),s())},[o,r,n]),i.jsxs(Je,{opened:e,onClose:t.close,trapFocus:!1,padding:0,size:475,children:[i.jsx(de,{pos:"absolute",top:16,right:16,onClick:t.close,"aria-label":"Close modal",children:i.jsx(E,{path:en})}),i.jsx(Vt,{src:lSe}),i.jsxs(G,{p:24,children:[i.jsxs(B,{children:[i.jsx(_,{c:"bright",fw:500,fz:"lg",children:"The Sandbox provides an easy to use playground to test, experiment, and learn SurrealDB."}),i.jsx(_,{children:"You can use the sandbox without having to start a database up, and data will be reset after you close Surrealist. Additionally, you can use the buttons in the toolbar to manually reset the sandbox or load an official dataset."})]}),i.jsx(X,{mt:"xl",size:"xs",fullWidth:!0,variant:"gradient",onClick:t.close,rightSection:i.jsx(E,{path:bt}),radius:"sm",children:"Get started"})]})]})}function hSe(){const{closeAccessSignup:e}=Ye.getState(),[t,n]=v.useState(""),[s,r]=Cn(),o=Ye(d=>d.showAccessSignup),a=Rn(),c=a?.authentication?.mode==="access",l=L(()=>{a&&(vt("edit-connection",{id:a.id}),e())}),u=L(()=>{if(!a)return;r.open();const d=c?"access-signup":"scope-signup";Fc({connection:{...a,authentication:{...a.authentication,mode:d}}}).then(()=>{e()}).catch(h=>{n(h.message)}).finally(()=>{r.close()})});return v.useLayoutEffect(()=>{o&&n("")},[o]),i.jsx(Je,{opened:o,onClose:e,title:i.jsx(ve,{children:"Register with access method"}),children:i.jsxs(B,{children:[t&&i.jsx(et,{color:"red.5",icon:i.jsx(E,{path:Jt}),title:"Connection error",children:t}),i.jsx(_,{children:'The provided access fields do not match any existing user. Confirm these access fields and press "Sign up" below to create a new user.'}),i.jsxs(W,{children:[i.jsx(W.Thead,{children:i.jsxs(W.Tr,{children:[i.jsx(W.Th,{w:"50%",children:"Access field"}),i.jsx(W.Th,{w:"50%",children:"Value"})]})}),i.jsx(W.Tbody,{children:a?.authentication?.accessFields?.map(d=>{const h=d.subject.toLowerCase(),p=Bd.has(h)?bo:le;return i.jsxs(W.Tr,{children:[i.jsx(W.Td,{c:"bright",children:i.jsx(_,{fw:600,children:d.subject})}),i.jsx(W.Td,{c:"bright",children:i.jsx(p,{size:"xs",readOnly:!0,variant:"unstyled",value:d.value,spellCheck:!1,styles:{input:{backgroundColor:"unset"}}})})]},d.subject)})})]}),i.jsxs(U,{children:[i.jsx(X,{color:"slate",variant:"light",onClick:e,children:"Close"}),i.jsx(je,{}),i.jsx(X,{color:"surreal",variant:"light",onClick:l,children:"Edit connection"}),i.jsx(X,{type:"submit",variant:"gradient",loading:s,onClick:u,children:"Sign up"})]})]})})}function pSe(){const{openTableCreator:e,closeTableCreator:t}=Ye.getState(),n=Ye(b=>b.showTableCreator),s=qi(),[r]=Fs(),[o,a]=v.useState("table"),[c,l]=Ee(""),[u,d]=v.useState([]),[h,p]=v.useState([]),[f,g]=v.useState("schemaless"),m=L(async()=>{let b=`DEFINE TABLE ${it(c)} ${f.toUpperCase()} TYPE `;if(o==="relation"){const x=u.map(w=>it(w)).join("|"),T=h.map(w=>it(w)).join("|");b+=`RELATION IN ${x} OUT ${T};`,b+=`DEFINE FIELD in ON ${it(c)} TYPE record<${x}>;`,b+=`DEFINE FIELD out ON ${it(c)} TYPE record<${T}>;`}else b+="NORMAL;";t(),await qt(b),await It({tables:[c]}),r?.id==="explorer"&&vt("explore-table",{table:c})});return v.useLayoutEffect(()=>{n&&(l(""),d([]),p([]))},[n]),Pe("new-table",e),i.jsx(i.Fragment,{children:i.jsxs(Je,{opened:n,onClose:t,trapFocus:!1,size:"sm",title:i.jsx(ve,{children:`Create new ${o}`}),children:[i.jsx(ft,{mb:"xl",defaultValue:"table",value:o,onChange:a,children:i.jsxs(ft.List,{grow:!0,children:[i.jsx(ft.Tab,{value:"table",rightSection:i.jsx(E,{path:qn}),children:"Table"}),i.jsx(ft.Tab,{value:"relation",rightSection:i.jsx(E,{path:li}),children:"Relation"})]})}),i.jsx(Kt,{onSubmit:m,children:i.jsxs(B,{children:[i.jsx(le,{placeholder:"Enter table name",value:c,spellCheck:!1,onChange:l,autoFocus:!0}),o==="relation"&&i.jsxs(i.Fragment,{children:[i.jsx(go,{data:s,searchable:!0,placeholder:"Select incoming tables",value:u,onChange:d}),i.jsx(go,{data:s,searchable:!0,placeholder:"Select outgoing tables",value:h,onChange:p})]}),i.jsx(yt,{data:xT,value:f,onChange:g}),i.jsxs(U,{mt:"lg",children:[i.jsx(X,{onClick:t,color:"slate",variant:"light",flex:1,children:"Close"}),i.jsx(X,{type:"submit",variant:"gradient",flex:1,disabled:!c||o==="relation"&&(!u||!h),rightSection:i.jsx(E,{path:Ie}),children:"Create"})]})]})})]})})}function Mm(e){return Number.parseInt(e.split(".")[0]??0)}function Uw(){const{hideAvailableUpdate:e}=Ye.getState(),t=Ye(b=>b.availableUpdate),[n,s]=v.useState("idle"),[r,o]=v.useState(0),[a,c]=v.useState(0),l=Mm("3.1.7"),d=Mm(t?.version||"0.0.0")>l,h=L(async()=>{if(!(!t||n!=="idle")){if(d){const b=Se.getState();await yT("backup_config",{config:JSON.stringify(b),version:b.configVersion})}s("downloading"),c(0);try{await t.downloadAndInstall(b=>{b.event==="Started"?o(b.data.contentLength||0):b.event==="Progress"&&c(x=>x+b.data.chunkLength)}),await vT()}catch(b){console.error("Failed to update desktop app",b),s("error")}}}),p=_n({title:"New major version",message:i.jsxs(i.Fragment,{children:["The update you are about to install is a new major version of Surrealist. Are you sure you want to proceed?",i.jsx(et,{mt:"xl",color:"orange",title:"Warning",children:"An upgrade could result in incompatibility with older versions of SurrealDB."})]}),confirmText:i.jsxs(U,{gap:"xs",children:["Install update",i.jsx(E,{path:ns})]}),confirmProps:{variant:"gradient"},dismissText:"Don't update now",onConfirm:()=>h(),onDismiss:()=>e()}),f=L(()=>{d?p():h()}),g=r>0?(a/r*100).toFixed(0):"0",m=t?.version||"";return{phase:n,progress:g,version:m,startUpdate:f}}function fSe(){const{hideAvailableUpdate:e}=Ye.getState(),t=Ye(c=>c.showAvailableUpdate),{phase:n,progress:s,version:r,startUpdate:o}=Uw(),a=L(c=>{c.stopPropagation(),e()});return i.jsxs(Sd,{opened:t,onClose:e,size:"lg",shadow:"sm",position:{bottom:"var(--mantine-spacing-xl)",left:"var(--mantine-spacing-xl)"},transitionProps:{transition:"slide-up",timingFunction:"ease",duration:200},classNames:{root:ze.updateDialog},onClick:o,children:[i.jsx(de,{onClick:a,pos:"absolute",variant:"subtle",top:8,right:8,children:i.jsx(E,{path:en})}),i.jsxs(U,{children:[i.jsx(G,{className:ze.updateDialogIcon,children:i.jsx(E,{path:ns,size:"lg",c:"white"})}),i.jsxs(G,{miw:200,children:[i.jsx(_,{c:"white",fw:500,fz:"lg",children:"New version available"}),n==="downloading"?i.jsxs(_,{c:"gray.5",children:["Installing... (",s,"%)"]}):n==="error"?i.jsx(_,{c:"red",children:"Failed to install update"}):i.jsxs(_,{c:"gray.5",children:["Click to install version ",r]})]})]})]})}const gSe="_settings-list_uy3s9_1",mSe="_version_uy3s9_10",bSe="_update-button_uy3s9_16",xSe="_update-icon_uy3s9_27",ySe="_about-value_uy3s9_32",xd={settingsList:gSe,version:mSe,updateButton:bSe,updateIcon:xSe,aboutValue:ySe},zw=6048e5,vSe=864e5,Fm=Symbol.for("constructDateFrom");function ai(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Fm in e?e[Fm](t):e instanceof Date?new e.constructor(t):new Date(t)}function ls(e,t){return ai(t||e,e)}let wSe={};function bl(){return wSe}function Po(e,t){const n=bl(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=ls(e,t?.in),o=r.getDay(),a=(o<s?7:0)+o-s;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}function kc(e,t){return Po(e,{...t,weekStartsOn:1})}function Bw(e,t){const n=ls(e,t?.in),s=n.getFullYear(),r=ai(n,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const o=kc(r),a=ai(n,0);a.setFullYear(s,0,4),a.setHours(0,0,0,0);const c=kc(a);return n.getTime()>=o.getTime()?s+1:n.getTime()>=c.getTime()?s:s-1}function qm(e){const t=ls(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function SSe(e,...t){const n=ai.bind(null,t.find(s=>typeof s=="object"));return t.map(n)}function Qm(e,t){const n=ls(e,t?.in);return n.setHours(0,0,0,0),n}function jSe(e,t,n){const[s,r]=SSe(n?.in,e,t),o=Qm(s),a=Qm(r),c=+o-qm(o),l=+a-qm(a);return Math.round((c-l)/vSe)}function TSe(e,t){const n=Bw(e,t),s=ai(e,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),kc(s)}function ESe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function kSe(e){return!(!ESe(e)&&typeof e!="number"||isNaN(+ls(e)))}function OSe(e,t){const n=ls(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const CSe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_Se=(e,t,n)=>{let s;const r=CSe[e];return typeof r=="string"?s=r:t===1?s=r.one:s=r.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Xl(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const NSe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ISe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},DSe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RSe={date:Xl({formats:NSe,defaultWidth:"full"}),time:Xl({formats:ISe,defaultWidth:"full"}),dateTime:Xl({formats:DSe,defaultWidth:"full"})},ASe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},PSe=(e,t,n,s)=>ASe[e];function Jr(e){return(t,n)=>{const s=n?.context?String(n.context):"standalone";let r;if(s==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,c=n?.width?String(n.width):a;r=e.formattingValues[c]||e.formattingValues[a]}else{const a=e.defaultWidth,c=n?.width?String(n.width):e.defaultWidth;r=e.values[c]||e.values[a]}const o=e.argumentCallback?e.argumentCallback(t):t;return r[o]}}const $Se={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},LSe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},MSe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},FSe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},QSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},VSe=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},USe={ordinalNumber:VSe,era:Jr({values:$Se,defaultWidth:"wide"}),quarter:Jr({values:LSe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Jr({values:MSe,defaultWidth:"wide"}),day:Jr({values:FSe,defaultWidth:"wide"}),dayPeriod:Jr({values:qSe,defaultWidth:"wide",formattingValues:QSe,defaultFormattingWidth:"wide"})};function Kr(e){return(t,n={})=>{const s=n.width,r=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],o=t.match(r);if(!o)return null;const a=o[0],c=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?BSe(c,h=>h.test(a)):zSe(c,h=>h.test(a));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(a.length);return{value:u,rest:d}}}function zSe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function BSe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function HSe(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const r=s[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const c=t.slice(r.length);return{value:a,rest:c}}}const GSe=/^(\d+)(th|st|nd|rd)?/i,YSe=/\d+/i,XSe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},WSe={any:[/^b/i,/^(a|c)/i]},ZSe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},JSe={any:[/1/i,/2/i,/3/i,/4/i]},KSe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eje={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tje={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nje={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sje={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ije={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rje={ordinalNumber:HSe({matchPattern:GSe,parsePattern:YSe,valueCallback:e=>parseInt(e,10)}),era:Kr({matchPatterns:XSe,defaultMatchWidth:"wide",parsePatterns:WSe,defaultParseWidth:"any"}),quarter:Kr({matchPatterns:ZSe,defaultMatchWidth:"wide",parsePatterns:JSe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Kr({matchPatterns:KSe,defaultMatchWidth:"wide",parsePatterns:eje,defaultParseWidth:"any"}),day:Kr({matchPatterns:tje,defaultMatchWidth:"wide",parsePatterns:nje,defaultParseWidth:"any"}),dayPeriod:Kr({matchPatterns:sje,defaultMatchWidth:"any",parsePatterns:ije,defaultParseWidth:"any"})},oje={code:"en-US",formatDistance:_Se,formatLong:RSe,formatRelative:PSe,localize:USe,match:rje,options:{weekStartsOn:0,firstWeekContainsDate:1}};function aje(e,t){const n=ls(e,t?.in);return jSe(n,OSe(n))+1}function cje(e,t){const n=ls(e,t?.in),s=+kc(n)-+TSe(n);return Math.round(s/zw)+1}function Hw(e,t){const n=ls(e,t?.in),s=n.getFullYear(),r=bl(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=ai(t?.in||e,0);a.setFullYear(s+1,0,o),a.setHours(0,0,0,0);const c=Po(a,t),l=ai(t?.in||e,0);l.setFullYear(s,0,o),l.setHours(0,0,0,0);const u=Po(l,t);return+n>=+c?s+1:+n>=+u?s:s-1}function lje(e,t){const n=bl(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=Hw(e,t),o=ai(t?.in||e,0);return o.setFullYear(r,0,s),o.setHours(0,0,0,0),Po(o,t)}function uje(e,t){const n=ls(e,t?.in),s=+Po(n,t)-+lje(n,t);return Math.round(s/zw)+1}function We(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const Hs={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return We(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):We(n+1,2)},d(e,t){return We(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return We(e.getHours()%12||12,t.length)},H(e,t){return We(e.getHours(),t.length)},m(e,t){return We(e.getMinutes(),t.length)},s(e,t){return We(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),r=Math.trunc(s*Math.pow(10,n-3));return We(r,t.length)}},Ji={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vm={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),r=s>0?s:1-s;return n.ordinalNumber(r,{unit:"year"})}return Hs.y(e,t)},Y:function(e,t,n,s){const r=Hw(e,s),o=r>0?r:1-r;if(t==="YY"){const a=o%100;return We(a,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):We(o,t.length)},R:function(e,t){const n=Bw(e);return We(n,t.length)},u:function(e,t){const n=e.getFullYear();return We(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return We(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return We(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return Hs.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return We(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const r=uje(e,s);return t==="wo"?n.ordinalNumber(r,{unit:"week"}):We(r,t.length)},I:function(e,t,n){const s=cje(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):We(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Hs.d(e,t)},D:function(e,t,n){const s=aje(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):We(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const r=e.getDay(),o=(r-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return We(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const r=e.getDay(),o=(r-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return We(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),r=s===0?7:s;switch(t){case"i":return String(r);case"ii":return We(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let r;switch(s===12?r=Ji.noon:s===0?r=Ji.midnight:r=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let r;switch(s>=17?r=Ji.evening:s>=12?r=Ji.afternoon:s>=4?r=Ji.morning:r=Ji.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Hs.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Hs.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):We(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):We(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Hs.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Hs.s(e,t)},S:function(e,t){return Hs.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return zm(s);case"XXXX":case"XX":return fi(s);case"XXXXX":case"XXX":default:return fi(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return zm(s);case"xxxx":case"xx":return fi(s);case"xxxxx":case"xxx":default:return fi(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Um(s,":");case"OOOO":default:return"GMT"+fi(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Um(s,":");case"zzzz":default:return"GMT"+fi(s,":")}},t:function(e,t,n){const s=Math.trunc(+e/1e3);return We(s,t.length)},T:function(e,t,n){return We(+e,t.length)}};function Um(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),r=Math.trunc(s/60),o=s%60;return o===0?n+String(r):n+String(r)+t+We(o,2)}function zm(e,t){return e%60===0?(e>0?"-":"+")+We(Math.abs(e)/60,2):fi(e,t)}function fi(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),r=We(Math.trunc(s/60),2),o=We(s%60,2);return n+r+t+o}const Bm=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Gw=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},dje=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],r=n[2];if(!r)return Bm(e,t);let o;switch(s){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Bm(s,t)).replace("{{time}}",Gw(r,t))},hje={p:Gw,P:dje},pje=/^D+$/,fje=/^Y+$/,gje=["D","DD","YY","YYYY"];function mje(e){return pje.test(e)}function bje(e){return fje.test(e)}function xje(e,t,n){const s=yje(e,t,n);if(console.warn(s),gje.includes(e))throw new RangeError(s)}function yje(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vje=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wje=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Sje=/^'([^]*?)'?$/,jje=/''/g,Tje=/[a-zA-Z]/;function Hm(e,t,n){const s=bl(),r=s.locale??oje,o=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,a=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,c=ls(e,n?.in);if(!kSe(c))throw new RangeError("Invalid time value");let l=t.match(wje).map(d=>{const h=d[0];if(h==="p"||h==="P"){const p=hje[h];return p(d,r.formatLong)}return d}).join("").match(vje).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const h=d[0];if(h==="'")return{isToken:!1,value:Eje(d)};if(Vm[h])return{isToken:!0,value:d};if(h.match(Tje))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:d}});r.localize.preprocessor&&(l=r.localize.preprocessor(c,l));const u={firstWeekContainsDate:o,weekStartsOn:a,locale:r};return l.map(d=>{if(!d.isToken)return d.value;const h=d.value;(bje(h)||mje(h))&&xje(h,t,String(e));const p=Vm[h[0]];return p(c,h,r.localize,u)}).join("")}function Eje(e){const t=e.match(Sje);return t?t[1].replace(jje,"'"):e}function kje(){const[e,t]=SS(),[n,s]=v.useState(!1),r=v.useMemo(()=>"3.1.7",[]),o=v.useMemo(()=>[["Version",r],["Build date",Hm("2024-12-14T07:39:10.320Z","MMMM do, yyyy")],["Build time",Hm("2024-12-14T07:39:10.320Z","HH:mm:ss OOO")],["Build mode","production"],["Compatibility","SurrealDB 2.0.0+"]],[r]),a=L(()=>{s(!0),fe.checkForUpdates(!0).finally(()=>{s(!1)})});return i.jsxs(i.Fragment,{children:[i.jsx(_,{c:"slate",children:"Surrealist © 2024 SurrealDB Ltd"}),i.jsx(B,{gap:"xs",mt:"xl",children:o.map(([c,l])=>i.jsxs(_,{children:[c,":"," ",i.jsx(_,{className:xd.aboutValue,c:"bright",span:!0,children:l})]},"key"))}),i.jsxs(B,{mt:"xl",children:[i.jsx(an,{href:"https://github.com/surrealdb/surrealist/",children:"GitHub Repository"}),i.jsx(an,{href:"https://surrealdb.com/docs/surrealist",children:"Surrealist Documentation"})]}),i.jsxs(B,{mt:"xl",maw:250,children:[i.jsx(X,{onClick:e,rightSection:i.jsx(E,{path:t.copied?tn:Rb}),color:t.copied?"surreal":"slate",variant:"light",size:"xs",children:"Copy environment information"}),Fr&&i.jsx(X,{onClick:a,color:"slate",variant:"light",size:"xs",rightSection:i.jsx(E,{path:zo,spin:n}),children:"Check for updates"})]})]})}function Oje(){const[e,t]=ws(),n=v.useMemo(()=>Object.keys(e),[e]),s=Ic.initialStore,[r,o]=Ee(""),a=v.useMemo(()=>n.filter(c=>Kn(r,c)),[n,r]);return i.jsxs(Fe,{pr:"xl",flex:1,scrollbars:"y",type:"always",children:[i.jsx(le,{leftSection:i.jsx(E,{path:Ss,size:"sm"}),autoFocus:!0,placeholder:"Search preferences",value:r,onChange:o,size:"xs",mb:"sm"}),i.jsxs(B,{mt:"xl",pb:32,children:[a.length===0&&i.jsx(_,{ta:"center",c:"slate",mt:"xl",children:"No flags matched your search"}),a.map(c=>{const l=Object.fromEntries(mp[c].options.map(d=>[d.toString(),d])),u=mp[c].options.map(d=>d.toString());return i.jsxs(U,{gap:"xs",children:[i.jsx(_,{fw:600,c:"bright",children:c}),i.jsxs(_,{c:"slate",children:["(",typeof e[c],")"]}),i.jsx(je,{}),s[c]!==e[c]&&i.jsx(de,{variant:"subtle",onClick:()=>t({[c]:s[c]}),"aria-label":"Reset to default value",children:i.jsx(E,{path:zo})}),i.jsx(yt,{data:u,value:e[c].toString(),onChange:d=>t({[c]:d?l[d]:s[c]}),size:"xs"})]},c)})]})]})}function Cje({value:e,onChange:t,...n}){const s=v.useRef(new Set),[r,o]=Z0({value:e,defaultValue:[],finalValue:[],onChange:t}),a=L(l=>{l.preventDefault(),l.stopPropagation();const u=gg(l.code);if(EN(u)){s.current.add(u);return}const h=[...s.current,u];o(h)}),c=L(l=>{s.current.delete(gg(l.code))});return i.jsx(le,{readOnly:!0,value:ky(r),onKeyDown:a,onKeyUp:c,styles:{input:{fontSize:"var(--mantine-font-size-lg)",fontFamily:"var(--mantine-font-family-monospace)"}},...n})}function _je(){const[e,t]=Ee(""),n=Se(h=>h.keybindings),s=lb(),r=jS(),o=kd(),[a,c]=nt(),[l,u]=v.useState(null),d=v.useMemo(()=>s.flatMap(h=>{const p=h.commands.filter(f=>f.binding&&(Kn(e,f.name)||f.aliases?.some(g=>Kn(e,g))));return p.length===0?[]:[{...h,commands:p}]}),[s,e]);return i.jsxs(i.Fragment,{children:[i.jsxs(Fe,{pr:"xl",flex:1,scrollbars:"y",type:"always",children:[i.jsx(le,{leftSection:i.jsx(E,{path:Ss,size:"sm"}),placeholder:"Search commands",value:e,onChange:t,autoFocus:!0,size:"xs",mb:"sm"}),i.jsxs(B,{gap:"xl",mt:"xl",pb:32,children:[d.length===0&&i.jsx(_,{ta:"center",c:"slate",mt:"xl",children:"No results matched your search"}),d.map((h,p)=>i.jsxs(G,{children:[i.jsx(_,{fw:600,fz:20,c:"bright",children:h.name}),i.jsx(B,{mt:"lg",gap:"xs",children:h.commands.map((f,g)=>{const m=o.get(f.id),b=n[f.id]!==void 0;return i.jsxs(v.Fragment,{children:[i.jsxs(U,{h:42,children:[i.jsx(E,{path:f.icon,size:"sm"}),i.jsx(_,{c:"bright",children:f.name}),b&&i.jsx(_,{c:"slate",children:"(Modified)"}),i.jsx(je,{}),m&&m.length>0?i.jsx(Sh,{value:m}):i.jsx(_,{c:"slate",children:"—"}),i.jsx(de,{ml:"xl",variant:"subtle",onClick:()=>{u(f),c.open()},children:i.jsx(E,{path:m?Fd:Ie})})]}),g<h.commands.length-1&&i.jsx(Ne,{})]},g)})})]},p))]})]}),i.jsx(Je,{opened:a,onClose:c.close,children:l&&i.jsx(Nje,{command:l,commands:r,keybindMap:o,onClose:c.close})})]})}function Nje({command:e,commands:t,keybindMap:n,onClose:s}){const{setKeybinding:r,removeKeybinding:o}=Se.getState(),[a,c]=v.useState([]),l=n.get(e.id),u=l&&l.length>0,d=l&&!Da(l,e.binding),h=Array.from(n.entries().filter(([g,m])=>g!==e.id&&Da(m,a)).map(([g])=>g)),p=L(()=>{o(e.id),s()}),f=L(()=>{const g=e.binding===!0?[]:e.binding;Da(a,g)?o(e.id):r(e.id,a),s()});return i.jsxs(B,{children:[i.jsxs(G,{children:[i.jsxs(U,{gap:"xs",children:[i.jsx(E,{path:e.icon,size:"sm"}),i.jsx(_,{fz:"sm",children:e.name})]}),i.jsx(ve,{mt:"xs",fw:500,c:"bright",fz:"lg",children:"Enter your desired keybinding"}),u&&i.jsxs(_,{fz:"sm",mt:"xs",children:["Currently bound to ",i.jsx("b",{children:ky(l)})]})]}),i.jsx(G,{children:i.jsx(Cje,{mt:"sm",autoFocus:!0,value:a,onChange:c,placeholder:"Listening for input..."})}),h.length>0&&i.jsxs(De,{bg:"slate.9",mt:"sm",p:"lg",children:[i.jsx(_,{mb:"xs",c:"bright",fw:500,children:"Conflicting keybindings"}),h.map(g=>{const m=t.get(g);return m&&i.jsxs(U,{mt:2,gap:"xs",children:[i.jsx(E,{path:m.icon??"",size:"sm"}),i.jsx(_,{children:m.name})]},g)})]}),i.jsxs(U,{mt:"lg",children:[i.jsx(X,{onClick:s,color:"slate",variant:"light",flex:1,children:"Cancel"}),d&&i.jsx(X,{onClick:p,color:"slate",variant:"light",flex:1,children:"Reset"}),i.jsx(X,{type:"submit",variant:"gradient",onClick:f,flex:1,children:"Save"})]})]})}const Ije=[{name:"@codemirror/autocomplete",licenseType:"MIT",link:"git+https://github.com/codemirror/autocomplete.git",installedVersion:"6.16.3",author:"Marijn Haverbeke marijn@haverbeke.berlin http://marijnhaverbeke.nl"},{name:"@codemirror/commands",licenseType:"MIT",link:"git+https://github.com/codemirror/commands.git",installedVersion:"6.6.0",author:"Marijn Haverbeke marijn@haverbeke.berlin http://marijnhaverbeke.nl"},{name:"@codemirror/lang-html",licenseType:"MIT",link:"git+https://github.com/codemirror/lang-html.git",installedVersion:"6.4.9",author:"Marijn Haverbeke marijn@haverbeke.berlin http://marijnhaverbeke.nl"},{name:"@codemirror/lang-javascript",licenseType:"MIT",link:"git+https://github.com/codemirror/lang-javascript.git",installedVersion:"6.2.2",author:"Marijn Haverbeke marijn@haverbeke.berlin http://marijnhaverbeke.nl"},{name:"@codemirror/lang-json",licenseType:"MIT",link:"git+https://github.com/codemirror/lang-json.git",installedVersion:"6.0.1",author:"Marijn Haverbeke marijnh@gmail.com http://marijnhaverbeke.nl"},{name:"@codemirror/lang-php",licenseType:"MIT",link:"git+https://github.com/codemirror/lang-php.git",installedVersion:"6.0.1",author:"Marijn Haverbeke marijnh@gmail.com http://marijnhaverbeke.nl"},{name:"@codemirror/lang-python",licenseType:"MIT",link:"git+https://github.com/codemirror/lang-python.git",installedVersion:"6.1.6",author:"Marijn Haverbeke marijn@haverbeke.berlin http://marijnhaverbeke.nl"},{name:"@codemirror/lang-rust",licenseType:"MIT",link:"git+https://github.com/codemirror/lang-rust.git",installedVersion:"6.0.1",author:"Marijn Haverbeke marijnh@gmail.com http://marijnhaverbeke.nl"},{name:"@codemirror/language",licenseType:"MIT",link:"git+https://github.com/codemirror/language.git",installedVersion:"6.10.2",author:"Marijn Haverbeke marijn@haverbeke.berlin http://marijnhaverbeke.nl"},{name:"@codemirror/legacy-modes",licenseType:"MIT",link:"git+https://github.com/codemirror/legacy-modes.git",installedVersion:"6.4.0",author:"Marijn Haverbeke marijn@haverbeke.berlin http://marijnhaverbeke.nl"},{name:"@codemirror/lint",licenseType:"MIT",link:"git+https://github.com/codemirror/lint.git",installedVersion:"6.8.1",author:"Marijn Haverbeke marijn@haverbeke.berlin http://marijnhaverbeke.nl"},{name:"@codemirror/search",licenseType:"MIT",link:"git+https://github.com/codemirror/search.git",installedVersion:"6.5.6",author:"Marijn Haverbeke marijn@haverbeke.berlin http://marijnhaverbeke.nl"},{name:"@codemirror/state",licenseType:"MIT",link:"git+https://github.com/codemirror/state.git",installedVersion:"6.4.1",author:"Marijn Haverbeke marijn@haverbeke.berlin http://marijnhaverbeke.nl"},{name:"@codemirror/view",licenseType:"MIT",link:"git+https://github.com/codemirror/view.git",installedVersion:"6.28.1",author:"Marijn Haverbeke marijn@haverbeke.berlin http://marijnhaverbeke.nl"},{name:"@dnd-kit/core",licenseType:"MIT",link:"git+https://github.com/clauderic/dnd-kit.git",installedVersion:"6.1.0",author:"Claudéric Demers"},{name:"@dnd-kit/modifiers",licenseType:"MIT",link:"git+https://github.com/clauderic/dnd-kit.git",installedVersion:"7.0.0",author:"Claudéric Demers"},{name:"@dnd-kit/sortable",licenseType:"MIT",link:"git+https://github.com/clauderic/dnd-kit.git",installedVersion:"8.0.0",author:"Claudéric Demers"},{name:"@dnd-kit/utilities",licenseType:"MIT",link:"git+https://github.com/clauderic/dnd-kit.git",installedVersion:"3.2.2",author:"Claudéric Demers"},{name:"@lezer/highlight",licenseType:"MIT",link:"git+https://github.com/lezer-parser/highlight.git",installedVersion:"1.2.0",author:"Marijn Haverbeke <marijn@haverbeke.berlin>"},{name:"@mantine/core",licenseType:"MIT",link:"https://github.com/mantinedev/mantine.git",installedVersion:"7.11.0",author:"Vitaly Rtishchev <rtivital@gmail.com>"},{name:"@mantine/hooks",licenseType:"MIT",link:"https://github.com/mantinedev/mantine.git",installedVersion:"7.11.0",author:"Vitaly Rtishchev <rtivital@gmail.com>"},{name:"@mantine/notifications",licenseType:"MIT",link:"https://github.com/mantinedev/mantine.git",installedVersion:"7.11.0",author:"Vitaly Rtishchev <rtivital@gmail.com>"},{name:"@mdi/js",licenseType:"Apache-2.0",link:"git+https://github.com/Templarian/MaterialDesign-JS.git",installedVersion:"7.4.47",author:"Austin Andrews"},{name:"@replit/codemirror-indentation-markers",licenseType:"MIT",link:"git+https://github.com/replit/codemirror-indentation-markers.git",installedVersion:"6.5.2",author:"Sergei Chestakov me@sergei.com"},{name:"@tanstack/react-query",licenseType:"MIT",link:"git+https://github.com/TanStack/query.git",installedVersion:"5.45.1",author:"tannerlinsley"},{name:"@tauri-apps/api",licenseType:"Apache-2.0 OR MIT",link:"git+https://github.com/tauri-apps/tauri.git",installedVersion:"2.0.0-beta.11",author:"n/a"},{name:"@tauri-apps/plugin-deep-link",licenseType:"MIT or APACHE-2.0",link:"https://registry.npmjs.org/@tauri-apps/plugin-deep-link/-/plugin-deep-link-2.0.0-beta.4.tgz",installedVersion:"2.0.0-beta.4",author:"n/a"},{name:"@tauri-apps/plugin-dialog",licenseType:"MIT or APACHE-2.0",link:"https://registry.npmjs.org/@tauri-apps/plugin-dialog/-/plugin-dialog-2.0.0-beta.3.tgz",installedVersion:"2.0.0-beta.3",author:"n/a"},{name:"@tauri-apps/plugin-fs",licenseType:"MIT or APACHE-2.0",link:"https://registry.npmjs.org/@tauri-apps/plugin-fs/-/plugin-fs-2.0.0-beta.3.tgz",installedVersion:"2.0.0-beta.3",author:"n/a"},{name:"@tauri-apps/plugin-http",licenseType:"MIT or APACHE-2.0",link:"https://registry.npmjs.org/@tauri-apps/plugin-http/-/plugin-http-2.0.0-beta.6.tgz",installedVersion:"2.0.0-beta.6",author:"n/a"},{name:"@tauri-apps/plugin-log",licenseType:"MIT or APACHE-2.0",link:"https://registry.npmjs.org/@tauri-apps/plugin-log/-/plugin-log-2.0.0-beta.4.tgz",installedVersion:"2.0.0-beta.4",author:"n/a"},{name:"@tauri-apps/plugin-os",licenseType:"MIT or APACHE-2.0",link:"https://registry.npmjs.org/@tauri-apps/plugin-os/-/plugin-os-2.0.0-beta.3.tgz",installedVersion:"2.0.0-beta.3",author:"n/a"},{name:"@tauri-apps/plugin-process",licenseType:"MIT or APACHE-2.0",link:"https://registry.npmjs.org/@tauri-apps/plugin-process/-/plugin-process-2.0.0-beta.5.tgz",installedVersion:"2.0.0-beta.5",author:"n/a"},{name:"@tauri-apps/plugin-shell",licenseType:"MIT or APACHE-2.0",link:"https://registry.npmjs.org/@tauri-apps/plugin-shell/-/plugin-shell-2.0.0-beta.3.tgz",installedVersion:"2.0.0-beta.3",author:"n/a"},{name:"@tauri-apps/plugin-updater",licenseType:"MIT or APACHE-2.0",link:"https://registry.npmjs.org/@tauri-apps/plugin-updater/-/plugin-updater-2.0.0-beta.5.tgz",installedVersion:"2.0.0-beta.5",author:"n/a"},{name:"@theopensource-company/feature-flags",licenseType:"Apache Licence 2.0",link:"git+https://github.com/theopensource-company/feature-flags.git",installedVersion:"0.4.6",author:"n/a"},{name:"ansi-to-html",licenseType:"MIT",link:"git+https://github.com/rburns/ansi-to-html.git",installedVersion:"0.7.2",author:"Rob Burns rburns@paiges.net http://rburns.paiges.net/"},{name:"clsx",licenseType:"MIT",link:"git+https://github.com/lukeed/clsx.git",installedVersion:"2.1.1",author:"Luke Edwards luke.edwards05@gmail.com https://lukeed.com"},{name:"codemirror",licenseType:"MIT",link:"git+https://github.com/codemirror/CodeMirror.git",installedVersion:"6.0.1",author:"Marijn Haverbeke marijnh@gmail.com http://marijnhaverbeke.nl"},{name:"codemirror-surrealql",licenseType:"n/a",link:"n/a",installedVersion:"0.0.1",author:"SurrealDB"},{name:"dayjs",licenseType:"MIT",link:"git+https://github.com/iamkun/dayjs.git",installedVersion:"1.11.11",author:"iamkun"},{name:"dedent",licenseType:"MIT",link:"git+https://github.com/dmnd/dedent.git",installedVersion:"1.5.3",author:"Desmond Brand dmnd@desmondbrand.com http://desmondbrand.com"},{name:"elkjs",licenseType:"EPL-2.0",link:"git+https://github.com/kieler/elkjs.git",installedVersion:"0.9.3",author:"Ulf Rüegg uruurumail@gmail.com"},{name:"escape-string-regexp",licenseType:"MIT",link:"git+https://github.com/sindresorhus/escape-string-regexp.git",installedVersion:"5.0.0",author:"Sindre Sorhus sindresorhus@gmail.com https://sindresorhus.com"},{name:"fast-deep-equal",licenseType:"MIT",link:"git+https://github.com/epoberezkin/fast-deep-equal.git",installedVersion:"3.1.3",author:"Evgeny Poberezkin"},{name:"geo-coordinates-parser",licenseType:"MIT",link:"git+https://github.com/ianengelbrecht/geo-coordinates-parser.git",installedVersion:"1.7.0",author:"Ian Engelbrecht"},{name:"html-to-image",licenseType:"MIT",link:"git+https://github.com/bubkoo/html-to-image.git",installedVersion:"1.11.11",author:"bubkooo bubkoo.wy@gmail.com"},{name:"immer",licenseType:"MIT",link:"git+https://github.com/immerjs/immer.git",installedVersion:"10.1.1",author:"Michel Weststrate <info@michel.codes>"},{name:"klona",licenseType:"MIT",link:"git+https://github.com/lukeed/klona.git",installedVersion:"2.0.6",author:"Luke Edwards luke.edwards05@gmail.com https://lukeed.com"},{name:"leaflet",licenseType:"BSD-2-Clause",link:"git://github.com/Leaflet/Leaflet.git",installedVersion:"1.9.4",author:"n/a"},{name:"lezer-surrealql",licenseType:"n/a",link:"n/a",installedVersion:"0.0.1",author:"SurrealDB"},{name:"lottie-web",licenseType:"MIT",link:"git+https://github.com/airbnb/lottie-web.git",installedVersion:"5.12.2",author:"n/a"},{name:"mantine-contextmenu",licenseType:"MIT",link:"git+https://github.com/icflorescu/mantine-contextmenu.git",installedVersion:"7.10.2",author:"Ionut-Cristian Florescu ionut.florescu@gmail.com https://github.com/icflorescu"},{name:"papaparse",licenseType:"MIT",link:"git+https://github.com/mholt/PapaParse.git",installedVersion:"5.4.1",author:"Matthew Holt https://twitter.com/mholt6"},{name:"posthog-js",licenseType:"MIT",link:"git+https://github.com/PostHog/posthog-js.git",installedVersion:"1.139.8",author:"hey@posthog.com"},{name:"radash",licenseType:"MIT",link:"git+https://github.com/rayepps/radash.git",installedVersion:"11.0.0",author:"rayepps"},{name:"react",licenseType:"MIT",link:"git+https://github.com/facebook/react.git",installedVersion:"18.3.1",author:"n/a"},{name:"react-dom",licenseType:"MIT",link:"git+https://github.com/facebook/react.git",installedVersion:"18.3.1",author:"n/a"},{name:"react-error-boundary",licenseType:"MIT",link:"git+https://github.com/bvaughn/react-error-boundary.git",installedVersion:"4.0.13",author:"Brian Vaughn <brian.david.vaughn@gmail.com>"},{name:"react-leaflet",licenseType:"Hippocratic-2.1",link:"git+https://github.com/PaulLeCam/react-leaflet.git",installedVersion:"4.2.1",author:"Paul Le Cam <paul@ulem.net>"},{name:"react-resizable-panels",licenseType:"MIT",link:"git+https://github.com/bvaughn/react-resizable-panels.git",installedVersion:"2.0.19",author:"Brian Vaughn <brian.david.vaughn@gmail.com>"},{name:"react-reverse-portal",licenseType:"Apache-2.0",link:"git+https://github.com/httptoolkit/react-reverse-portal.git",installedVersion:"2.1.2",author:"Tim Perry <tim@httptoolkit.tech>"},{name:"reactflow",licenseType:"MIT",link:"git+https://github.com/xyflow/xyflow.git",installedVersion:"11.11.4",author:"n/a"},{name:"rss-parser",licenseType:"MIT",link:"git+https://github.com/bobby-brennan/rss-parser.git",installedVersion:"3.13.0",author:"Bobby Brennan"},{name:"semver-compare",licenseType:"MIT",link:"git://github.com/substack/semver-compare.git",installedVersion:"1.0.0",author:"James Halliday mail@substack.net http://substack.net"},{name:"surrealdb.js",licenseType:"Apache 2.0",link:"git+https://github.com/surrealdb/surrealdb.js.git",installedVersion:"1.0.0-beta.9",author:"Tobie Morgan Hitchcock https://surrealdb.com"},{name:"surrealdb.wasm",licenseType:"n/a",link:"git+https://github.com/surrealdb/surrealdb.wasm.git",installedVersion:"1.0.0-beta.12",author:"Tobie Morgan Hitchcock https://surrealdb.com"},{name:"surrealql.wasm",licenseType:"n/a",link:"git+https://github.com/surrealdb/surrealql.wasm.git",installedVersion:"0.1.8",author:"Tobie Morgan Hitchcock https://surrealdb.com"},{name:"use-immer",licenseType:"MIT",link:"git+https://github.com/mweststrate/use-immer.git",installedVersion:"0.9.0",author:"Michel Weststrate"},{name:"zustand",licenseType:"MIT",link:"git+https://github.com/pmndrs/zustand.git",installedVersion:"4.5.2",author:"Paul Henschel"},{name:"@tanstack/eslint-plugin-query",licenseType:"MIT",link:"git+https://github.com/TanStack/query.git",installedVersion:"5.43.1",author:"Eliya Cohen"},{name:"@tauri-apps/cli",licenseType:"Apache-2.0 OR MIT",link:"git+https://github.com/tauri-apps/tauri.git",installedVersion:"2.0.0-beta.20",author:"n/a"},{name:"@types/leaflet",licenseType:"MIT",link:"https://github.com/DefinitelyTyped/DefinitelyTyped.git",installedVersion:"1.9.12",author:"n/a"},{name:"@types/node",licenseType:"MIT",link:"https://github.com/DefinitelyTyped/DefinitelyTyped.git",installedVersion:"20.14.7",author:"n/a"},{name:"@types/papaparse",licenseType:"MIT",link:"https://github.com/DefinitelyTyped/DefinitelyTyped.git",installedVersion:"5.3.14",author:"n/a"},{name:"@types/react",licenseType:"MIT",link:"https://github.com/DefinitelyTyped/DefinitelyTyped.git",installedVersion:"18.3.3",author:"n/a"},{name:"@types/react-dom",licenseType:"MIT",link:"https://github.com/DefinitelyTyped/DefinitelyTyped.git",installedVersion:"18.3.0",author:"n/a"},{name:"@types/semver",licenseType:"MIT",link:"https://github.com/DefinitelyTyped/DefinitelyTyped.git",installedVersion:"7.5.8",author:"n/a"},{name:"@types/semver-compare",licenseType:"MIT",link:"https://github.com/DefinitelyTyped/DefinitelyTyped.git",installedVersion:"1.0.3",author:"n/a"},{name:"@typescript-eslint/eslint-plugin",licenseType:"MIT",link:"git+https://github.com/typescript-eslint/typescript-eslint.git",installedVersion:"6.21.0",author:"n/a"},{name:"@typescript-eslint/parser",licenseType:"BSD-2-Clause",link:"git+https://github.com/typescript-eslint/typescript-eslint.git",installedVersion:"6.21.0",author:"n/a"},{name:"@vitejs/plugin-legacy",licenseType:"MIT",link:"git+https://github.com/vitejs/vite.git",installedVersion:"5.4.1",author:"Evan You"},{name:"@vitejs/plugin-react",licenseType:"MIT",link:"git+https://github.com/vitejs/vite-plugin-react.git",installedVersion:"4.3.1",author:"Evan You"},{name:"eslint",licenseType:"MIT",link:"git+https://github.com/eslint/eslint.git",installedVersion:"8.57.0",author:"Nicholas C. Zakas <nicholas+npm@nczconsulting.com>"},{name:"eslint-plugin-react-hooks",licenseType:"MIT",link:"git+https://github.com/facebook/react.git",installedVersion:"4.6.2",author:"n/a"},{name:"eslint-plugin-unicorn",licenseType:"MIT",link:"git+https://github.com/sindresorhus/eslint-plugin-unicorn.git",installedVersion:"48.0.1",author:"Sindre Sorhus sindresorhus@gmail.com https://sindresorhus.com"},{name:"eslint-plugin-unused-imports",licenseType:"MIT",link:"git+https://github.com/sweepline/eslint-plugin-unused-imports.git",installedVersion:"3.2.0",author:"Mikkel Holmer Pedersen"},{name:"license-report",licenseType:"MIT",link:"git+https://github.com/ironSource/license-report.git",installedVersion:"6.5.0",author:"Yaniv Kessler"},{name:"sass",licenseType:"MIT",link:"git+https://github.com/sass/dart-sass.git",installedVersion:"1.77.6",author:"Natalie Weizenbaum nweiz@google.com https://github.com/nex3"},{name:"sharp",licenseType:"Apache-2.0",link:"git://github.com/lovell/sharp.git",installedVersion:"0.33.4",author:"Lovell Fuller <npm@lovell.info>"},{name:"svgo",licenseType:"MIT",link:"git://github.com/svg/svgo.git",installedVersion:"3.3.2",author:"Kir Belevich kir@belevi.ch https://github.com/deepsweet"},{name:"typescript",licenseType:"Apache-2.0",link:"git+https://github.com/Microsoft/TypeScript.git",installedVersion:"5.5.2",author:"Microsoft Corp."},{name:"vite",licenseType:"MIT",link:"git+https://github.com/vitejs/vite.git",installedVersion:"5.3.1",author:"Evan You"},{name:"vite-plugin-markdown",licenseType:"MIT",link:"git+https://github.com/hmsk/vite-plugin-markdown.git",installedVersion:"2.2.0",author:"Kengo Hamasaki <k.hamasaki@gmail.com>"}];function Dje(){return i.jsx(Fe,{mt:"xl",scrollbars:"xy",type:"always",bottom:"var(--mantine-spacing-xl)",children:i.jsxs(W,{style:{whiteSpace:"nowrap"},children:[i.jsx(W.Thead,{children:i.jsxs(W.Tr,{children:[i.jsx(W.Th,{children:"Package"}),i.jsx(W.Th,{children:"License"}),i.jsx(W.Th,{children:"Version"}),i.jsx(W.Th,{children:"Author"}),i.jsx(W.Th,{children:"Link"})]})}),i.jsx(W.Tbody,{children:Ije.map(e=>{const t=e.link.startsWith("git+")?e.link.slice(4):e.link;return i.jsxs(W.Tr,{children:[i.jsx(W.Td,{children:e.name}),i.jsx(W.Td,{children:e.licenseType}),i.jsx(W.Td,{children:e.installedVersion}),i.jsx(W.Td,{children:e.author}),i.jsx(W.Td,{children:i.jsx(Pt,{href:t,children:t})})]},e.name)})})]})})}function Rje(){const e=Hd(),[t,n]=v.useState(!1),[s,r]=v.useState(!1),[o,a]=v.useState([]),c=v.useMemo(()=>e.map(m=>({value:m.id,label:m.name})),[e]),l=hc(n),u=hc(r),d=L(()=>{fe.saveFile("Save config backup","surrealist-backup.json",[bp],async()=>wT({stripSensitive:!s,connections:o}))}),[h,p]=v.useState(null),f=L(()=>{fe.openTextFile("Select a backup file",[bp],!1).then(([m])=>{p(m.content)})}),g=L(()=>{if(!h)return;const m=JSON.parse(h);if(typeof m!="object"||typeof m.config!="object"){Rt({title:"Restore failed",subtitle:"Invalid backup file provided"});return}const b=ST(m.config),x=jT(Se.getState(),b);Se.setState(x),p(null),Ls({title:"Restore successful",subtitle:"Your configuration has been restored"})});return i.jsx(Fe,{pr:"xl",flex:1,scrollbars:"y",type:"always",children:i.jsxs(B,{gap:"xl",pb:32,children:[i.jsxs(G,{children:[i.jsx(_,{fw:600,fz:20,c:"bright",children:"Backup your configuration"}),i.jsxs(B,{align:"start",mt:"md",children:[i.jsxs(_,{children:["Generate a backup of your Surrealist configuration which can be restored later.",i.jsx("br",{}),"You can customize the backup to include sensitive details or limit the included connections."]}),i.jsx(Lt,{label:"Include sensitive information",checked:s,onChange:u}),i.jsx(Lt,{label:"Only include specific connections",checked:t,onChange:l}),i.jsx(go,{data:c,value:o,disabled:!t,onChange:a,placeholder:o.length===0?"Select connections":void 0,styles:{inputField:{transform:"translateY(2px)"}}}),i.jsx(X,{px:"xl",mt:"md",size:"xs",variant:"gradient",rightSection:i.jsx(E,{path:ns}),onClick:d,children:"Save backup"})]})]}),i.jsxs(G,{children:[i.jsx(_,{mt:"xl",fw:600,fz:20,c:"bright",children:"Restore configuration"}),i.jsxs(B,{align:"start",mt:"md",children:[i.jsx(_,{children:"Restore a previously generated backup of your Surrealist configuration."}),i.jsxs(U,{children:[i.jsx(X,{px:"xl",size:"xs",color:"slate",rightSection:i.jsx(E,{path:Yo}),onClick:f,children:"Select a backup file"}),h&&i.jsx(X,{px:"xl",size:"xs",variant:"gradient",onClick:g,rightSection:i.jsx(E,{path:tn}),children:"Apply backup"})]})]})]})]})})}function Aje(){const[e,t]=Ee(""),n=v.useMemo(()=>TS(),[]),s=v.useMemo(()=>n.flatMap(r=>{const o=r.preferences.filter(a=>Kn(e,a.name)||Kn(e,a.description));return o.length===0?[]:[{...r,preferences:o}]}),[n,e]);return i.jsxs(Fe,{pr:"xl",flex:1,scrollbars:"y",type:"always",children:[i.jsx(le,{leftSection:i.jsx(E,{path:Ss,size:"sm"}),placeholder:"Search preferences",value:e,onChange:t,autoFocus:!0,size:"xs",mb:"sm"}),i.jsxs(B,{gap:52,mt:"xl",pb:32,children:[s.length===0&&i.jsx(_,{ta:"center",c:"slate",mt:"xl",children:"No preferences matched your search"}),s.map((r,o)=>i.jsxs(G,{children:[i.jsx(_,{fw:600,fz:20,c:"bright",children:r.name}),i.jsx(B,{mt:"lg",gap:"lg",children:r.preferences.map((a,c)=>i.jsxs(v.Fragment,{children:[i.jsxs(U,{children:[i.jsxs(G,{children:[i.jsx(_,{c:"bright",children:a.name}),a.description&&i.jsx(_,{fz:"sm",c:"slate",children:a.description})]}),i.jsx(je,{}),i.jsx(Tw,{controller:a.controller})]}),c<r.preferences.length-1&&i.jsx(Ne,{})]},c))})]},o))]})]})}function Ua({label:e,children:t,...n}){return i.jsxs(B,{gap:"md",...n,children:[e&&i.jsx(xn,{order:2,c:"bright",size:18,children:e}),t]})}const Gs="serving",Pje=[{label:"Memory",value:"memory"},{label:"RocksDB",value:"file"},{label:"SurrealKV",value:"surrealkv"},{label:"TiKV",value:"tikv"}],$je=[{label:"Error",value:"error"},{label:"Warn",value:"warn"},{label:"Info",value:"info"},{label:"Debug",value:"debug"},{label:"Trace",value:"trace"}];function Lje(){const[e,t]=ut(Gs,"driver"),[n,s]=ut(Gs,"storage"),[r,o]=ut(Gs,"username"),[a,c]=ut(Gs,"password"),[l,u]=ut(Gs,"executable"),[d,h]=ut(Gs,"logLevel"),[p,f]=ut(Gs,"historySize"),[g,m]=ut(Gs,"port"),b=e==="file"||e==="surrealkv",x=L(w=>{m(w)}),T=L(w=>{f(w)});return i.jsxs(Fe,{pr:"xl",flex:1,scrollbars:"y",type:"always",pb:32,children:[i.jsxs(_,{mb:"xl",maw:500,children:["You can use Surrealist Desktop to serve SurrealDB on your local machine.",i.jsx("br",{}),"This page allows you to customize the settings for the database."]}),i.jsxs(Ua,{label:"Options",maw:400,children:[i.jsx(eu,{label:"Serving port",value:g,onChange:x,min:1,max:65535}),i.jsx(yt,{w:"unset",label:"Log level",data:$je,value:d,onChange:h}),i.jsx(eu,{w:"unset",label:"Console history size",value:p,onChange:T,min:1,max:1e4}),i.jsx(le,{w:"unset",label:"SurrealDB executable path",value:l,spellCheck:!1,onChange:w=>u(w.target.value),placeholder:"Leave empty to infer from $PATH"})]}),i.jsxs(Ua,{mt:"xl",maw:400,label:"Authentication",children:[i.jsx(le,{w:"unset",label:"Initial root user",placeholder:"root",value:r,spellCheck:!1,onChange:w=>o(w.target.value)}),i.jsx(le,{w:"unset",label:"Initial root password",placeholder:"root",value:a,spellCheck:!1,onChange:w=>c(w.target.value)})]}),i.jsxs(Ua,{mt:"xl",maw:400,label:"Storage",children:[i.jsx(yt,{w:"unset",label:"Storage mode",data:Pje,value:e,spellCheck:!1,onChange:t}),(e==="file"||e==="tikv"||e==="surrealkv")&&i.jsx(le,{w:"unset",label:b?"Storage path":"Storage cluster address",placeholder:b?"/path/to/storage":"address:port",value:n,spellCheck:!1,onChange:w=>s(w.target.value)})]})]})}const Mje="templates";function Wl(){const e=Se.getState().settings;return{...Rd(e),name:"New template"}}function Fje(){const[e,t]=ut(Mje,"list"),[n,s]=rs(Wl()),[r,o]=Cn(),a=L(()=>{o.open();const h=e.map(f=>f.name),p=hu("New template",h);s({...Wl(),name:p})}),c=L(h=>{o.open(),s({...Wl(),id:h.id,name:h.name,icon:h.icon,authentication:h.values,group:h.group})}),l=L(()=>{const h=[...e],p=h.findIndex(g=>g.id===n.id),f={id:n.id,name:n.name,icon:n.icon,group:n.group||void 0,values:n.authentication};p>=0?h[p]=f:h.push(f),t(h),o.close()}),u=L(h=>{const p=e.findIndex(f=>f.id===h.id);p>=0&&t(e.toSpliced(p,1)),o.close()}),d=L(h=>{const p=e.map(g=>g.name),f=hu(h.name,p);t([...e,{...h,id:Ce(),name:f}])});return i.jsxs(i.Fragment,{children:[i.jsxs(Ua,{children:[i.jsxs(_,{mb:"xs",children:["Connection templates make it easier to create new connections by pre-filling common connection details. ",i.jsx("br",{}),"From the connection editor you can choose which template to use."]}),e.map(h=>i.jsx(qje,{template:h,onOpen:c,onRemove:u,onDuplicate:d},h.id)),i.jsx(Tt,{variant:"subtle",onClick:a,leftSection:i.jsx(E,{path:Ie}),children:"New template"})]}),i.jsx(Je,{opened:r,onClose:o.close,trapFocus:!1,size:"lg",children:i.jsxs(Kt,{onSubmit:l,children:[i.jsx(Ew,{value:n,onChange:s}),i.jsxs(U,{mt:"lg",children:[i.jsx(X,{color:"slate",variant:"light",onClick:o.close,children:"Close"}),i.jsx(je,{}),i.jsx(X,{type:"submit",variant:"gradient",rightSection:i.jsx(E,{path:n.id?tn:Ie}),children:n.id?"Save":"Create"})]})]})})]})}function qje({template:e,onOpen:t,onRemove:n,onDuplicate:s,...r}){const[o,a]=v.useState(!1),c=L(()=>{t(e)}),l=L(h=>{h.stopPropagation(),a(!0)}),u=_n({title:"Remove template",message:"Are you sure you want to remove this template?",skippable:!0,onConfirm(){n(e)}}),d=L(()=>{s(e)});return i.jsx(Tt,{onClick:c,leftSection:i.jsx(E,{path:Md}),rightSection:i.jsxs(Y,{opened:o,onChange:a,transitionProps:{transition:"scale-y"},children:[i.jsx(Y.Target,{children:i.jsx(de,{component:"div",variant:"transparent",onClick:l,"aria-label":"Connection options",children:i.jsx(E,{path:vr})})}),i.jsxs(Y.Dropdown,{onClick:ji,children:[i.jsx(Y.Item,{leftSection:i.jsx(E,{path:ui}),onClick:d,children:"Duplicate"}),i.jsx(Y.Divider,{}),i.jsx(Y.Item,{leftSection:i.jsx(E,{path:ts,c:"red"}),onClick:u,c:"red",children:"Delete"})]})]}),...r,children:i.jsx(_,{truncate:!0,children:e.name})},e.id)}const Qje=[{id:"preferences",name:"Preferences",icon:Bo,component:Aje},{id:"keybindings",name:"Keybindings",icon:Ad,component:_je},{id:"templates",name:"Templates",icon:Vi,component:Fje},{id:"serving",name:"Database Serving",icon:Eb,component:Lje,disabled:()=>!Fr},{id:"manage-data",name:"Backup & Restore",icon:$c,component:Rje},{id:"feature-flags",name:"Feature Flags",icon:Db,component:Oje,disabled:e=>!e.feature_flags},{id:"licenses",name:"OSS Licenses",icon:Ab,component:Dje},{id:"about",name:"About",icon:Qi,component:kje}];function Gm({activeTab:e,categories:t,withBorder:n,setActiveTab:s,...r}){const o=_b(),a=Ye(p=>p.availableUpdate),{phase:c,progress:l,version:u,startUpdate:d}=Uw(),h=t.filter(p=>!p.disabled||p.id===e);return i.jsxs(B,{py:"lg",px:"xl",h:"100%",w:250,style:{borderRight:n?"1px solid var(--surrealist-divider-color)":void 0},gap:0,...r,children:[i.jsx(Xt,{mb:"xl",py:4,children:i.jsx(Vt,{h:36,src:o})}),i.jsxs(B,{gap:"xs",flex:1,children:[h.map(({id:p,name:f,icon:g})=>i.jsx(Tt,{variant:"subtle",isActive:e===p,onClick:()=>s(p),leftSection:i.jsx(E,{path:g}),children:f},p)),a&&i.jsxs(i.Fragment,{children:[i.jsx(je,{}),i.jsxs(Tt,{onClick:d,className:xd.updateButton,variant:"light",color:"slate",leftSection:i.jsx(Zm,{variant:"gradient",radius:"xs",className:xd.updateIcon,children:i.jsx(E,{path:ns,c:"bright"})}),children:[i.jsx(_,{fw:600,children:"New version available"}),c==="downloading"?i.jsxs(_,{c:"gray.5",fz:"sm",children:["Installing... (",l,"%)"]}):c==="error"?i.jsx(_,{c:"red",fz:"sm",children:"Failed to install update"}):i.jsxs(_,{c:"gray.5",fz:"sm",children:["Click to install version ",u]})]})]})]})]})}function Vje(){const[e,t]=ws(),[n,s]=nt(),[r,o]=v.useState("preferences"),a=Qje.map(p=>({...p,disabled:p.disabled?p.disabled(e):!1})),c=a.find(p=>p.id===r),l=c?.component,u=L(p=>{h.close(),o(p)});Pe("open-settings",({tab:p})=>{p&&(o(p),p==="feature-flags"&&t({feature_flags:!0})),s.open()});const[d,h]=nt();return i.jsx(i.Fragment,{children:i.jsx(Je,{opened:n,onClose:s.close,padding:0,size:1200,children:i.jsxs(U,{h:"calc(100vh - 100px)",mah:650,gap:"xs",align:"stretch",wrap:"nowrap",pos:"relative",id:"settings",children:[i.jsx(Gm,{activeTab:r,categories:a,setActiveTab:u,withBorder:!0,visibleFrom:"md"}),i.jsx(Ar,{hiddenFrom:"md",opened:d,onClose:h.close,portalProps:{target:"#settings"},overlayProps:{backgroundOpacity:.35},padding:0,size:250,children:i.jsx(Gm,{activeTab:r,categories:a,setActiveTab:u,w:"100%",h:"100%"})}),i.jsxs(B,{pl:"xl",pt:"xl",gap:0,flex:1,miw:0,children:[i.jsxs(U,{mb:26,children:[i.jsx(Me,{label:"Toggle sidebar",position:"right",children:i.jsx(de,{hiddenFrom:"md",onClick:h.toggle,children:i.jsx(E,{path:bt})})}),i.jsx(xn,{size:26,c:"bright",children:c?.name??"Unknown"}),i.jsx(je,{}),i.jsx(de,{onClick:s.close,"aria-label":"Close settings",mr:"xl",children:i.jsx(E,{path:en})})]}),l&&i.jsx(l,{})]})]})})})}function Uje(){return i.jsx(kS,{children:i.jsx(_C,{children:i.jsx(wq,{})})})}function zje(){return i.jsxs(ES,{children:[i.jsx(Iq,{}),i.jsx(Uje,{}),i.jsx(Vje,{}),i.jsx(HQ,{}),i.jsx(qQ,{}),i.jsx(K0e,{}),i.jsx(LQ,{}),i.jsx(BQ,{}),i.jsx(tSe,{}),i.jsx(nSe,{}),i.jsx(dSe,{}),i.jsx(hSe,{}),i.jsx(pSe,{}),i.jsx(rSe,{}),i.jsx(X0e,{}),i.jsx(J0e,{}),i.jsx(cSe,{}),i.jsx(G0e,{}),i.jsx(oSe,{}),i.jsx(FQ,{}),i.jsx(aSe,{}),Fr&&i.jsx(fSe,{})]})}(async()=>{_i.extend(OS),oi.init("phc_BWVuHaJuhnFi3HthLhb9l8opktRrNeFHVnisZdQ5404",{api_host:"https://eu.i.posthog.com",autocapture:!1,capture_pageview:!1}),await TT(),await fe.initialize(),hC();const e=document.querySelector("#root");if(!e)throw new Error("Root element not found");V0(e).render(i.jsx(zje,{})),xQ()})();
