import{M as j,c as b}from"./__vite-browser-external-B3eMZhj8.js";import{u as w,b as S,j as e,M as v,c as R,S as l,I as y,T as t,P as E,d as P,B as c,D as M,a as U,e as C,G as T,f as I,A}from"./mantime-DzxuLKfp.js";import{b as L,c as k,F as D,I as F,i as q}from"./index-BKfNB2Nq.js";import{r as n}from"./react-DmHxDqaV.js";import{D as z,E as B}from"./index-UBFJdVSz.js";import"./codemirror-C1Jmd34s.js";import"./surreal-DG7xeRSZ.js";import"./posthog-BV-AQckr.js";function G(){const a=L(),[d,h]=w("",750),[m,u]=n.useState(),[p,o]=S(),i=n.useRef(null),x=k(g=>{const s={...z},f=g.target.value,r=new URL(f).searchParams;s.setup=r.get("setup")||s.setup,s.query=r.get("query")||s.query,s.variables=r.get("variables")||s.variables,s.dataset=r.get("dataset")||s.dataset,s.orientation=r.get("orientation")||s.orientation,s.transparent=r.has("transparent")||s.transparent,s.nonumbers=r.has("nonumbers")||s.nonumbers,u(s),o.close()});return n.useEffect(()=>{window.FRAME=i.current?.contentWindow},[]),e.jsx(D,{children:e.jsx(v,{withCssVariables:!0,theme:j,forceColorScheme:"dark",children:e.jsxs(R,{h:"100vh",bg:"slate.9",viewportProps:{style:{paddingBottom:50,paddingInline:24}},children:[e.jsxs(l,{py:35,children:[e.jsx(y,{src:a,w:250,mx:"auto"}),e.jsx(t,{ta:"center",fw:600,fz:"xl",children:"Mini generator"})]}),e.jsx(E,{maw:1500,p:"xl",mx:"auto",children:e.jsxs(P,{cols:2,spacing:52,children:[e.jsx(B,{value:m,onChangeURL:h}),e.jsxs(l,{gap:"lg",children:[e.jsxs(c,{children:[e.jsx(t,{fw:600,fz:"lg",mb:2,c:"bright",children:"Mini Preview"}),e.jsx(t,{c:"slate.2",mb:"lg",children:"The preview will automatically reload after making changes"}),e.jsx("iframe",{ref:i,width:"100%",height:"500",src:d,title:"Surrealist Mini",referrerPolicy:"strict-origin-when-cross-origin",style:{border:"none",borderRadius:24}})]}),e.jsx(M,{}),e.jsxs(c,{children:[e.jsx(t,{fw:600,fz:"lg",mb:2,c:"bright",children:"Restore editor"}),e.jsx(t,{c:"slate.2",mb:"sm",children:"Optionally paste in an existing mini URL to restore the editor"}),e.jsx(U,{size:"sm",color:"slate",onClick:o.open,children:"Restore from URL"}),e.jsx(C,{opened:p,onClose:o.close,children:e.jsxs(T,{children:[e.jsx(I,{onChange:x,spellCheck:!1,placeholder:"Paste your mini URL here",flex:1}),e.jsx(A,{onClick:o.close,children:e.jsx(F,{path:q})})]})})]})]})]})})]})})})}(async()=>{const a=document.querySelector("#root");if(!a)throw new Error("Root element not found");b(a).render(e.jsx(G,{}))})();
